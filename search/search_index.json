{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"index.html","title":"Django REST Framework Learning Guide","text":""},{"location":"index.html#welcome","title":"Welcome! \ud83d\udc4b","text":"<p>This comprehensive guide will take you from a complete beginner to an expert in Django REST Framework (DRF). Whether you're new to Python web development or have some experience, this structured learning path will help you master building REST APIs with Django.</p>"},{"location":"index.html#learning-path-overview","title":"\ud83d\udcda Learning Path Overview","text":"<p>This guide is divided into 6 levels, each building upon the previous one:</p> <ul> <li>Level 0: Complete Beginner - Python basics, web concepts, and environment setup</li> <li>Level 1: Foundations - Django basics, REST fundamentals, and your first API</li> <li>Level 2: Intermediate - Authentication, permissions, filtering, and pagination</li> <li>Level 3: Advanced - Relationships, nested serializers, and query optimization</li> <li>Level 4: Scalable - Caching, versioning, file uploads, and async views</li> <li>Level 5: Expert - Production deployment, GraphQL, WebSockets, and CI/CD</li> </ul>"},{"location":"index.html#time-estimates","title":"\u23f1\ufe0f Time Estimates","text":"Level Estimated Time Difficulty Level 0 2-4 hours \u2b50 Beginner Level 1 8-12 hours \u2b50 Beginner Level 2 10-15 hours \u2b50\u2b50 Intermediate Level 3 12-18 hours \u2b50\u2b50\u2b50 Advanced Level 4 15-20 hours \u2b50\u2b50\u2b50 Advanced Level 5 20-30 hours \u2b50\u2b50\u2b50 Expert <p>Total Estimated Time: 67-99 hours (approximately 2-3 months of part-time study)</p>"},{"location":"index.html#prerequisites","title":"\ud83d\udccb Prerequisites","text":""},{"location":"index.html#required-knowledge","title":"Required Knowledge","text":"<p>Before starting Level 0, you should have:</p> <ul> <li>\u2705 Basic Python knowledge:</li> <li>Variables, data types (strings, integers, lists, dictionaries)</li> <li>Functions and classes</li> <li>Basic file operations</li> <li> <p>Understanding of imports and modules</p> </li> <li> <p>\u2705 Command line basics:</p> </li> <li>How to navigate directories (<code>cd</code>, <code>ls</code>, <code>dir</code>)</li> <li>How to run Python scripts</li> <li> <p>Basic file operations</p> </li> <li> <p>\u2705 Text editor/IDE:</p> </li> <li>VS Code, PyCharm, or any code editor</li> <li>Comfortable writing and editing code</li> </ul>"},{"location":"index.html#optional-helpful-but-not-required","title":"Optional (Helpful but Not Required)","text":"<ul> <li>Basic understanding of HTML/CSS</li> <li>Familiarity with JSON format</li> <li>Basic understanding of databases (what they are, not how to use them)</li> <li>Git basics (helpful for version control)</li> </ul>"},{"location":"index.html#what-you-dont-need","title":"What You DON'T Need","text":"<ul> <li>\u274c Previous Django experience (we'll teach you!)</li> <li>\u274c Web development experience</li> <li>\u274c Database administration knowledge</li> <li>\u274c Advanced Python (we'll cover what you need)</li> </ul>"},{"location":"index.html#how-to-use-this-guide","title":"\ud83c\udfaf How to Use This Guide","text":""},{"location":"index.html#step-by-step-approach","title":"Step-by-Step Approach","text":"<ol> <li>Start with Level 0 - Even if you think you know Python, Level 0 covers essential concepts for web development</li> <li>Complete each level in order - Don't skip ahead; each level builds on the previous</li> <li>Do the exercises - Practice is essential for learning</li> <li>Try the trivia - Test your understanding</li> <li>Build projects - Apply what you learn in real projects</li> </ol>"},{"location":"index.html#learning-tips","title":"Learning Tips","text":"<ul> <li>Read the explanations - Don't just copy code; understand WHY</li> <li>Experiment - Try modifying examples to see what happens</li> <li>Ask questions - If something doesn't make sense, research it</li> <li>Take breaks - Learning takes time; don't rush</li> <li>Build something - Create your own API project alongside the guide</li> </ul>"},{"location":"index.html#tools-youll-need","title":"\ud83d\udee0\ufe0f Tools You'll Need","text":""},{"location":"index.html#required-software","title":"Required Software","text":"<ol> <li>Python 3.8+ - Download here</li> <li>Code Editor - VS Code (recommended) or PyCharm</li> <li>Terminal/Command Prompt - Built into your OS</li> <li>Web Browser - Chrome, Firefox, or Edge</li> </ol>"},{"location":"index.html#optional-tools","title":"Optional Tools","text":"<ul> <li>Postman - For testing APIs (we'll use cURL, but Postman is easier)</li> <li>Git - For version control</li> <li>Docker - For containerization (Level 5)</li> </ul>"},{"location":"index.html#guide-structure","title":"\ud83d\udcd6 Guide Structure","text":"<p>Each level follows this structure:</p> <ol> <li>Goal - What you'll learn</li> <li>Concepts - Theoretical understanding</li> <li>Step-by-Step Tutorials - Hands-on practice</li> <li>Code Examples - Real-world examples with explanations</li> <li>Exercises - Practice problems</li> <li>Trivia - Quick knowledge checks</li> <li>Add-ons - Optional advanced topics</li> </ol>"},{"location":"index.html#quick-start","title":"\ud83d\ude80 Quick Start","text":""},{"location":"index.html#for-complete-beginners","title":"For Complete Beginners","text":"<ol> <li>Start with LEVEL_0_BEGINNER.md</li> <li>Follow each section carefully</li> <li>Complete all exercises</li> <li>Move to Level 1 when comfortable</li> </ol>"},{"location":"index.html#for-those-with-python-experience","title":"For Those with Python Experience","text":"<ol> <li>Skim LEVEL_0_BEGINNER.md - Focus on web concepts</li> <li>Start with LEVEL_1_FOUNDATIONS.md</li> <li>Complete exercises to ensure understanding</li> </ol>"},{"location":"index.html#for-those-with-django-experience","title":"For Those with Django Experience","text":"<ol> <li>Review LEVEL_1_FOUNDATIONS.md - Focus on DRF-specific parts</li> <li>Start with LEVEL_2_INTERMEDIATE.md for authentication</li> <li>Use other levels as reference</li> </ol>"},{"location":"index.html#troubleshooting","title":"\ud83d\udc1b Troubleshooting","text":""},{"location":"index.html#common-issues","title":"Common Issues","text":""},{"location":"index.html#virtual-environment-problems","title":"Virtual Environment Problems","text":"<p>Problem: <code>python -m venv venv</code> doesn't work - Solution: Make sure Python is installed and in your PATH - Check: Run <code>python --version</code> (should be 3.8+)</p> <p>Problem: Can't activate virtual environment - Windows: Use <code>venv\\Scripts\\activate</code> (not <code>venv/bin/activate</code>) - Linux/Mac: Use <code>source venv/bin/activate</code> - Check: Your prompt should show <code>(venv)</code> when activated</p>"},{"location":"index.html#django-installation-issues","title":"Django Installation Issues","text":"<p>Problem: <code>pip install django</code> fails - Solution: Make sure virtual environment is activated - Check: Run <code>which pip</code> (should point to venv)</p> <p>Problem: <code>django-admin</code> command not found - Solution: Make sure Django is installed: <code>pip install django</code> - Check: Run <code>pip list</code> to see installed packages</p>"},{"location":"index.html#database-migration-errors","title":"Database Migration Errors","text":"<p>Problem: <code>makemigrations</code> shows no changes - Solution: Make sure your model is in <code>models.py</code> and app is in <code>INSTALLED_APPS</code> - Check: Verify model class is properly defined</p> <p>Problem: <code>migrate</code> fails with errors - Solution: Check for syntax errors in models - Check: Ensure all dependencies are installed</p>"},{"location":"index.html#import-errors","title":"Import Errors","text":"<p>Problem: <code>ModuleNotFoundError: No module named 'rest_framework'</code> - Solution: Install DRF: <code>pip install djangorestframework</code> - Check: Add <code>'rest_framework'</code> to <code>INSTALLED_APPS</code></p> <p>Problem: <code>ImportError: cannot import name 'X'</code> - Solution: Check spelling and ensure the module exists - Check: Verify you're in the correct directory</p>"},{"location":"index.html#getting-help","title":"Getting Help","text":"<ol> <li>Check the error message - Django/DRF errors are usually descriptive</li> <li>Read the documentation - Links provided in each level</li> <li>Search Stack Overflow - Most issues have been solved</li> <li>Check your code - Compare with examples in the guide</li> <li>Ask in Django communities - Django Discord, Reddit r/django</li> </ol>"},{"location":"index.html#additional-resources","title":"\ud83d\udcda Additional Resources","text":""},{"location":"index.html#official-documentation","title":"Official Documentation","text":"<ul> <li>Django Documentation</li> <li>Django REST Framework</li> <li>Python Documentation</li> </ul>"},{"location":"index.html#recommended-reading","title":"Recommended Reading","text":"<ul> <li>Two Scoops of Django - Best practices book</li> <li>Django for Beginners - Great for understanding Django</li> <li>Real Python - Excellent Python and Django tutorials</li> </ul>"},{"location":"index.html#video-resources","title":"Video Resources","text":"<ul> <li>Django REST Framework Official Tutorial (YouTube)</li> <li>Corey Schafer's Django Tutorial Series</li> <li>Real Python Django REST Framework Course</li> </ul>"},{"location":"index.html#progress-checklist","title":"\u2705 Progress Checklist","text":"<p>Track your progress through each level:</p> <ul> <li>[ ] Level 0: Complete Beginner</li> <li>[ ] Python basics review</li> <li>[ ] Web concepts understood</li> <li>[ ] Environment set up</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 1: Foundations</p> </li> <li>[ ] First API created</li> <li>[ ] Models, Serializers, Views understood</li> <li>[ ] CRUD operations working</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 2: Intermediate</p> </li> <li>[ ] Authentication implemented</li> <li>[ ] Permissions working</li> <li>[ ] Filtering and search added</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 3: Advanced</p> </li> <li>[ ] Relationships understood</li> <li>[ ] Nested serializers working</li> <li>[ ] Query optimization applied</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 4: Scalable</p> </li> <li>[ ] Caching implemented</li> <li>[ ] File uploads working</li> <li>[ ] API versioning set up</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 5: Expert</p> </li> <li>[ ] Production deployment done</li> <li>[ ] CI/CD pipeline working</li> <li>[ ] Monitoring set up</li> <li>[ ] All exercises completed</li> </ul>"},{"location":"index.html#next-steps-after-completion","title":"\ud83c\udf93 Next Steps After Completion","text":"<p>Once you've completed all levels:</p> <ol> <li>Build a real project - Apply your knowledge</li> <li>Contribute to open source - Django/DRF projects need help</li> <li>Read the source code - Understand how DRF works internally</li> <li>Teach others - Teaching reinforces learning</li> <li>Stay updated - Follow Django and DRF updates</li> </ol>"},{"location":"index.html#tips-for-success","title":"\ud83d\udca1 Tips for Success","text":"<ol> <li>Practice regularly - Code every day, even if just 30 minutes</li> <li>Build projects - Don't just follow tutorials; create something</li> <li>Read error messages - They tell you exactly what's wrong</li> <li>Use version control - Git helps you experiment safely</li> <li>Join communities - Learn from others</li> <li>Don't give up - Programming is hard, but you can do it!</li> </ol>"},{"location":"index.html#ready-to-start","title":"\ud83c\udf89 Ready to Start?","text":"<p>Begin your journey with LEVEL_0_BEGINNER.md!</p> <p>Good luck, and happy coding! \ud83d\ude80</p> <p>Note: This guide is a living document. If you find errors or have suggestions, please contribute!</p>"},{"location":"CURL_GUIDE.html","title":"cURL Command Guide for API Testing","text":""},{"location":"CURL_GUIDE.html#overview","title":"Overview","text":"<p>cURL (Client URL) is a command-line tool for making HTTP requests. It's the most reliable way to test REST APIs and is available on all operating systems. This guide will teach you how to use cURL to test your Django REST Framework APIs.</p>"},{"location":"CURL_GUIDE.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>What is cURL?</li> <li>Installation</li> <li>Basic Requests</li> <li>Headers and Content Types</li> <li>Authentication</li> <li>File Uploads</li> <li>Advanced Usage</li> <li>Examples by DRF Level</li> <li>Troubleshooting</li> </ol>"},{"location":"CURL_GUIDE.html#what-is-curl","title":"What is cURL?","text":"<p>cURL is a command-line tool that allows you to transfer data to or from a server using various protocols (HTTP, HTTPS, FTP, etc.). For API testing, we primarily use it for HTTP/HTTPS requests.</p> <p>Why use cURL? - Available on all platforms - No GUI needed - works in terminal - Scriptable and automatable - Shows raw HTTP requests/responses - Industry standard for API testing</p>"},{"location":"CURL_GUIDE.html#installation","title":"Installation","text":""},{"location":"CURL_GUIDE.html#linux","title":"Linux","text":"<p>Most Linux distributions come with cURL pre-installed. If not:</p> <pre><code># Ubuntu/Debian\nsudo apt install curl\n\n# CentOS/RHEL\nsudo yum install curl\n\n# Verify installation\ncurl --version\n</code></pre>"},{"location":"CURL_GUIDE.html#macos","title":"macOS","text":"<p>cURL comes pre-installed. Verify:</p> <pre><code>curl --version\n</code></pre>"},{"location":"CURL_GUIDE.html#windows","title":"Windows","text":"<p>Option 1: Windows 10/11 (Built-in) - cURL is included in Windows 10 version 1803 and later - Open PowerShell or Command Prompt and type: <code>curl --version</code></p> <p>Option 2: Download - Download from curl.se/windows/ - Or use Git Bash (includes cURL)</p> <p>Option 3: Using Chocolatey</p> <pre><code>choco install curl\n</code></pre>"},{"location":"CURL_GUIDE.html#basic-requests","title":"Basic Requests","text":""},{"location":"CURL_GUIDE.html#get-request","title":"GET Request","text":"<p>The simplest request - fetching data:</p> <pre><code># Basic GET request\ncurl http://localhost:8000/api/tasks/\n\n# With verbose output (see headers)\ncurl -v http://localhost:8000/api/tasks/\n\n# Pretty print JSON response (requires jq)\ncurl http://localhost:8000/api/tasks/ | jq\n\n# Save response to file\ncurl http://localhost:8000/api/tasks/ -o response.json\n\n# Follow redirects\ncurl -L http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#post-request","title":"POST Request","text":"<p>Creating new resources:</p> <pre><code># Basic POST with JSON data\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Learn DRF\", \"desc\": \"Complete the learning guide\", \"completed\": false}'\n\n# POST with data from file\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d @data.json\n\n# POST with form data\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -d \"title=Learn DRF\" \\\n  -d \"desc=Complete the learning guide\" \\\n  -d \"completed=false\"\n</code></pre>"},{"location":"CURL_GUIDE.html#put-request","title":"PUT Request","text":"<p>Full update of a resource:</p> <pre><code>curl -X PUT http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Updated Task\", \"desc\": \"Updated description\", \"completed\": true}'\n</code></pre>"},{"location":"CURL_GUIDE.html#patch-request","title":"PATCH Request","text":"<p>Partial update of a resource:</p> <pre><code>curl -X PATCH http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"completed\": true}'\n</code></pre>"},{"location":"CURL_GUIDE.html#delete-request","title":"DELETE Request","text":"<p>Deleting a resource:</p> <pre><code>curl -X DELETE http://localhost:8000/api/tasks/1/\n</code></pre>"},{"location":"CURL_GUIDE.html#headers-and-content-types","title":"Headers and Content Types","text":""},{"location":"CURL_GUIDE.html#setting-headers","title":"Setting Headers","text":"<pre><code># Single header\ncurl -H \"Content-Type: application/json\" http://localhost:8000/api/tasks/\n\n# Multiple headers\ncurl -H \"Content-Type: application/json\" \\\n     -H \"Accept: application/json\" \\\n     http://localhost:8000/api/tasks/\n\n# Custom header\ncurl -H \"X-Custom-Header: my-value\" http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#common-headers","title":"Common Headers","text":"<pre><code># JSON content\ncurl -H \"Content-Type: application/json\" ...\n\n# XML content\ncurl -H \"Content-Type: application/xml\" ...\n\n# Accept only JSON response\ncurl -H \"Accept: application/json\" ...\n\n# User agent\ncurl -H \"User-Agent: MyApp/1.0\" ...\n</code></pre>"},{"location":"CURL_GUIDE.html#authentication","title":"Authentication","text":""},{"location":"CURL_GUIDE.html#basic-authentication","title":"Basic Authentication","text":"<pre><code># Basic auth (username:password)\ncurl -u username:password http://localhost:8000/api/tasks/\n\n# Or with header\ncurl -H \"Authorization: Basic $(echo -n 'username:password' | base64)\" \\\n  http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#bearer-token-jwt","title":"Bearer Token (JWT)","text":"<pre><code># With Bearer token\ncurl -H \"Authorization: Bearer your_jwt_token_here\" \\\n  http://localhost:8000/api/tasks/\n\n# Store token in variable (bash)\nTOKEN=\"your_jwt_token_here\"\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#getting-jwt-token","title":"Getting JWT Token","text":"<pre><code># Login to get token\ncurl -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"admin\", \"password\": \"password123\"}' \\\n  | jq -r '.access'\n\n# Save token to variable\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"admin\", \"password\": \"password123\"}' \\\n  | jq -r '.access')\n\n# Use token in subsequent requests\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#file-uploads","title":"File Uploads","text":""},{"location":"CURL_GUIDE.html#upload-single-file","title":"Upload Single File","text":"<pre><code># Upload file\ncurl -X POST http://localhost:8000/api/tasks/1/upload/ \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -F \"file=@/path/to/file.pdf\"\n\n# Upload with additional data\ncurl -X POST http://localhost:8000/api/tasks/1/upload/ \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -F \"file=@/path/to/file.pdf\" \\\n  -F \"description=Task attachment\"\n</code></pre>"},{"location":"CURL_GUIDE.html#upload-multiple-files","title":"Upload Multiple Files","text":"<pre><code>curl -X POST http://localhost:8000/api/tasks/1/upload/ \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -F \"files=@/path/to/file1.pdf\" \\\n  -F \"files=@/path/to/file2.jpg\"\n</code></pre>"},{"location":"CURL_GUIDE.html#advanced-usage","title":"Advanced Usage","text":""},{"location":"CURL_GUIDE.html#verbose-mode","title":"Verbose Mode","text":"<p>See full request/response details:</p> <pre><code>curl -v http://localhost:8000/api/tasks/\n\n# Shows:\n# - Request headers\n# - Response headers\n# - SSL handshake (if HTTPS)\n# - Connection details\n</code></pre>"},{"location":"CURL_GUIDE.html#silent-mode","title":"Silent Mode","text":"<p>Suppress progress meter:</p> <pre><code>curl -s http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#show-only-response-headers","title":"Show Only Response Headers","text":"<pre><code>curl -I http://localhost:8000/api/tasks/\n\n# Or\ncurl -D - http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#follow-redirects","title":"Follow Redirects","text":"<pre><code>curl -L http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#timeout","title":"Timeout","text":"<pre><code># Set timeout to 10 seconds\ncurl --max-time 10 http://localhost:8000/api/tasks/\n\n# Connection timeout\ncurl --connect-timeout 5 http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#save-response-headers","title":"Save Response Headers","text":"<pre><code># Save headers to file\ncurl -D headers.txt http://localhost:8000/api/tasks/\n\n# Save both headers and body\ncurl -D headers.txt -o response.json http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#pretty-print-json","title":"Pretty Print JSON","text":"<pre><code># Using jq (install: sudo apt install jq)\ncurl http://localhost:8000/api/tasks/ | jq\n\n# Using python\ncurl http://localhost:8000/api/tasks/ | python -m json.tool\n</code></pre>"},{"location":"CURL_GUIDE.html#examples-by-drf-level","title":"Examples by DRF Level","text":""},{"location":"CURL_GUIDE.html#level-1-basic-crud-operations","title":"Level 1: Basic CRUD Operations","text":"<pre><code># GET - List all tasks\ncurl http://localhost:8000/api/tasks/\n\n# GET - Retrieve single task\ncurl http://localhost:8000/api/tasks/1/\n\n# POST - Create new task\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"title\": \"Learn DRF\",\n    \"desc\": \"Complete Level 1\",\n    \"completed\": false\n  }'\n\n# PUT - Update task\ncurl -X PUT http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"title\": \"Learn DRF - Updated\",\n    \"desc\": \"Completed Level 1\",\n    \"completed\": true\n  }'\n\n# PATCH - Partial update\ncurl -X PATCH http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"completed\": true}'\n\n# DELETE - Delete task\ncurl -X DELETE http://localhost:8000/api/tasks/1/\n</code></pre>"},{"location":"CURL_GUIDE.html#level-2-authenticated-requests","title":"Level 2: Authenticated Requests","text":"<pre><code># Step 1: Get JWT token\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"admin\", \"password\": \"password123\"}' \\\n  | python -c \"import sys, json; print(json.load(sys.stdin)['access'])\")\n\n# Step 2: Use token in requests\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n\n# Create task with authentication\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"title\": \"Private Task\",\n    \"desc\": \"Only visible to authenticated users\",\n    \"completed\": false\n  }'\n\n# Refresh token\nREFRESH_TOKEN=$(curl -s -X POST http://localhost:8000/api/token/refresh/ \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{\\\"refresh\\\": \\\"$REFRESH_TOKEN\\\"}\" \\\n  | python -c \"import sys, json; print(json.load(sys.stdin)['access'])\")\n</code></pre>"},{"location":"CURL_GUIDE.html#level-3-complex-nested-data","title":"Level 3: Complex Nested Data","text":"<pre><code># POST with nested relationships\ncurl -X POST http://localhost:8000/api/posts/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"title\": \"My First Post\",\n    \"content\": \"This is the content\",\n    \"author\": 1,\n    \"tags\": [1, 2, 3],\n    \"comments\": [\n      {\n        \"content\": \"Great post!\",\n        \"author\": 2\n      }\n    ]\n  }'\n\n# GET with nested data\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/posts/1/\n</code></pre>"},{"location":"CURL_GUIDE.html#level-4-file-uploads-and-versioned-apis","title":"Level 4: File Uploads and Versioned APIs","text":"<pre><code># File upload\ncurl -X POST http://localhost:8000/api/v1/tasks/1/attachments/ \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -F \"file=@/path/to/document.pdf\" \\\n  -F \"description=Task attachment\"\n\n# Versioned API (v1)\ncurl http://localhost:8000/api/v1/tasks/\n\n# Versioned API (v2)\ncurl http://localhost:8000/api/v2/tasks/\n\n# With version header\ncurl -H \"Accept: application/json; version=2\" \\\n  http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#level-5-graphql-queries","title":"Level 5: GraphQL Queries","text":"<pre><code># GraphQL query\ncurl -X POST http://localhost:8000/graphql/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"query\": \"query { tasks { id title completed } }\"\n  }'\n\n# GraphQL mutation\ncurl -X POST http://localhost:8000/graphql/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"query\": \"mutation { createTask(title: \\\"New Task\\\") { id title } }\"\n  }'\n</code></pre>"},{"location":"CURL_GUIDE.html#common-curl-flags-reference","title":"Common cURL Flags Reference","text":"Flag Description <code>-X METHOD</code> HTTP method (GET, POST, PUT, DELETE, etc.) <code>-H \"Header: value\"</code> Add header <code>-d \"data\"</code> Send data in request body <code>-F \"name=value\"</code> Form data (for file uploads) <code>-u user:pass</code> Basic authentication <code>-v</code> Verbose output <code>-s</code> Silent mode (no progress) <code>-i</code> Include response headers <code>-I</code> Head request (headers only) <code>-L</code> Follow redirects <code>-o file</code> Save output to file <code>-O</code> Save with remote filename <code>-D file</code> Save headers to file <code>--max-time SEC</code> Maximum time for request <code>--connect-timeout SEC</code> Connection timeout <code>-k</code> Allow insecure SSL connections <code>-c file</code> Save cookies to file <code>-b file</code> Load cookies from file"},{"location":"CURL_GUIDE.html#converting-postman-to-curl","title":"Converting Postman to cURL","text":""},{"location":"CURL_GUIDE.html#in-postman","title":"In Postman","text":"<ol> <li>Open your request in Postman</li> <li>Click \"Code\" button (bottom left)</li> <li>Select \"cURL\" from dropdown</li> <li>Copy the generated cURL command</li> </ol>"},{"location":"CURL_GUIDE.html#manual-conversion-tips","title":"Manual Conversion Tips","text":"<ul> <li>Headers: Each header becomes <code>-H \"Header: value\"</code></li> <li>Body: JSON becomes <code>-d '{\"key\": \"value\"}'</code></li> <li>Auth: Bearer token becomes <code>-H \"Authorization: Bearer token\"</code></li> <li>Files: Use <code>-F \"file=@path/to/file\"</code></li> </ul>"},{"location":"CURL_GUIDE.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"CURL_GUIDE.html#common-issues","title":"Common Issues","text":""},{"location":"CURL_GUIDE.html#1-connection-refused","title":"1. Connection Refused","text":"<pre><code># Check if server is running\ncurl http://localhost:8000/api/tasks/\n\n# Error: Connection refused\n# Solution: Start Django server\npython manage.py runserver\n</code></pre>"},{"location":"CURL_GUIDE.html#2-404-not-found","title":"2. 404 Not Found","text":"<pre><code># Check URL is correct\ncurl -v http://localhost:8000/api/tasks/\n\n# Verify URL patterns in Django\npython manage.py show_urls  # If installed\n</code></pre>"},{"location":"CURL_GUIDE.html#3-401-unauthorized","title":"3. 401 Unauthorized","text":"<pre><code># Missing or invalid token\n# Solution: Get new token\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"user\", \"password\": \"pass\"}' \\\n  | jq -r '.access')\n</code></pre>"},{"location":"CURL_GUIDE.html#4-400-bad-request","title":"4. 400 Bad Request","text":"<pre><code># Check JSON syntax\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Test\"}'  # Valid JSON\n\n# Use verbose mode to see error details\ncurl -v -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Test\"}'\n</code></pre>"},{"location":"CURL_GUIDE.html#5-ssl-certificate-errors","title":"5. SSL Certificate Errors","text":"<pre><code># For development (not recommended for production)\ncurl -k https://api.example.com/\n\n# Or specify certificate\ncurl --cacert /path/to/cert.pem https://api.example.com/\n</code></pre>"},{"location":"CURL_GUIDE.html#debugging-tips","title":"Debugging Tips","text":"<ol> <li>Use verbose mode: <code>curl -v</code> shows full request/response</li> <li>Check response headers: <code>curl -I</code> shows only headers</li> <li>Save responses: <code>curl -o response.json</code> to inspect later</li> <li>Test with simple request first: Start with GET before POST</li> <li>Validate JSON: Use <code>jq</code> or <code>python -m json.tool</code></li> </ol>"},{"location":"CURL_GUIDE.html#practice-exercises","title":"Practice Exercises","text":""},{"location":"CURL_GUIDE.html#exercise-1-basic-crud","title":"Exercise 1: Basic CRUD","text":"<pre><code># 1. List all tasks\ncurl http://localhost:8000/api/tasks/\n\n# 2. Create a task\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Exercise Task\", \"completed\": false}'\n\n# 3. Get the created task (use ID from step 2)\ncurl http://localhost:8000/api/tasks/1/\n\n# 4. Update the task\ncurl -X PATCH http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"completed\": true}'\n\n# 5. Delete the task\ncurl -X DELETE http://localhost:8000/api/tasks/1/\n</code></pre>"},{"location":"CURL_GUIDE.html#exercise-2-authentication-flow","title":"Exercise 2: Authentication Flow","text":"<pre><code># 1. Register a user\ncurl -X POST http://localhost:8000/api/register/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"testuser\", \"password\": \"testpass123\", \"email\": \"test@example.com\"}'\n\n# 2. Get JWT token\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"testuser\", \"password\": \"testpass123\"}' \\\n  | jq -r '.access')\n\n# 3. Use token to access protected endpoint\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#next-steps","title":"Next Steps","text":"<p>Now that you know cURL basics:</p> <ol> <li>Practice with your Level 1 API</li> <li>Use cURL to test all endpoints</li> <li>Create a script with common requests</li> <li>Refer back to this guide as you progress through levels</li> </ol> <p>For more information: - cURL Official Documentation - HTTPie - Alternative to cURL with better UX - Postman - GUI alternative</p> <p>Ready to test your APIs? Use these cURL commands as you work through each level of the Learning Guide!</p>"},{"location":"LEVEL_0_BEGINNER.html","title":"Level 0: Complete Beginner - Python &amp; Web Fundamentals","text":""},{"location":"LEVEL_0_BEGINNER.html#goal","title":"Goal","text":"<p>Before diving into Django REST Framework, you need to understand the fundamentals. This level covers Python basics for web development, web concepts, and environment setup. By the end, you'll be ready to start building APIs with Django.</p>"},{"location":"LEVEL_0_BEGINNER.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Why Learn This?</li> <li>Python Basics for Web Development</li> <li>Understanding the Web</li> <li>What is an API?</li> <li>Environment Setup Explained</li> <li>Virtual Environments - Why and How</li> <li>Understanding JSON</li> <li>HTTP Basics</li> <li>Command Line Essentials</li> <li>Practice Problems</li> <li>Trivia</li> </ol>"},{"location":"LEVEL_0_BEGINNER.html#why-learn-this","title":"Why Learn This?","text":""},{"location":"LEVEL_0_BEGINNER.html#what-is-django-rest-framework","title":"What is Django REST Framework?","text":"<p>Django REST Framework (DRF) is a powerful toolkit for building Web APIs in Django. Think of it as a set of tools that makes it easy to create APIs that can be used by web applications, mobile apps, or any other client.</p>"},{"location":"LEVEL_0_BEGINNER.html#why-use-drf","title":"Why Use DRF?","text":"<ul> <li>Fast Development: Build APIs quickly with less code</li> <li>Powerful Features: Authentication, permissions, serialization built-in</li> <li>Well Documented: Excellent documentation and community</li> <li>Industry Standard: Used by many companies worldwide</li> <li>Flexible: Works with any frontend (React, Vue, mobile apps)</li> </ul>"},{"location":"LEVEL_0_BEGINNER.html#what-youll-build","title":"What You'll Build","text":"<p>By the end of this guide, you'll be able to build: - REST APIs for web applications - Backends for mobile apps - Microservices - Data APIs for analytics - Integration APIs for third-party services</p>"},{"location":"LEVEL_0_BEGINNER.html#python-basics-for-web-development","title":"Python Basics for Web Development","text":""},{"location":"LEVEL_0_BEGINNER.html#variables-and-data-types","title":"Variables and Data Types","text":"<p>Why this matters: APIs work with data. Understanding Python data types helps you understand how APIs handle data.</p> <pre><code># Strings - Text data (like names, descriptions)\nname = \"John Doe\"\ndescription = \"A book about Python\"\n\n# Integers - Whole numbers (like IDs, counts)\nbook_id = 1\npage_count = 250\n\n# Floats - Decimal numbers (like prices)\nprice = 29.99\n\n# Booleans - True/False (like completion status)\nis_published = True\nis_available = False\n\n# Lists - Ordered collections (like arrays of items)\nbooks = [\"Book 1\", \"Book 2\", \"Book 3\"]\nnumbers = [1, 2, 3, 4, 5]\n\n# Dictionaries - Key-value pairs (like JSON objects)\nbook = {\n    \"id\": 1,\n    \"title\": \"Python Guide\",\n    \"author\": \"John Doe\",\n    \"price\": 29.99\n}\n</code></pre> <p>Explanation:  - Strings are used for text data in APIs (titles, descriptions, names) - Integers/Floats are used for numeric data (IDs, prices, counts) - Booleans are used for yes/no states (published, completed, active) - Lists are used for collections of items (list of books, list of users) - Dictionaries are the most important - they represent JSON objects in APIs</p>"},{"location":"LEVEL_0_BEGINNER.html#functions","title":"Functions","text":"<p>Why this matters: Views in Django are functions (or methods). Understanding functions helps you understand how APIs process requests.</p> <pre><code># Basic function\ndef greet(name):\n    return f\"Hello, {name}!\"\n\n# Function with multiple parameters\ndef create_book(title, author, price):\n    book = {\n        \"title\": title,\n        \"author\": author,\n        \"price\": price\n    }\n    return book\n\n# Function that processes data (like an API endpoint)\ndef get_book_info(book_id):\n    # In a real API, this would fetch from database\n    if book_id == 1:\n        return {\"id\": 1, \"title\": \"Python Guide\", \"author\": \"John\"}\n    else:\n        return None\n\n# Using functions\nresult = greet(\"Alice\")\nbook = create_book(\"Django Guide\", \"Jane\", 39.99)\ninfo = get_book_info(1)\n</code></pre> <p>Explanation:  - Functions are reusable blocks of code - In APIs, each endpoint is like a function that processes a request - Functions take input (parameters) and return output (response) - This is exactly how API endpoints work!</p>"},{"location":"LEVEL_0_BEGINNER.html#classes-and-objects","title":"Classes and Objects","text":"<p>Why this matters: Django uses classes extensively. Models, Views, Serializers are all classes.</p> <pre><code># Define a class (like a blueprint)\nclass Book:\n    def __init__(self, title, author, price):\n        # __init__ is called when creating an object\n        self.title = title\n        self.author = author\n        self.price = price\n\n    def get_info(self):\n        # Method (function inside a class)\n        return f\"{self.title} by {self.author} - ${self.price}\"\n\n# Create objects (instances) from the class\nbook1 = Book(\"Python Guide\", \"John\", 29.99)\nbook2 = Book(\"Django Guide\", \"Jane\", 39.99)\n\n# Use the objects\nprint(book1.get_info())  # \"Python Guide by John - $29.99\"\nprint(book2.title)       # \"Django Guide\"\n</code></pre> <p>Explanation: - Class = Blueprint (like a cookie cutter) - Object = Instance created from class (like a cookie) - Methods = Functions inside a class - In Django, <code>Book</code> model is a class, and each book in database is an object</p>"},{"location":"LEVEL_0_BEGINNER.html#importing-modules","title":"Importing Modules","text":"<p>Why this matters: Django and DRF are modules you import. Understanding imports is essential.</p> <pre><code># Import entire module\nimport json\nimport datetime\n\n# Import specific functions/classes\nfrom datetime import date\nfrom json import loads, dumps\n\n# Import with alias\nimport django.db.models as models\n\n# Using imports\ntoday = date.today()\ndata = loads('{\"key\": \"value\"}')  # Parse JSON string\n</code></pre> <p>Explanation: - Python code is organized in modules (files) and packages (folders) - <code>import</code> brings code from other files into your current file - Django uses imports extensively: <code>from django.db import models</code> - DRF uses imports: <code>from rest_framework import serializers</code></p>"},{"location":"LEVEL_0_BEGINNER.html#understanding-the-web","title":"Understanding the Web","text":""},{"location":"LEVEL_0_BEGINNER.html#how-the-web-works","title":"How the Web Works","text":"<p>Client-Server Model:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         HTTP Request          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Client  \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt; \u2502 Server \u2502\n\u2502(Browser)\u2502                                \u2502(Django)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 &lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            HTTP Response (JSON/HTML)\n</code></pre> <p>Explanation: - Client = Your browser, mobile app, or any application making requests - Server = Django application running on a computer - Request = Client asks for data (\"Give me all books\") - Response = Server sends back data (JSON with book list) - HTTP = Protocol (language) they use to communicate</p>"},{"location":"LEVEL_0_BEGINNER.html#what-happens-when-you-visit-a-website","title":"What Happens When You Visit a Website?","text":"<ol> <li>You type URL \u2192 <code>http://localhost:8000/api/books/</code></li> <li>Browser sends HTTP GET request \u2192 \"Hey server, give me the books list\"</li> <li>Server processes request \u2192 Django runs code, queries database</li> <li>Server sends response \u2192 JSON data with books</li> <li>Browser displays data \u2192 You see the books list</li> </ol> <p>In API terms: - URL = Endpoint (where to send request) - GET = HTTP Method (what action to perform) - JSON = Response Format (how data is structured)</p>"},{"location":"LEVEL_0_BEGINNER.html#what-is-an-api","title":"What is an API?","text":""},{"location":"LEVEL_0_BEGINNER.html#api-application-programming-interface","title":"API = Application Programming Interface","text":"<p>Simple Explanation: An API is like a waiter in a restaurant.</p> <pre><code>You (Client)          Waiter (API)          Kitchen (Database)\n   \u2502                       \u2502                      \u2502\n   \u2502  \"I want pizza\"        \u2502                      \u2502\n   \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                      \u2502\n   \u2502                       \u2502  \"Get pizza\"         \u2502\n   \u2502                       \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n   \u2502                       \u2502                      \u2502\n   \u2502                       \u2502  \"Here's pizza\"       \u2502\n   \u2502                       \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n   \u2502  \"Here's your pizza\"   \u2502                      \u2502\n   \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                      \u2502\n</code></pre> <p>Explanation: - You = Client application (browser, mobile app) - Waiter = API (Django REST Framework) - Kitchen = Database (where data is stored) - Menu = API Documentation (what you can order) - Order = API Request (what you want) - Food = API Response (data you get back)</p>"},{"location":"LEVEL_0_BEGINNER.html#rest-api-example","title":"REST API Example","text":"<p>Real-world analogy: Think of a library system</p> <ul> <li>GET /books/ \u2192 \"Show me all books\" (like browsing catalog)</li> <li>GET /books/1/ \u2192 \"Show me book with ID 1\" (like asking for specific book)</li> <li>POST /books/ \u2192 \"Add a new book\" (like donating a book)</li> <li>PUT /books/1/ \u2192 \"Update book 1 completely\" (like replacing a book)</li> <li>PATCH /books/1/ \u2192 \"Update only title of book 1\" (like updating catalog entry)</li> <li>DELETE /books/1/ \u2192 \"Remove book 1\" (like removing a book)</li> </ul> <p>Why REST? - Standardized: Everyone uses the same pattern - Predictable: Easy to understand what each endpoint does - Stateless: Each request is independent - Scalable: Can handle many clients</p>"},{"location":"LEVEL_0_BEGINNER.html#environment-setup-explained","title":"Environment Setup Explained","text":""},{"location":"LEVEL_0_BEGINNER.html#why-do-we-need-this","title":"Why Do We Need This?","text":"<p>Problem: Different projects need different Python packages and versions.</p> <p>Solution: Virtual environments isolate each project's dependencies.</p> <p>Real-world analogy:  - Think of virtual environments like separate rooms in a house - Each room (project) has its own furniture (packages) - Room 1 might have Django 4.0, Room 2 might have Django 5.0 - They don't interfere with each other</p>"},{"location":"LEVEL_0_BEGINNER.html#step-by-step-setup","title":"Step-by-Step Setup","text":""},{"location":"LEVEL_0_BEGINNER.html#step-1-check-python-installation","title":"Step 1: Check Python Installation","text":"<pre><code># Check if Python is installed\npython --version\n# Should show: Python 3.8.x or higher\n\n# If not installed, download from python.org\n</code></pre> <p>Why: Django requires Python 3.8+. This command verifies you have the right version.</p>"},{"location":"LEVEL_0_BEGINNER.html#step-2-create-project-folder","title":"Step 2: Create Project Folder","text":"<pre><code># Create a folder for your project\nmkdir drf_learning\ncd drf_learning\n</code></pre> <p>Why: Organize your code in a dedicated folder. This keeps everything together.</p>"},{"location":"LEVEL_0_BEGINNER.html#step-3-create-virtual-environment","title":"Step 3: Create Virtual Environment","text":"<pre><code># Create virtual environment\npython -m venv venv\n</code></pre> <p>What this does: - <code>python -m venv</code> = Run the venv module - <code>venv</code> = Name of the virtual environment folder - Creates an isolated Python environment</p> <p>Why: Isolates your project's packages from other projects.</p>"},{"location":"LEVEL_0_BEGINNER.html#step-4-activate-virtual-environment","title":"Step 4: Activate Virtual Environment","text":"<p>Windows:</p> <pre><code>venv\\Scripts\\activate\n</code></pre> <p>Linux/Mac:</p> <pre><code>source venv/bin/activate\n</code></pre> <p>What happens: - Your terminal prompt changes to show <code>(venv)</code> - Python now uses packages from this virtual environment - <code>pip install</code> will install packages here, not globally</p> <p>Why: Tells your system to use this project's Python environment.</p> <p>How to know it worked: Your prompt should look like:</p> <pre><code>(venv) C:\\Users\\YourName\\drf_learning&gt;\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#step-5-install-django-and-drf","title":"Step 5: Install Django and DRF","text":"<pre><code># Install packages\npip install django djangorestframework\n\n# Verify installation\npip list\n# Should show django and djangorestframework\n</code></pre> <p>What this does: - <code>pip</code> = Python package installer - <code>install</code> = Download and install packages - <code>django</code> = Web framework - <code>djangorestframework</code> = API toolkit for Django</p> <p>Why: These are the tools we need to build APIs.</p>"},{"location":"LEVEL_0_BEGINNER.html#step-6-save-requirements","title":"Step 6: Save Requirements","text":"<pre><code># Save installed packages to file\npip freeze &gt; requirements.txt\n</code></pre> <p>What this does: - <code>pip freeze</code> = List all installed packages with versions - <code>&gt;</code> = Save output to file - <code>requirements.txt</code> = File containing package list</p> <p>Why:  - Others can install exact same packages: <code>pip install -r requirements.txt</code> - Ensures everyone uses same versions - Essential for deployment</p>"},{"location":"LEVEL_0_BEGINNER.html#virtual-environments-why-and-how","title":"Virtual Environments - Why and How","text":""},{"location":"LEVEL_0_BEGINNER.html#the-problem-virtual-environments-solve","title":"The Problem Virtual Environments Solve","text":"<p>Without virtual environments:</p> <pre><code>Project A needs Django 4.0\nProject B needs Django 5.0\nSystem Python: Which version? \u274c Conflict!\n</code></pre> <p>With virtual environments:</p> <pre><code>Project A (venv): Django 4.0 \u2705\nProject B (venv): Django 5.0 \u2705\nNo conflict!\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#virtual-environment-commands","title":"Virtual Environment Commands","text":"<pre><code># Create virtual environment\npython -m venv venv\n\n# Activate (Windows)\nvenv\\Scripts\\activate\n\n# Activate (Linux/Mac)\nsource venv/bin/activate\n\n# Deactivate (all platforms)\ndeactivate\n\n# Check if activated\n# Prompt shows (venv) when active\n</code></pre> <p>Important: Always activate virtual environment before working on project!</p>"},{"location":"LEVEL_0_BEGINNER.html#common-mistakes","title":"Common Mistakes","text":"<ol> <li>Forgetting to activate: Packages install globally instead of in venv</li> <li> <p>Fix: Always check for <code>(venv)</code> in prompt</p> </li> <li> <p>Activating wrong venv: Working in different project's environment</p> </li> <li> <p>Fix: Make sure you're in correct project folder</p> </li> <li> <p>Not using venv: Installing packages globally</p> </li> <li>Fix: Always create and use virtual environment</li> </ol>"},{"location":"LEVEL_0_BEGINNER.html#understanding-json","title":"Understanding JSON","text":""},{"location":"LEVEL_0_BEGINNER.html#what-is-json","title":"What is JSON?","text":"<p>JSON = JavaScript Object Notation (but works with any language!)</p> <p>Why it matters: APIs use JSON to send and receive data.</p>"},{"location":"LEVEL_0_BEGINNER.html#json-structure","title":"JSON Structure","text":"<pre><code>{\n  \"id\": 1,\n  \"title\": \"Python Guide\",\n  \"author\": \"John Doe\",\n  \"published\": true,\n  \"tags\": [\"python\", \"programming\", \"tutorial\"],\n  \"price\": 29.99\n}\n</code></pre> <p>Explanation: - Keys (left side): Field names in quotes: <code>\"title\"</code> - Values (right side): Data - can be string, number, boolean, array, object - Strings: Always in quotes: <code>\"Python Guide\"</code> - Numbers: No quotes: <code>1</code>, <code>29.99</code> - Booleans: <code>true</code> or <code>false</code> (no quotes) - Arrays: <code>[\"item1\", \"item2\"]</code> (like Python lists) - Objects: <code>{\"key\": \"value\"}</code> (like Python dictionaries)</p>"},{"location":"LEVEL_0_BEGINNER.html#json-vs-python-dictionary","title":"JSON vs Python Dictionary","text":"<p>They're almost the same!</p> <pre><code># Python Dictionary\nbook = {\n    \"id\": 1,\n    \"title\": \"Python Guide\",\n    \"published\": True  # Note: True not true\n}\n\n# JSON (what APIs use)\n{\n    \"id\": 1,\n    \"title\": \"Python Guide\",\n    \"published\": true  # Note: lowercase true\n}\n</code></pre> <p>Key Differences: - Python: <code>True</code>/<code>False</code> (capital), <code>None</code> (not null) - JSON: <code>true</code>/<code>false</code> (lowercase), <code>null</code> (not None) - JSON keys must be strings, Python keys can be other types</p>"},{"location":"LEVEL_0_BEGINNER.html#converting-between-python-and-json","title":"Converting Between Python and JSON","text":"<pre><code>import json\n\n# Python dict to JSON string\nbook = {\"id\": 1, \"title\": \"Python Guide\"}\njson_string = json.dumps(book)\n# Result: '{\"id\": 1, \"title\": \"Python Guide\"}'\n\n# JSON string to Python dict\njson_string = '{\"id\": 1, \"title\": \"Python Guide\"}'\nbook = json.loads(json_string)\n# Result: {\"id\": 1, \"title\": \"Python Guide\"}\n</code></pre> <p>Why this matters:  - APIs send JSON strings over HTTP - Django converts JSON to Python objects - You work with Python, Django handles conversion</p>"},{"location":"LEVEL_0_BEGINNER.html#http-basics","title":"HTTP Basics","text":""},{"location":"LEVEL_0_BEGINNER.html#http-methods-verbs","title":"HTTP Methods (Verbs)","text":"<p>Think of HTTP methods as actions you can perform:</p> Method Action Real-world Analogy Example GET Read Looking at a book Get list of books POST Create Adding a new book Create a new book PUT Update (full) Replacing entire book Update all book fields PATCH Update (partial) Updating one page Update only book title DELETE Delete Removing a book Delete a book <p>Why different methods? - GET: Safe, doesn't change data (can call many times) - POST: Creates new resource (not safe to call multiple times) - PUT/PATCH: Updates existing resource - DELETE: Removes resource (not safe to call multiple times)</p>"},{"location":"LEVEL_0_BEGINNER.html#http-status-codes","title":"HTTP Status Codes","text":"<p>What they mean: Tell client if request succeeded or failed.</p> Code Meaning When Used 200 OK Request succeeded 201 Created New resource created (POST) 204 No Content Success but no data to return (DELETE) 400 Bad Request Client sent invalid data 401 Unauthorized Not logged in / invalid credentials 403 Forbidden Logged in but no permission 404 Not Found Resource doesn't exist 500 Server Error Server had an error <p>Why this matters: APIs use these codes to communicate results. Your frontend checks these codes to know what happened.</p>"},{"location":"LEVEL_0_BEGINNER.html#http-request-structure","title":"HTTP Request Structure","text":"<pre><code>GET /api/books/ HTTP/1.1\nHost: localhost:8000\nAuthorization: Bearer token123\nContent-Type: application/json\n</code></pre> <p>Explanation: - GET = HTTP method - /api/books/ = Endpoint (URL path) - HTTP/1.1 = Protocol version - Headers = Additional information (authorization, content type)</p>"},{"location":"LEVEL_0_BEGINNER.html#http-response-structure","title":"HTTP Response Structure","text":"<pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"id\": 1,\n  \"title\": \"Python Guide\"\n}\n</code></pre> <p>Explanation: - 200 OK = Status code and message - Content-Type = Format of response data - Body = Actual data (JSON)</p>"},{"location":"LEVEL_0_BEGINNER.html#command-line-essentials","title":"Command Line Essentials","text":""},{"location":"LEVEL_0_BEGINNER.html#why-command-line","title":"Why Command Line?","text":"<p>GUI vs CLI: - GUI (Graphical User Interface): Clicking buttons, visual - CLI (Command Line Interface): Typing commands, faster for developers</p> <p>Why developers use CLI: - Faster for repetitive tasks - Can be automated - Works on servers (no GUI) - More powerful</p>"},{"location":"LEVEL_0_BEGINNER.html#essential-commands","title":"Essential Commands","text":""},{"location":"LEVEL_0_BEGINNER.html#navigation","title":"Navigation","text":"<pre><code># See current directory\npwd                    # Linux/Mac\ncd                     # Windows\n\n# List files\nls                     # Linux/Mac\ndir                    # Windows\n\n# Change directory\ncd folder_name         # Go into folder\ncd ..                  # Go up one level\ncd ~                   # Go to home directory\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#file-operations","title":"File Operations","text":"<pre><code># Create folder\nmkdir project_name\n\n# Create file\ntouch file.txt         # Linux/Mac\ntype nul &gt; file.txt    # Windows\n\n# View file\ncat file.txt           # Linux/Mac\ntype file.txt          # Windows\n\n# Delete file\nrm file.txt            # Linux/Mac\ndel file.txt           # Windows\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#python-specific","title":"Python-Specific","text":"<pre><code># Run Python script\npython script.py\n\n# Run Django commands\npython manage.py runserver\npython manage.py migrate\npython manage.py createsuperuser\n\n# Install package\npip install package_name\n\n# List installed packages\npip list\n</code></pre> <p>Why these matter: You'll use these commands constantly when building APIs!</p>"},{"location":"LEVEL_0_BEGINNER.html#practice-problems","title":"Practice Problems","text":""},{"location":"LEVEL_0_BEGINNER.html#problem-1-python-basics","title":"Problem 1: Python Basics","text":"<p>Create a Python script that: 1. Defines a dictionary representing a book with: id, title, author, price 2. Creates a function that takes book data and returns a formatted string 3. Creates a list of 3 books 4. Prints information about each book</p> <p>Solution:</p> <pre><code>def format_book(book):\n    return f\"{book['title']} by {book['author']} - ${book['price']}\"\n\nbook1 = {\"id\": 1, \"title\": \"Python Guide\", \"author\": \"John\", \"price\": 29.99}\nbook2 = {\"id\": 2, \"title\": \"Django Guide\", \"author\": \"Jane\", \"price\": 39.99}\nbook3 = {\"id\": 3, \"title\": \"DRF Guide\", \"author\": \"Bob\", \"price\": 49.99}\n\nbooks = [book1, book2, book3]\n\nfor book in books:\n    print(format_book(book))\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#problem-2-json-practice","title":"Problem 2: JSON Practice","text":"<ol> <li>Create a Python dictionary with book data</li> <li>Convert it to JSON string</li> <li>Convert JSON string back to dictionary</li> <li>Print the result</li> </ol> <p>Solution:</p> <pre><code>import json\n\nbook = {\n    \"id\": 1,\n    \"title\": \"Python Guide\",\n    \"author\": \"John Doe\",\n    \"price\": 29.99,\n    \"published\": True\n}\n\n# Convert to JSON\njson_string = json.dumps(book)\nprint(\"JSON:\", json_string)\n\n# Convert back to dict\nbook_dict = json.loads(json_string)\nprint(\"Dictionary:\", book_dict)\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#problem-3-virtual-environment","title":"Problem 3: Virtual Environment","text":"<ol> <li>Create a new folder called <code>my_api_project</code></li> <li>Create a virtual environment named <code>venv</code></li> <li>Activate it</li> <li>Install Django</li> <li>Verify installation with <code>pip list</code></li> </ol> <p>Solution:</p> <pre><code>mkdir my_api_project\ncd my_api_project\npython -m venv venv\n\n# Windows\nvenv\\Scripts\\activate\n\n# Linux/Mac\nsource venv/bin/activate\n\npip install django\npip list  # Should show django\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#trivia","title":"Trivia","text":""},{"location":"LEVEL_0_BEGINNER.html#question-1","title":"Question 1","text":"<p>What does API stand for? - [ ] Application Program Interface - [x] Application Programming Interface - [ ] Automated Program Interface - [ ] Advanced Programming Interface</p> <p>Explanation: API = Application Programming Interface. It's the way applications communicate with each other.</p>"},{"location":"LEVEL_0_BEGINNER.html#question-2","title":"Question 2","text":"<p>What is the main purpose of a virtual environment? - [ ] To make Python run faster - [x] To isolate project dependencies - [ ] To secure your code - [ ] To organize your files</p> <p>Explanation: Virtual environments isolate packages for each project, preventing conflicts between different projects' requirements.</p>"},{"location":"LEVEL_0_BEGINNER.html#question-3","title":"Question 3","text":"<p>Which HTTP method is used to retrieve data? - [x] GET - [ ] POST - [ ] PUT - [ ] DELETE</p> <p>Explanation: GET is used to retrieve/read data. It's safe and doesn't modify data.</p>"},{"location":"LEVEL_0_BEGINNER.html#question-4","title":"Question 4","text":"<p>What does JSON stand for? - [ ] Java Script Object Notation - [x] JavaScript Object Notation - [ ] Just Simple Object Notation - [ ] Java Standard Object Notation</p> <p>Explanation: JSON = JavaScript Object Notation, though it's used with many languages, not just JavaScript.</p>"},{"location":"LEVEL_0_BEGINNER.html#question-5","title":"Question 5","text":"<p>In JSON, how do you represent a boolean true value? - [ ] True - [x] true - [ ] TRUE - [ ] \"true\"</p> <p>Explanation: JSON uses lowercase <code>true</code> and <code>false</code> (not Python's <code>True</code>/<code>False</code>).</p>"},{"location":"LEVEL_0_BEGINNER.html#question-6","title":"Question 6","text":"<p>What status code means \"Resource created successfully\"? - [ ] 200 - [x] 201 - [ ] 204 - [ ] 301</p> <p>Explanation: 201 Created is returned when a new resource is successfully created (typically with POST requests).</p>"},{"location":"LEVEL_0_BEGINNER.html#question-7","title":"Question 7","text":"<p>What command activates a virtual environment on Windows? - [ ] source venv/bin/activate - [x] venv\\Scripts\\activate - [ ] activate venv - [ ] python venv activate</p> <p>Explanation: On Windows, use <code>venv\\Scripts\\activate</code>. On Linux/Mac, use <code>source venv/bin/activate</code>.</p>"},{"location":"LEVEL_0_BEGINNER.html#question-8","title":"Question 8","text":"<p>Which Python data type is most similar to JSON objects? - [ ] List - [ ] String - [x] Dictionary - [ ] Tuple</p> <p>Explanation: Python dictionaries map directly to JSON objects. They have the same key-value structure.</p>"},{"location":"LEVEL_0_BEGINNER.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 0. You now understand:</p> <ul> <li>\u2705 Python basics for web development</li> <li>\u2705 How the web works</li> <li>\u2705 What APIs are and why we use them</li> <li>\u2705 How to set up your development environment</li> <li>\u2705 JSON format and HTTP basics</li> <li>\u2705 Command line essentials</li> </ul> <p>Ready for Level 1? Continue to Level 1: Foundations to start building your first REST API!</p> <p>Remember:  - Don't rush - understand the concepts - Practice the exercises - Experiment with the code - Ask questions when stuck</p> <p>Good luck! \ud83d\ude80</p>"},{"location":"LEVEL_1_FOUNDATIONS.html","title":"Level 1: Foundations - Django + REST Basics","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#goal","title":"Goal","text":"<p>Understand Django, Django REST Framework, and build your first REST API. By the end of this level, you'll be able to create a fully functional CRUD API.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>REST Fundamentals</li> <li>Django Project Structure</li> <li>Setting Up Your Environment</li> <li>Installing Django REST Framework</li> <li>CORS Configuration</li> <li>Understanding Models</li> <li>Understanding Serializers</li> <li>Understanding Views</li> <li>URL Routing</li> <li>Step-by-Step: Book API Implementation</li> <li>Step-by-Step: Task API Implementation</li> <li>Custom Response Formats</li> <li>Error Handling</li> <li>Testing with cURL</li> <li>Browsable API</li> <li>Exercises</li> <li>Trivia</li> <li>Practice Problems</li> <li>Common Errors and Solutions</li> <li>Add-ons</li> </ol>"},{"location":"LEVEL_1_FOUNDATIONS.html#rest-fundamentals","title":"REST Fundamentals","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#what-is-rest","title":"What is REST?","text":"<p>REST (Representational State Transfer) is an architectural style for designing web services. REST APIs use HTTP methods to perform operations on resources.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#http-methods","title":"HTTP Methods","text":"Method Purpose Example GET Retrieve data Get list of books POST Create new resource Create a new book PUT Full update Replace entire book PATCH Partial update Update only book title DELETE Delete resource Delete a book"},{"location":"LEVEL_1_FOUNDATIONS.html#http-status-codes","title":"HTTP Status Codes","text":"Code Meaning When to Use 200 OK Successful GET, PUT, PATCH 201 Created Successful POST 204 No Content Successful DELETE 400 Bad Request Invalid input data 401 Unauthorized Missing/invalid authentication 403 Forbidden Authenticated but no permission 404 Not Found Resource doesn't exist 500 Server Error Internal server error"},{"location":"LEVEL_1_FOUNDATIONS.html#requestresponse-cycle","title":"Request/Response Cycle","text":"<pre><code>Client Request \u2192 Django \u2192 URL Router \u2192 View \u2192 Serializer \u2192 Model \u2192 Database\n                                                                    \u2193\nClient Response \u2190 Django \u2190 JSON Response \u2190 Serializer \u2190 Model \u2190 Database\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#django-project-structure","title":"Django Project Structure","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#understanding-django-files","title":"Understanding Django Files","text":"<pre><code>rest_api_learn/\n\u251c\u2500\u2500 manage.py                 # Django management script\n\u251c\u2500\u2500 core/                     # Project settings package\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 settings.py           # Project configuration\n\u2502   \u251c\u2500\u2500 urls.py               # Root URL configuration\n\u2502   \u251c\u2500\u2500 wsgi.py               # WSGI configuration\n\u2502   \u2514\u2500\u2500 asgi.py               # ASGI configuration\n\u251c\u2500\u2500 api/                      # Your app\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 models.py             # Database models\n\u2502   \u251c\u2500\u2500 views.py              # View logic\n\u2502   \u251c\u2500\u2500 serializers.py        # DRF serializers\n\u2502   \u251c\u2500\u2500 urls.py               # App URL configuration\n\u2502   \u251c\u2500\u2500 admin.py              # Admin interface\n\u2502   \u2514\u2500\u2500 migrations/           # Database migrations\n\u2514\u2500\u2500 db.sqlite3                # SQLite database (default)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#key-files-explained","title":"Key Files Explained","text":"<p>settings.py: Contains all project configuration - <code>INSTALLED_APPS</code>: List of installed Django apps - <code>DATABASES</code>: Database configuration - <code>MIDDLEWARE</code>: Request/response processing - <code>ROOT_URLCONF</code>: Root URL configuration</p> <p>models.py: Define your database structure - Each class = database table - Each attribute = database column</p> <p>views.py: Handle HTTP requests - Contains view functions/classes - Process requests and return responses</p> <p>urls.py: URL routing - Maps URLs to views - Defines API endpoints</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#setting-up-your-environment","title":"Setting Up Your Environment","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#step-1-create-virtual-environment","title":"Step 1: Create Virtual Environment","text":"<pre><code># Create virtual environment\npython -m venv venv\n\n# Activate (Linux/macOS)\nsource venv/bin/activate\n\n# Activate (Windows)\nvenv\\Scripts\\activate\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-2-install-django-and-drf","title":"Step 2: Install Django and DRF","text":"<pre><code># Install packages\npip install django djangorestframework\n\n# Or with specific versions\npip install django==5.2.8 djangorestframework==3.15.2\n\n# Save requirements\npip freeze &gt; requirements.txt\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-3-create-django-project","title":"Step 3: Create Django Project","text":"<pre><code># Create project\ndjango-admin startproject core .\n\n# Create app\npython manage.py startapp api\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-4-register-app-in-settingspy","title":"Step 4: Register App in settings.py","text":"<pre><code># core/settings.py\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'rest_framework',  # Add DRF\n    'api',             # Add your app\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-5-run-initial-migration","title":"Step 5: Run Initial Migration","text":"<pre><code># Apply default migrations\npython manage.py migrate\n\n# Create superuser (optional)\npython manage.py createsuperuser\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#installing-django-rest-framework","title":"Installing Django REST Framework","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#step-1-add-to-installed_apps","title":"Step 1: Add to INSTALLED_APPS","text":"<pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ... other apps ...\n    'rest_framework',\n    'api',\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-2-configure-drf-settings-optional","title":"Step 2: Configure DRF Settings (Optional)","text":"<pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_RENDERER_CLASSES': [\n        'rest_framework.renderers.JSONRenderer',\n        'rest_framework.renderers.BrowsableAPIRenderer',  # For browsable API\n    ],\n    'DEFAULT_PARSER_CLASSES': [\n        'rest_framework.parsers.JSONParser',\n        'rest_framework.parsers.FormParser',\n        'rest_framework.parsers.MultiPartParser',\n    ],\n    'DEFAULT_PAGINATION_CLASS': None,  # We'll add pagination in Level 2\n}\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-3-verify-installation","title":"Step 3: Verify Installation","text":"<pre><code># Start server\npython manage.py runserver\n\n# Visit http://127.0.0.1:8000/\n# You should see Django welcome page\n</code></pre> <p>Why we verify: This confirms Django is installed correctly and the server can run. If you see the welcome page, everything is working!</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#cors-configuration","title":"CORS Configuration","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#what-is-cors","title":"What is CORS?","text":"<p>CORS = Cross-Origin Resource Sharing</p> <p>The Problem: By default, browsers block requests from one domain (origin) to another. This is a security feature called the \"Same-Origin Policy.\"</p> <p>Example: - Your frontend runs on: <code>http://localhost:3000</code> (React app) - Your API runs on: <code>http://localhost:8000</code> (Django) - Browser blocks requests between them \u274c</p> <p>The Solution: CORS headers tell the browser \"it's okay, allow this request.\"</p> <p>Why this matters:  - Frontend and backend often run on different ports/domains - Without CORS, your frontend can't call your API - CORS is essential for any API that will be used by web applications</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#installing-django-cors-headers","title":"Installing django-cors-headers","text":"<pre><code># Install the package\npip install django-cors-headers\n\n# Add to requirements.txt\npip freeze &gt; requirements.txt\n</code></pre> <p>Why this package: It makes CORS configuration easy. You could configure it manually, but this package handles all the complexity.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-1-add-to-installed_apps_1","title":"Step 1: Add to INSTALLED_APPS","text":"<pre><code># core/settings.py\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'rest_framework',\n    'corsheaders',  # Add this - must be before other apps\n    'api',\n]\n</code></pre> <p>Why order matters: <code>corsheaders</code> must be before other apps that might handle requests. Middleware order is important in Django.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-2-add-cors-middleware","title":"Step 2: Add CORS Middleware","text":"<pre><code># core/settings.py\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'corsheaders.middleware.CorsMiddleware',  # Add this - must be near top\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\n</code></pre> <p>Why middleware position matters:  - Middleware processes requests in order - CORS middleware must run early to add headers to responses - If it's too late, headers won't be added</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-3-configure-cors-settings","title":"Step 3: Configure CORS Settings","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#development-allow-all-origins","title":"Development (Allow All Origins)","text":"<pre><code># core/settings.py\n# For development only - allows all origins\nCORS_ALLOW_ALL_ORIGINS = True\n</code></pre> <p>Why this works for development:  - Quick to set up - Allows any frontend to connect - Never use in production! (security risk)</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#production-specific-origins","title":"Production (Specific Origins)","text":"<pre><code># core/settings.py\n# For production - specify allowed origins\nCORS_ALLOW_ALL_ORIGINS = False\n\nCORS_ALLOWED_ORIGINS = [\n    \"http://localhost:3000\",      # React dev server\n    \"http://localhost:5173\",      # Vite dev server\n    \"https://yourdomain.com\",     # Production frontend\n    \"https://www.yourdomain.com\",\n]\n\n# Or use regex patterns\nCORS_ALLOWED_ORIGIN_REGEXES = [\n    r\"^https://.*\\.yourdomain\\.com$\",  # All subdomains\n]\n</code></pre> <p>Why specific origins in production:  - Security: Only allow trusted domains - Prevents unauthorized sites from using your API - Protects user data</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-4-additional-cors-settings-optional","title":"Step 4: Additional CORS Settings (Optional)","text":"<pre><code># core/settings.py\n# Allow credentials (cookies, auth headers)\nCORS_ALLOW_CREDENTIALS = True\n\n# Allowed HTTP methods\nCORS_ALLOW_METHODS = [\n    'DELETE',\n    'GET',\n    'OPTIONS',\n    'PATCH',\n    'POST',\n    'PUT',\n]\n\n# Allowed headers\nCORS_ALLOW_HEADERS = [\n    'accept',\n    'accept-encoding',\n    'authorization',\n    'content-type',\n    'dnt',\n    'origin',\n    'user-agent',\n    'x-csrftoken',\n    'x-requested-with',\n]\n\n# How long browser can cache preflight response\nCORS_PREFLIGHT_MAX_AGE = 86400  # 24 hours\n</code></pre> <p>Explanation of settings: - CORS_ALLOW_CREDENTIALS: Needed if you send cookies/auth tokens - CORS_ALLOW_METHODS: Which HTTP methods are allowed - CORS_ALLOW_HEADERS: Which headers frontend can send - CORS_PREFLIGHT_MAX_AGE: Reduces preflight requests (performance)</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#testing-cors","title":"Testing CORS","text":"<p>Test with cURL:</p> <pre><code># Test CORS headers\ncurl -H \"Origin: http://localhost:3000\" \\\n     -H \"Access-Control-Request-Method: GET\" \\\n     -H \"Access-Control-Request-Headers: X-Requested-With\" \\\n     -X OPTIONS \\\n     http://localhost:8000/api/books/ \\\n     -v\n\n# Should see CORS headers in response:\n# Access-Control-Allow-Origin: http://localhost:3000\n# Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS\n</code></pre> <p>Test in Browser Console:</p> <pre><code>// In browser console (on frontend)\nfetch('http://localhost:8000/api/books/')\n  .then(response =&gt; response.json())\n  .then(data =&gt; console.log(data))\n  .catch(error =&gt; console.error('Error:', error));\n</code></pre> <p>Why test:  - Confirms CORS is working - Helps debug connection issues - Verifies headers are correct</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#common-cors-issues","title":"Common CORS Issues","text":"<p>Problem: \"CORS policy blocked\" - Solution: Check <code>CORS_ALLOWED_ORIGINS</code> includes your frontend URL - Check: Verify middleware is in correct position</p> <p>Problem: \"Credentials not allowed\" - Solution: Set <code>CORS_ALLOW_CREDENTIALS = True</code> - Check: Make sure origin is in allowed list (not using <code>*</code>)</p> <p>Problem: \"Method not allowed\" - Solution: Add method to <code>CORS_ALLOW_METHODS</code> - Check: Verify you're using correct HTTP method</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#why-cors-is-important","title":"Why CORS is Important","text":"<ol> <li>Security: Prevents unauthorized sites from accessing your API</li> <li>Flexibility: Allows frontend/backend separation</li> <li>Modern Development: Essential for single-page applications (SPA)</li> <li>Mobile Apps: Often need CORS for web-based APIs</li> </ol> <p>Remember:  - Development: <code>CORS_ALLOW_ALL_ORIGINS = True</code> is fine - Production: Always specify exact origins - Test CORS before deploying</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#understanding-models","title":"Understanding Models","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#what-are-models","title":"What are Models?","text":"<p>Models are Python classes that represent database tables. Django's ORM (Object-Relational Mapping) converts model classes to SQL tables.</p> <p>Simple Explanation:  - Model = Blueprint for a database table - ORM = Magic that converts Python code to SQL - Table = Where data is stored (like a spreadsheet) - Row = One record (one book, one task) - Column = One field (title, author, price)</p> <p>Why Models? - No SQL needed: Write Python instead of SQL - Type safety: Django validates data types - Migrations: Django tracks database changes - Relationships: Easy to connect models together</p> <p>Real-world analogy:  - Model = Recipe (blueprint) - Table = Baking pan (where data goes) - Object = Cookie (one record) - Fields = Ingredients (title, author, etc.)</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#basic-model-example","title":"Basic Model Example","text":"<pre><code># api/models.py\nfrom django.db import models\n\nclass Book(models.Model):\n    title = models.CharField(max_length=200)\n    author = models.CharField(max_length=100)\n    published_date = models.DateField()\n    isbn = models.CharField(max_length=13, unique=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#common-field-types","title":"Common Field Types","text":"Field Type Purpose Example CharField Short text <code>title = models.CharField(max_length=200)</code> TextField Long text <code>description = models.TextField()</code> IntegerField Integer <code>price = models.IntegerField()</code> DecimalField Decimal <code>price = models.DecimalField(max_digits=10, decimal_places=2)</code> BooleanField True/False <code>is_published = models.BooleanField(default=False)</code> DateField Date <code>published_date = models.DateField()</code> DateTimeField Date + Time <code>created_at = models.DateTimeField(auto_now_add=True)</code> EmailField Email <code>email = models.EmailField()</code> URLField URL <code>website = models.URLField()</code> ForeignKey Many-to-One <code>author = models.ForeignKey(User, on_delete=models.CASCADE)</code>"},{"location":"LEVEL_1_FOUNDATIONS.html#field-options","title":"Field Options","text":"<pre><code># Common options\ntitle = models.CharField(\n    max_length=200,\n    null=True,              # Allow NULL in database\n    blank=True,             # Allow empty in forms\n    default='Untitled',     # Default value\n    unique=True,            # Must be unique\n    db_index=True,          # Create database index\n    verbose_name='Book Title',  # Human-readable name\n    help_text='Enter the book title',  # Help text\n)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#creating-and-applying-migrations","title":"Creating and Applying Migrations","text":"<p>What are Migrations?</p> <p>Migrations are files that describe changes to your database structure. Think of them as version control for your database.</p> <p>Why Migrations? - Track changes: Know what changed and when - Team collaboration: Everyone has same database structure - Rollback: Can undo changes if needed - Production: Apply same changes to production database</p> <pre><code># Create migration files\npython manage.py makemigrations\n</code></pre> <p>What this does: - Looks at your models - Compares with current database - Creates migration file with changes - Doesn't change database yet!</p> <p>Why two steps?:  - <code>makemigrations</code> = Create the plan - <code>migrate</code> = Execute the plan - This lets you review changes before applying</p> <pre><code># Apply migrations to database\npython manage.py migrate\n</code></pre> <p>What this does: - Reads migration files - Executes SQL to update database - Creates/updates tables - Actually changes the database!</p> <pre><code># See SQL that will be executed\npython manage.py sqlmigrate api 0001\n</code></pre> <p>Why view SQL:  - Understand what Django is doing - Debug migration issues - Learn SQL - Verify changes before applying</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#understanding-serializers","title":"Understanding Serializers","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#what-are-serializers","title":"What are Serializers?","text":"<p>Serializers convert complex data types (like Django model instances) to Python native datatypes that can be easily rendered into JSON, XML, etc.</p> <p>Simple Explanation: - Serialize = Convert Python object \u2192 JSON (for sending to client) - Deserialize = Convert JSON \u2192 Python object (for receiving from client) - Validation = Check if data is correct before saving</p> <p>Why Serializers? - Format conversion: Python objects \u2194 JSON - Data validation: Ensure data is correct - Field control: Choose which fields to include - Type conversion: Convert data types automatically</p> <p>Real-world analogy: - Serializer = Translator - Python object = English - JSON = Spanish - Serializer translates between them</p> <p>The Flow:</p> <pre><code>Client sends JSON \u2192 Serializer validates \u2192 Convert to Python \u2192 Save to Database\nDatabase has Python object \u2192 Serializer converts \u2192 JSON \u2192 Send to Client\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#modelserializer-recommended","title":"ModelSerializer (Recommended)","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Book\n\nclass BookSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Book\n        fields = ['id', 'title', 'author', 'published_date', 'isbn', 'created_at']\n        # Or use '__all__' to include all fields\n        # fields = '__all__'\n\n        # Exclude specific fields\n        # exclude = ['created_at']\n\n        # Read-only fields\n        read_only_fields = ['id', 'created_at']\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#serializer-class-more-control","title":"Serializer Class (More Control)","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\n\nclass BookSerializer(serializers.Serializer):\n    id = serializers.IntegerField(read_only=True)\n    title = serializers.CharField(max_length=200)\n    author = serializers.CharField(max_length=100)\n    published_date = serializers.DateField()\n    isbn = serializers.CharField(max_length=13)\n    created_at = serializers.DateTimeField(read_only=True)\n\n    def create(self, validated_data):\n        \"\"\"Create and return a new Book instance\"\"\"\n        return Book.objects.create(**validated_data)\n\n    def update(self, instance, validated_data):\n        \"\"\"Update and return an existing Book instance\"\"\"\n        instance.title = validated_data.get('title', instance.title)\n        instance.author = validated_data.get('author', instance.author)\n        instance.published_date = validated_data.get('published_date', instance.published_date)\n        instance.isbn = validated_data.get('isbn', instance.isbn)\n        instance.save()\n        return instance\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#serializer-field-types","title":"Serializer Field Types","text":"<pre><code>class ExampleSerializer(serializers.Serializer):\n    # Basic fields\n    title = serializers.CharField(max_length=200)\n    description = serializers.CharField(allow_blank=True)\n    price = serializers.DecimalField(max_digits=10, decimal_places=2)\n    quantity = serializers.IntegerField(min_value=0)\n    is_available = serializers.BooleanField(default=True)\n\n    # Date/Time fields\n    created_at = serializers.DateTimeField(read_only=True)\n    published_date = serializers.DateField()\n\n    # Email and URL\n    email = serializers.EmailField()\n    website = serializers.URLField()\n\n    # Choice field\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n    ]\n    status = serializers.ChoiceField(choices=STATUS_CHOICES)\n\n    # Nested serializer (we'll cover in Level 3)\n    # author = AuthorSerializer()\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#understanding-views","title":"Understanding Views","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#view-evolution-in-drf","title":"View Evolution in DRF","text":"<p>DRF provides multiple ways to create views, from simple to powerful:</p> <ol> <li>Function-based views \u2192 Basic, explicit</li> <li>APIView \u2192 Class-based, more control</li> <li>Generic Views \u2192 Less code, common patterns</li> <li>ViewSets \u2192 Most powerful, works with routers</li> </ol>"},{"location":"LEVEL_1_FOUNDATIONS.html#method-1-function-based-view","title":"Method 1: Function-Based View","text":"<pre><code># api/views.py\nfrom rest_framework.decorators import api_view\nfrom rest_framework.response import Response\nfrom rest_framework import status\nfrom .models import Book\nfrom .serializers import BookSerializer\n\n@api_view(['GET', 'POST'])\ndef book_list(request):\n    \"\"\"List all books or create a new book\"\"\"\n    if request.method == 'GET':\n        books = Book.objects.all()\n        serializer = BookSerializer(books, many=True)\n        return Response(serializer.data)\n\n    elif request.method == 'POST':\n        serializer = BookSerializer(data=request.data)\n        if serializer.is_valid():\n            serializer.save()\n            return Response(serializer.data, status=status.HTTP_201_CREATED)\n        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#method-2-apiview-class-based","title":"Method 2: APIView (Class-Based)","text":"<pre><code># api/views.py\nfrom rest_framework.views import APIView\nfrom rest_framework.response import Response\nfrom rest_framework import status\nfrom .models import Book\nfrom .serializers import BookSerializer\n\nclass BookListAPIView(APIView):\n    \"\"\"List all books or create a new book\"\"\"\n\n    def get(self, request):\n        books = Book.objects.all()\n        serializer = BookSerializer(books, many=True)\n        return Response(serializer.data)\n\n    def post(self, request):\n        serializer = BookSerializer(data=request.data)\n        if serializer.is_valid():\n            serializer.save()\n            return Response(serializer.data, status=status.HTTP_201_CREATED)\n        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)\n\nclass BookDetailAPIView(APIView):\n    \"\"\"Retrieve, update or delete a book\"\"\"\n\n    def get_object(self, pk):\n        try:\n            return Book.objects.get(pk=pk)\n        except Book.DoesNotExist:\n            raise Http404\n\n    def get(self, request, pk):\n        book = self.get_object(pk)\n        serializer = BookSerializer(book)\n        return Response(serializer.data)\n\n    def put(self, request, pk):\n        book = self.get_object(pk)\n        serializer = BookSerializer(book, data=request.data)\n        if serializer.is_valid():\n            serializer.save()\n            return Response(serializer.data)\n        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)\n\n    def delete(self, request, pk):\n        book = self.get_object(pk)\n        book.delete()\n        return Response(status=status.HTTP_204_NO_CONTENT)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#method-3-generic-views-less-code","title":"Method 3: Generic Views (Less Code)","text":"<pre><code># api/views.py\nfrom rest_framework import generics\nfrom .models import Book\nfrom .serializers import BookSerializer\n\nclass BookListCreateView(generics.ListCreateAPIView):\n    \"\"\"List all books or create a new book\"\"\"\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n\nclass BookRetrieveUpdateDestroyView(generics.RetrieveUpdateDestroyAPIView):\n    \"\"\"Retrieve, update or delete a book\"\"\"\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#method-4-viewsets-most-powerful","title":"Method 4: ViewSets (Most Powerful)","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom .models import Book\nfrom .serializers import BookSerializer\n\nclass BookViewSet(viewsets.ModelViewSet):\n    \"\"\"ViewSet for viewing and editing Book instances\"\"\"\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#url-routing","title":"URL Routing","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#basic-url-configuration","title":"Basic URL Configuration","text":"<pre><code># core/urls.py\nfrom django.contrib import admin\nfrom django.urls import path, include\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('api/', include('api.urls')),\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#function-based-and-apiview-urls","title":"Function-Based and APIView URLs","text":"<pre><code># api/urls.py\nfrom django.urls import path\nfrom . import views\n\nurlpatterns = [\n    path('books/', views.book_list, name='book-list'),\n    path('books/&lt;int:pk&gt;/', views.book_detail, name='book-detail'),\n]\n\n# Or for APIView\nurlpatterns = [\n    path('books/', views.BookListAPIView.as_view(), name='book-list'),\n    path('books/&lt;int:pk&gt;/', views.BookDetailAPIView.as_view(), name='book-detail'),\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#generic-views-urls","title":"Generic Views URLs","text":"<pre><code># api/urls.py\nfrom django.urls import path\nfrom . import views\n\nurlpatterns = [\n    path('books/', views.BookListCreateView.as_view(), name='book-list-create'),\n    path('books/&lt;int:pk&gt;/', views.BookRetrieveUpdateDestroyView.as_view(), name='book-detail'),\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#viewset-urls-with-router","title":"ViewSet URLs with Router","text":"<pre><code># api/urls.py\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\nrouter = DefaultRouter()\nrouter.register(r'books', views.BookViewSet, basename='book')\n\nurlpatterns = [\n    path('', include(router.urls)),\n]\n\n# This automatically creates:\n# GET    /api/books/          - List all books\n# POST   /api/books/          - Create new book\n# GET    /api/books/{id}/     - Retrieve book\n# PUT    /api/books/{id}/     - Update book\n# PATCH  /api/books/{id}/     - Partial update\n# DELETE /api/books/{id}/     - Delete book\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-by-step-book-api-implementation","title":"Step-by-Step: Book API Implementation","text":"<p>Let's build a complete Book API from scratch.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-1-create-book-model","title":"Step 1: Create Book Model","text":"<pre><code># api/models.py\nfrom django.db import models\n\nclass Book(models.Model):\n    title = models.CharField(max_length=200)\n    author = models.CharField(max_length=100)\n    published_date = models.DateField()\n    isbn = models.CharField(max_length=13, unique=True, blank=True, null=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return f\"{self.title} by {self.author}\"\n\n    class Meta:\n        ordering = ['-created_at']\n        verbose_name = 'Book'\n        verbose_name_plural = 'Books'\n</code></pre> <p>Create and apply migration:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-2-create-book-serializer","title":"Step 2: Create Book Serializer","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Book\n\nclass BookSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Book\n        fields = ['id', 'title', 'author', 'published_date', 'isbn', 'description', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-3-create-views-using-viewset","title":"Step 3: Create Views (Using ViewSet)","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom .models import Book\nfrom .serializers import BookSerializer\n\nclass BookViewSet(viewsets.ModelViewSet):\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-4-configure-urls","title":"Step 4: Configure URLs","text":"<pre><code># api/urls.py\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\nrouter = DefaultRouter()\nrouter.register(r'books', views.BookViewSet, basename='book')\n\nurlpatterns = [\n    path('', include(router.urls)),\n]\n</code></pre> <pre><code># core/urls.py\nfrom django.contrib import admin\nfrom django.urls import path, include\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('api/', include('api.urls')),\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-5-register-model-in-admin-optional","title":"Step 5: Register Model in Admin (Optional)","text":"<pre><code># api/admin.py\nfrom django.contrib import admin\nfrom .models import Book\n\n@admin.register(Book)\nclass BookAdmin(admin.ModelAdmin):\n    list_display = ['title', 'author', 'published_date', 'created_at']\n    list_filter = ['created_at', 'published_date']\n    search_fields = ['title', 'author']\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-6-test-your-api","title":"Step 6: Test Your API","text":"<pre><code># Start server\npython manage.py runserver\n\n# Test with cURL (see CURL_GUIDE.md for details)\ncurl http://localhost:8000/api/books/\n\n# Or visit in browser\n# http://localhost:8000/api/books/\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-by-step-task-api-implementation","title":"Step-by-Step: Task API Implementation","text":"<p>Now let's adapt this to your existing Task model.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-1-update-task-model-if-needed","title":"Step 1: Update Task Model (if needed)","text":"<pre><code># api/models.py\nfrom django.db import models\n\nclass Task(models.Model):\n    title = models.CharField(max_length=100)\n    desc = models.TextField(null=True, blank=True)\n    completed = models.BooleanField(default=False)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre> <p>Create migration if you added fields:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-2-create-task-serializer","title":"Step 2: Create Task Serializer","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Task\n\nclass TaskSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Task\n        fields = ['id', 'title', 'desc', 'completed', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-3-create-task-viewset","title":"Step 3: Create Task ViewSet","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom .models import Task\nfrom .serializers import TaskSerializer\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    queryset = Task.objects.all()\n    serializer_class = TaskSerializer\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-4-add-task-urls","title":"Step 4: Add Task URLs","text":"<pre><code># api/urls.py\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\nrouter = DefaultRouter()\nrouter.register(r'books', views.BookViewSet, basename='book')\nrouter.register(r'tasks', views.TaskViewSet, basename='task')  # Add this\n\nurlpatterns = [\n    path('', include(router.urls)),\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-5-test-task-api","title":"Step 5: Test Task API","text":"<pre><code># Create a task\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Learn DRF\", \"desc\": \"Complete Level 1\", \"completed\": false}'\n\n# List all tasks\ncurl http://localhost:8000/api/tasks/\n\n# Get specific task\ncurl http://localhost:8000/api/tasks/1/\n\n# Update task\ncurl -X PATCH http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"completed\": true}'\n\n# Delete task\ncurl -X DELETE http://localhost:8000/api/tasks/1/\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#custom-response-formats","title":"Custom Response Formats","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#custom-response-structure","title":"Custom Response Structure","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets, status\nfrom rest_framework.response import Response\nfrom .models import Task\nfrom .serializers import TaskSerializer\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    queryset = Task.objects.all()\n    serializer_class = TaskSerializer\n\n    def create(self, request, *args, **kwargs):\n        serializer = self.get_serializer(data=request.data)\n        serializer.is_valid(raise_exception=True)\n        self.perform_create(serializer)\n\n        # Custom response\n        return Response({\n            'success': True,\n            'message': 'Task created successfully',\n            'data': serializer.data\n        }, status=status.HTTP_201_CREATED)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#custom-list-response","title":"Custom List Response","text":"<pre><code># api/views.py\nclass TaskViewSet(viewsets.ModelViewSet):\n    queryset = Task.objects.all()\n    serializer_class = TaskSerializer\n\n    def list(self, request, *args, **kwargs):\n        queryset = self.filter_queryset(self.get_queryset())\n        serializer = self.get_serializer(queryset, many=True)\n\n        return Response({\n            'count': queryset.count(),\n            'results': serializer.data\n        })\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-handling","title":"Error Handling","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#basic-error-handling","title":"Basic Error Handling","text":"<pre><code># api/views.py\nfrom rest_framework.views import exception_handler\nfrom rest_framework.response import Response\nfrom rest_framework import status\n\ndef custom_exception_handler(exc, context):\n    response = exception_handler(exc, context)\n\n    if response is not None:\n        custom_response_data = {\n            'error': {\n                'status_code': response.status_code,\n                'message': 'An error occurred',\n                'details': response.data\n            }\n        }\n        response.data = custom_response_data\n\n    return response\n</code></pre> <p>Add to settings.py:</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'EXCEPTION_HANDLER': 'api.views.custom_exception_handler',\n}\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#validation-errors","title":"Validation Errors","text":"<p>DRF automatically handles validation errors. When serializer validation fails:</p> <pre><code># This is handled automatically by DRF\nserializer = TaskSerializer(data=request.data)\nif not serializer.is_valid():\n    return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#testing-with-curl","title":"Testing with cURL","text":"<p>See CURL_GUIDE.md for detailed cURL examples. Here are quick examples:</p> <pre><code># GET - List all tasks\ncurl http://localhost:8000/api/tasks/\n\n# POST - Create task\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Test Task\", \"desc\": \"Description\", \"completed\": false}'\n\n# GET - Retrieve task\ncurl http://localhost:8000/api/tasks/1/\n\n# PATCH - Update task\ncurl -X PATCH http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"completed\": true}'\n\n# DELETE - Delete task\ncurl -X DELETE http://localhost:8000/api/tasks/1/\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#browsable-api","title":"Browsable API","text":"<p>DRF provides a browsable API interface. Visit any endpoint in your browser:</p> <pre><code>http://localhost:8000/api/tasks/\nhttp://localhost:8000/api/books/\n</code></pre> <p>You'll see: - HTML form to test POST/PUT/PATCH - Response in JSON format - Available actions - Request/response examples</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#exercises","title":"Exercises","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#exercise-1-complete-book-api","title":"Exercise 1: Complete Book API","text":"<ol> <li>Create Book model with fields: title, author, published_date, isbn</li> <li>Create BookSerializer</li> <li>Create BookViewSet</li> <li>Configure URLs</li> <li>Test all CRUD operations with cURL</li> </ol>"},{"location":"LEVEL_1_FOUNDATIONS.html#exercise-2-enhance-task-api","title":"Exercise 2: Enhance Task API","text":"<ol> <li>Add <code>priority</code> field (choices: low, medium, high)</li> <li>Add <code>due_date</code> field</li> <li>Update TaskSerializer to include new fields</li> <li>Test with cURL</li> </ol>"},{"location":"LEVEL_1_FOUNDATIONS.html#exercise-3-create-author-api","title":"Exercise 3: Create Author API","text":"<ol> <li>Create Author model (name, email, bio)</li> <li>Create AuthorSerializer and AuthorViewSet</li> <li>Add to URLs</li> <li>Test CRUD operations</li> </ol>"},{"location":"LEVEL_1_FOUNDATIONS.html#exercise-4-custom-responses","title":"Exercise 4: Custom Responses","text":"<ol> <li>Modify TaskViewSet to return custom response format</li> <li>Include success message and data</li> <li>Test with cURL</li> </ol>"},{"location":"LEVEL_1_FOUNDATIONS.html#exercise-5-practice-problem-product-api","title":"Exercise 5: Practice Problem - Product API","text":"<p>Challenge: Create a complete Product API with the following requirements:</p> <ol> <li>Model: Create a <code>Product</code> model with:</li> <li><code>name</code> (CharField, max 200)</li> <li><code>description</code> (TextField, optional)</li> <li><code>price</code> (DecimalField, max 10 digits, 2 decimal places)</li> <li><code>stock</code> (IntegerField, default 0)</li> <li><code>is_available</code> (BooleanField, default True)</li> <li> <p><code>created_at</code> and <code>updated_at</code> (auto timestamps)</p> </li> <li> <p>Serializer: Create <code>ProductSerializer</code> with:</p> </li> <li>All fields included</li> <li><code>id</code>, <code>created_at</code>, <code>updated_at</code> as read-only</li> <li> <p>Validation: price must be &gt; 0, stock must be &gt;= 0</p> </li> <li> <p>ViewSet: Create <code>ProductViewSet</code> using <code>ModelViewSet</code></p> </li> <li> <p>URLs: Configure routing with DefaultRouter</p> </li> <li> <p>Testing: Test all CRUD operations:</p> </li> <li>Create a product</li> <li>List all products</li> <li>Retrieve a specific product</li> <li>Update a product (full and partial)</li> <li>Delete a product</li> </ol> <p>Solution Hints:</p> <pre><code># Model\nclass Product(models.Model):\n    name = models.CharField(max_length=200)\n    description = models.TextField(blank=True)\n    price = models.DecimalField(max_digits=10, decimal_places=2)\n    stock = models.IntegerField(default=0)\n    is_available = models.BooleanField(default=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n# Serializer validation\ndef validate_price(self, value):\n    if value &lt;= 0:\n        raise serializers.ValidationError(\"Price must be greater than 0\")\n    return value\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#trivia","title":"Trivia","text":"<p>Test your understanding with these questions:</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-1","title":"Question 1","text":"<p>What does ORM stand for? - [ ] Object-Relational Mapping - [x] Object-Relational Mapping \u2713 - [ ] Object-Record Mapping - [ ] Object-Resource Mapping</p> <p>Explanation: ORM = Object-Relational Mapping. It's the technique that converts Python objects to database records and vice versa.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-2","title":"Question 2","text":"<p>What is the purpose of <code>makemigrations</code>? - [x] Create migration files without changing database - [ ] Apply migrations to database - [ ] Delete old migrations - [ ] View migration history</p> <p>Explanation: <code>makemigrations</code> creates migration files that describe database changes, but doesn't actually modify the database. Use <code>migrate</code> to apply them.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-3","title":"Question 3","text":"<p>Which HTTP method is used to create a new resource? - [ ] GET - [x] POST - [ ] PUT - [ ] DELETE</p> <p>Explanation: POST is used to create new resources. GET retrieves, PUT/PATCH updates, DELETE removes.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-4","title":"Question 4","text":"<p>What does CORS stand for? - [ ] Cross-Origin Resource Sharing - [x] Cross-Origin Resource Sharing \u2713 - [ ] Cross-Origin Request Sharing - [ ] Cross-Origin Response Sharing</p> <p>Explanation: CORS = Cross-Origin Resource Sharing. It allows browsers to make requests to APIs on different domains.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-5","title":"Question 5","text":"<p>What is the difference between <code>null=True</code> and <code>blank=True</code> in Django models? - [ ] They are the same - [x] <code>null=True</code> allows NULL in database, <code>blank=True</code> allows empty in forms - [ ] <code>null=True</code> is for strings, <code>blank=True</code> is for numbers - [ ] <code>null=True</code> is for forms, <code>blank=True</code> is for database</p> <p>Explanation:  - <code>null=True</code> = Database can store NULL - <code>blank=True</code> = Forms/API can accept empty value - For CharField/TextField, you often need both: <code>null=True, blank=True</code></p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-6","title":"Question 6","text":"<p>What does <code>auto_now_add=True</code> do? - [ ] Updates the field every time the object is saved - [x] Sets the field to current time only when object is first created - [ ] Deletes the field after creation - [ ] Makes the field optional</p> <p>Explanation: <code>auto_now_add=True</code> sets the field to the current timestamp when the object is first created. Use <code>auto_now=True</code> to update on every save.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-7","title":"Question 7","text":"<p>What is a ViewSet? - [ ] A single view function - [x] A class that provides CRUD operations for a model - [ ] A URL pattern - [ ] A serializer class</p> <p>Explanation: ViewSet is a class that combines multiple view actions (list, create, retrieve, update, delete) into one class. It works with routers to automatically create URLs.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-8","title":"Question 8","text":"<p>What status code should you return when creating a new resource? - [ ] 200 - [x] 201 - [ ] 204 - [ ] 400</p> <p>Explanation: 201 Created is the standard status code for successful resource creation. 200 is for successful retrieval, 204 for successful deletion.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-9","title":"Question 9","text":"<p>What is the purpose of <code>read_only_fields</code> in a serializer? - [ ] Fields that can only be read from database - [x] Fields that are included in response but cannot be set via API - [ ] Fields that are hidden from response - [ ] Fields that are required</p> <p>Explanation: <code>read_only_fields</code> are included when serializing (sending to client) but cannot be set when deserializing (receiving from client). Common for auto-generated fields like <code>id</code> and <code>created_at</code>.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-10","title":"Question 10","text":"<p>Why do we use virtual environments? - [ ] To make Python run faster - [x] To isolate project dependencies and avoid conflicts - [ ] To secure our code - [ ] To organize files</p> <p>Explanation: Virtual environments isolate Python packages for each project, preventing conflicts when different projects need different versions of the same package.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#practice-problems","title":"Practice Problems","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#problem-1-understanding-the-flow","title":"Problem 1: Understanding the Flow","text":"<p>Task: Explain what happens when a client sends a POST request to create a book. Trace the request through: 1. URL routing 2. View processing 3. Serializer validation 4. Model creation 5. Response generation</p> <p>Solution:</p> <pre><code>1. Client sends POST /api/books/ with JSON data\n2. URL router matches pattern, calls BookViewSet.create()\n3. View receives request, gets serializer\n4. Serializer validates data (checks required fields, types)\n5. If valid: serializer.save() creates Book object in database\n6. Serializer converts Book object to JSON\n7. View returns Response with JSON and 201 status code\n8. Client receives response\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#problem-2-debugging","title":"Problem 2: Debugging","text":"<p>Scenario: You created a Book model and serializer, but when you try to create a book via API, you get a 400 error saying \"title is required\" even though you're sending it.</p> <p>Possible Issues: 1. Field name mismatch (sending <code>book_title</code> but model expects <code>title</code>) 2. Serializer not including <code>title</code> in fields 3. Content-Type header missing (not <code>application/json</code>) 4. JSON syntax error in request body</p> <p>How to Debug:</p> <pre><code># Check serializer fields\nprint(BookSerializer().fields.keys())\n\n# Check request data\nprint(request.data)\n\n# Check validation errors\nserializer = BookSerializer(data=request.data)\nif not serializer.is_valid():\n    print(serializer.errors)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#problem-3-model-design","title":"Problem 3: Model Design","text":"<p>Task: Design a model for a Blog Post with these requirements: - Title (required, max 200 chars) - Content (required, can be long) - Author name (required) - Published date (optional, can be set later) - Is published (boolean, default False) - View count (integer, starts at 0) - Created and updated timestamps</p> <p>Solution:</p> <pre><code>class BlogPost(models.Model):\n    title = models.CharField(max_length=200)\n    content = models.TextField()\n    author_name = models.CharField(max_length=100)\n    published_date = models.DateTimeField(null=True, blank=True)\n    is_published = models.BooleanField(default=False)\n    view_count = models.IntegerField(default=0)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#problem-4-serializer-customization","title":"Problem 4: Serializer Customization","text":"<p>Task: Create a serializer that: - Includes all fields from Book model - Adds a computed field <code>is_recent</code> (True if created in last 7 days) - Excludes <code>updated_at</code> from response - Makes <code>isbn</code> optional when creating</p> <p>Solution:</p> <pre><code>from datetime import timedelta\nfrom django.utils import timezone\n\nclass BookSerializer(serializers.ModelSerializer):\n    is_recent = serializers.SerializerMethodField()\n\n    class Meta:\n        model = Book\n        fields = ['id', 'title', 'author', 'published_date', 'isbn', \n                  'created_at', 'is_recent']\n        read_only_fields = ['id', 'created_at']\n\n    def get_is_recent(self, obj):\n        seven_days_ago = timezone.now() - timedelta(days=7)\n        return obj.created_at &gt;= seven_days_ago\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#add-ons","title":"Add-ons","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#add-on-1-custom-response-format","title":"Add-on 1: Custom Response Format","text":"<p>Implement a consistent response format across all endpoints.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#add-on-2-model-validation","title":"Add-on 2: Model Validation","text":"<p>Add custom validation to models:</p> <pre><code># api/models.py\nfrom django.core.exceptions import ValidationError\n\nclass Task(models.Model):\n    # ... fields ...\n\n    def clean(self):\n        if self.completed and not self.desc:\n            raise ValidationError('Completed tasks must have a description')\n\n    def save(self, *args, **kwargs):\n        self.full_clean()\n        super().save(*args, **kwargs)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#add-on-3-serializer-validation","title":"Add-on 3: Serializer Validation","text":"<pre><code># api/serializers.py\nclass TaskSerializer(serializers.ModelSerializer):\n    # ... fields ...\n\n    def validate_title(self, value):\n        if len(value) &lt; 3:\n            raise serializers.ValidationError(\"Title must be at least 3 characters\")\n        return value\n\n    def validate(self, data):\n        if data.get('completed') and not data.get('desc'):\n            raise serializers.ValidationError(\"Completed tasks must have a description\")\n        return data\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#common-errors-and-solutions","title":"Common Errors and Solutions","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#error-1-modulenotfounderror-no-module-named-rest_framework","title":"Error 1: <code>ModuleNotFoundError: No module named 'rest_framework'</code>","text":"<p>Error Message:</p> <pre><code>ModuleNotFoundError: No module named 'rest_framework'\n</code></pre> <p>Why This Happens: - DRF is not installed - Virtual environment not activated - Installing in wrong environment</p> <p>How to Fix:</p> <pre><code># 1. Activate virtual environment\nsource venv/bin/activate  # Linux/Mac\n# or\nvenv\\Scripts\\activate  # Windows\n\n# 2. Install DRF\npip install djangorestframework\n\n# 3. Verify installation\npip list | grep djangorestframework\n\n# 4. Make sure it's in INSTALLED_APPS\n# core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'rest_framework',  # Must be here!\n]\n</code></pre> <p>Prevention: Always activate virtual environment before installing packages.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-2-djangocoreexceptionsimproperlyconfigured-application-labels-arent-unique","title":"Error 2: <code>django.core.exceptions.ImproperlyConfigured: Application labels aren't unique</code>","text":"<p>Error Message:</p> <pre><code>django.core.exceptions.ImproperlyConfigured: Application labels aren't unique, duplicates: api\n</code></pre> <p>Why This Happens: - App added to <code>INSTALLED_APPS</code> multiple times - Typo in app name causing duplicate</p> <p>How to Fix:</p> <pre><code># core/settings.py\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    # ... other apps ...\n    'rest_framework',\n    'api',  # Only once!\n    # 'api',  # Remove duplicate!\n]\n</code></pre> <p>Prevention: Check <code>INSTALLED_APPS</code> for duplicates before running server.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-3-djangodbutilsoperationalerror-no-such-table-api_book","title":"Error 3: <code>django.db.utils.OperationalError: no such table: api_book</code>","text":"<p>Error Message:</p> <pre><code>django.db.utils.OperationalError: no such table: api_book\n</code></pre> <p>Why This Happens: - Model created but migrations not run - Migrations created but not applied - Database doesn't have the table yet</p> <p>How to Fix:</p> <pre><code># 1. Create migrations\npython manage.py makemigrations\n\n# 2. Apply migrations\npython manage.py migrate\n\n# 3. Verify table exists (optional)\npython manage.py dbshell\n# Then: .tables (SQLite) or \\dt (PostgreSQL)\n</code></pre> <p>Prevention: Always run <code>makemigrations</code> and <code>migrate</code> after creating/modifying models.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-4-attributeerror-queryset-object-has-no-attribute-title","title":"Error 4: <code>AttributeError: 'QuerySet' object has no attribute 'title'</code>","text":"<p>Error Message:</p> <pre><code>AttributeError: 'QuerySet' object has no attribute 'title'\n</code></pre> <p>Why This Happens: - Trying to access attribute on QuerySet instead of model instance - Forgot to use <code>.get()</code> or <code>.first()</code> to get single object</p> <p>Example of Wrong Code:</p> <pre><code># WRONG - books is a QuerySet, not a Book object\nbooks = Book.objects.all()\nprint(books.title)  # \u274c Error!\n\n# CORRECT - Get single object\nbook = Book.objects.get(id=1)\nprint(book.title)  # \u2705 Works!\n\n# Or iterate over QuerySet\nbooks = Book.objects.all()\nfor book in books:\n    print(book.title)  # \u2705 Works!\n</code></pre> <p>How to Fix:</p> <pre><code># Option 1: Get single object\nbook = Book.objects.get(id=1)\n\n# Option 2: Get first object\nbook = Book.objects.first()\n\n# Option 3: Iterate over QuerySet\nfor book in Book.objects.all():\n    print(book.title)\n</code></pre> <p>Prevention: Remember that <code>.all()</code>, <code>.filter()</code> return QuerySets, not objects.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-5-serializersvalidationerror-title-this-field-is-required","title":"Error 5: <code>serializers.ValidationError: {'title': ['This field is required.']}</code>","text":"<p>Error Message:</p> <pre><code>serializers.ValidationError: {'title': ['This field is required.']}\n</code></pre> <p>Why This Happens: - Required field not sent in request - Field name mismatch (sending <code>book_title</code> but expecting <code>title</code>) - Content-Type header missing (not <code>application/json</code>)</p> <p>How to Fix:</p> <pre><code># Check what fields are required\nserializer = BookSerializer()\nprint(serializer.fields)  # See all fields\n\n# Check request data\nprint(request.data)  # What was actually sent\n\n# Make sure Content-Type is set\n# In cURL:\ncurl -X POST http://localhost:8000/api/books/ \\\n  -H \"Content-Type: application/json\" \\  # \u2190 This is important!\n  -d '{\"title\": \"My Book\", \"author\": \"John\"}'\n</code></pre> <p>Common Mistakes: 1. Missing Content-Type: Browser/Postman might not set it automatically 2. Field name typo: <code>\"titel\"</code> instead of <code>\"title\"</code> 3. JSON syntax error: Missing quotes, commas</p> <p>Prevention: Always check <code>request.data</code> in view to see what was received.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-6-djangourlsexceptionsnoreversematch-reverse-for-book-list-not-found","title":"Error 6: <code>django.urls.exceptions.NoReverseMatch: Reverse for 'book-list' not found</code>","text":"<p>Error Message:</p> <pre><code>django.urls.exceptions.NoReverseMatch: Reverse for 'book-list' not found\n</code></pre> <p>Why This Happens: - URL name doesn't exist - URL not included in main <code>urls.py</code> - Typo in URL name</p> <p>How to Fix:</p> <pre><code># 1. Check URL name exists\n# api/urls.py\nurlpatterns = [\n    path('books/', views.BookViewSet.as_view(), name='book-list'),  # Name must match\n]\n\n# 2. Make sure it's included in main urls.py\n# core/urls.py\nurlpatterns = [\n    path('api/', include('api.urls')),  # Must include!\n]\n\n# 3. List all URL names (debug)\npython manage.py show_urls  # If installed\n# Or check manually in urls.py files\n</code></pre> <p>Prevention: Use consistent naming: <code>{model}-list</code>, <code>{model}-detail</code>.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-7-typeerror-object-of-type-book-is-not-json-serializable","title":"Error 7: <code>TypeError: Object of type Book is not JSON serializable</code>","text":"<p>Error Message:</p> <pre><code>TypeError: Object of type Book is not JSON serializable\n</code></pre> <p>Why This Happens: - Trying to return model object directly instead of serialized data - Forgot to use serializer</p> <p>Example of Wrong Code:</p> <pre><code># WRONG - Can't return model object directly\ndef list(self, request):\n    books = Book.objects.all()\n    return Response(books)  # \u274c Error!\n\n# CORRECT - Must serialize first\ndef list(self, request):\n    books = Book.objects.all()\n    serializer = BookSerializer(books, many=True)\n    return Response(serializer.data)  # \u2705 Works!\n</code></pre> <p>How to Fix:</p> <pre><code># Always use serializer\nserializer = BookSerializer(books, many=True)  # many=True for lists\nreturn Response(serializer.data)  # .data converts to JSON-serializable dict\n</code></pre> <p>Prevention: Always use serializers to convert model objects to JSON.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-8-djangodbutilsintegrityerror-unique-constraint-failed","title":"Error 8: <code>django.db.utils.IntegrityError: UNIQUE constraint failed</code>","text":"<p>Error Message:</p> <pre><code>django.db.utils.IntegrityError: UNIQUE constraint failed: api_book.isbn\n</code></pre> <p>Why This Happens: - Trying to create object with duplicate unique field value - Unique constraint violation (ISBN already exists)</p> <p>How to Fix:</p> <pre><code># Option 1: Check before creating\nif Book.objects.filter(isbn=isbn_value).exists():\n    return Response({'error': 'ISBN already exists'}, status=400)\n\n# Option 2: Handle in serializer\nclass BookSerializer(serializers.ModelSerializer):\n    def validate_isbn(self, value):\n        if Book.objects.filter(isbn=value).exists():\n            raise serializers.ValidationError(\"ISBN already exists\")\n        return value\n\n# Option 3: Use get_or_create\nbook, created = Book.objects.get_or_create(\n    isbn=isbn_value,\n    defaults={'title': 'Default Title', 'author': 'Author'}\n)\n</code></pre> <p>Prevention: Validate unique fields before saving, or use <code>get_or_create()</code>.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-9-attributeerror-nonetype-object-has-no-attribute-username","title":"Error 9: <code>AttributeError: 'NoneType' object has no attribute 'username'</code>","text":"<p>Error Message:</p> <pre><code>AttributeError: 'NoneType' object has no attribute 'username'\n</code></pre> <p>Why This Happens: - Trying to access attribute on <code>None</code> object - <code>.get()</code> returned <code>None</code> (object doesn't exist) - ForeignKey relationship is <code>None</code></p> <p>Example of Wrong Code:</p> <pre><code># WRONG - Book might not exist\nbook = Book.objects.get(id=999)  # If doesn't exist, raises DoesNotExist\n# Or if using filter().first():\nbook = Book.objects.filter(id=999).first()  # Returns None if not found\nprint(book.title)  # \u274c Error if book is None!\n</code></pre> <p>How to Fix:</p> <pre><code># Option 1: Use try/except\ntry:\n    book = Book.objects.get(id=999)\n    print(book.title)\nexcept Book.DoesNotExist:\n    return Response({'error': 'Book not found'}, status=404)\n\n# Option 2: Check if None\nbook = Book.objects.filter(id=999).first()\nif book:\n    print(book.title)\nelse:\n    return Response({'error': 'Book not found'}, status=404)\n\n# Option 3: Use get_object_or_404 (in views)\nfrom django.shortcuts import get_object_or_404\nbook = get_object_or_404(Book, id=999)  # Raises 404 if not found\n</code></pre> <p>Prevention: Always check if object exists before accessing attributes.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-10-djangocoreexceptionsfielderror-cannot-resolve-keyword-author_name-into-field","title":"Error 10: <code>django.core.exceptions.FieldError: Cannot resolve keyword 'author_name' into field</code>","text":"<p>Error Message:</p> <pre><code>django.core.exceptions.FieldError: Cannot resolve keyword 'author_name' into field\n</code></pre> <p>Why This Happens: - Field name doesn't exist in model - Typo in field name - Using wrong lookup (e.g., <code>author_name</code> instead of <code>author__name</code>)</p> <p>How to Fix:</p> <pre><code># Check actual field names in model\nclass Book(models.Model):\n    author = models.CharField(max_length=100)  # Field is 'author', not 'author_name'\n\n# WRONG\nBook.objects.filter(author_name='John')  # \u274c Field doesn't exist\n\n# CORRECT\nBook.objects.filter(author='John')  # \u2705 Correct field name\n\n# For ForeignKey relationships, use double underscore\nclass Book(models.Model):\n    author = models.ForeignKey(User, on_delete=models.CASCADE)\n\n# Access related field\nBook.objects.filter(author__username='john')  # \u2705 author__username\n</code></pre> <p>Prevention: Check model fields before filtering. Use <code>model._meta.get_fields()</code> to list all fields.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-11-assertionerror-thequerysetattribute-may-not-be-arawqueryset","title":"Error 11: <code>AssertionError: The</code>.queryset<code>attribute may not be a</code>RawQuerySet``","text":"<p>Error Message:</p> <pre><code>AssertionError: The `.queryset` attribute may not be a `RawQuerySet`\n</code></pre> <p>Why This Happens: - Using <code>.raw()</code> SQL query in ViewSet queryset - ViewSet expects QuerySet, not RawQuerySet</p> <p>How to Fix:</p> <pre><code># WRONG - Can't use raw() in ViewSet\nclass BookViewSet(viewsets.ModelViewSet):\n    queryset = Book.objects.raw(\"SELECT * FROM api_book\")  # \u274c\n\n# CORRECT - Use normal QuerySet\nclass BookViewSet(viewsets.ModelViewSet):\n    queryset = Book.objects.all()  # \u2705\n\n# If you need raw SQL, use it in get_queryset()\nclass BookViewSet(viewsets.ModelViewSet):\n    def get_queryset(self):\n        # Process raw query results\n        raw_books = Book.objects.raw(\"SELECT * FROM api_book\")\n        # Convert to list of objects\n        return list(raw_books)\n</code></pre> <p>Prevention: ViewSets expect QuerySets, not RawQuerySets. Use <code>.raw()</code> only when necessary.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-12-keyerror-title-in-serializer","title":"Error 12: <code>KeyError: 'title'</code> in Serializer","text":"<p>Error Message:</p> <pre><code>KeyError: 'title'\n</code></pre> <p>Why This Happens: - Accessing key that doesn't exist in dictionary - Field not included in request data - Typo in field name</p> <p>How to Fix:</p> <pre><code># WRONG - Assumes 'title' exists\ndef create(self, validated_data):\n    title = validated_data['title']  # \u274c KeyError if 'title' not present\n\n# CORRECT - Use .get() with default\ndef create(self, validated_data):\n    title = validated_data.get('title', 'Untitled')  # \u2705 Default value\n\n# Or check if key exists\ndef create(self, validated_data):\n    if 'title' in validated_data:\n        title = validated_data['title']\n    else:\n        raise serializers.ValidationError({'title': 'This field is required'})\n</code></pre> <p>Prevention: Use <code>.get()</code> method with defaults, or validate required fields first.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#general-debugging-tips","title":"General Debugging Tips","text":"<p>1. Read the Full Error Message - Django/DRF errors are usually descriptive - Look for the actual error (last line) - Check the traceback to see where it happened</p> <p>2. Check Your Code Step by Step</p> <pre><code># Add print statements to debug\ndef create(self, request):\n    print(\"Request data:\", request.data)  # What was sent?\n    serializer = BookSerializer(data=request.data)\n    print(\"Serializer valid:\", serializer.is_valid())  # Is it valid?\n    if not serializer.is_valid():\n        print(\"Errors:\", serializer.errors)  # What are the errors?\n    # ...\n</code></pre> <p>3. Use Django Shell</p> <pre><code>python manage.py shell\n\n# Test your code\nfrom api.models import Book\nfrom api.serializers import BookSerializer\n\n# Test model\nbook = Book.objects.first()\nprint(book.title)\n\n# Test serializer\ndata = {'title': 'Test', 'author': 'John'}\nserializer = BookSerializer(data=data)\nprint(serializer.is_valid())\nprint(serializer.errors)\n</code></pre> <p>4. Check Database State</p> <pre><code># View all books\npython manage.py shell\n&gt;&gt;&gt; from api.models import Book\n&gt;&gt;&gt; Book.objects.all()\n&gt;&gt;&gt; Book.objects.count()\n</code></pre> <p>5. Verify URLs</p> <pre><code># List all URLs\npython manage.py show_urls  # If installed\n# Or check urls.py files manually\n</code></pre> <p>6. Check Settings - Verify <code>INSTALLED_APPS</code> includes your app - Check <code>REST_FRAMEWORK</code> settings - Verify database configuration</p> <p>7. Common Patterns - Import errors: Check virtual environment activated, package installed - Database errors: Run migrations - Serializer errors: Check field names match model - URL errors: Verify URL patterns and names - Permission errors: Check authentication/permissions</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 1. You now know:</p> <ul> <li>\u2705 REST fundamentals</li> <li>\u2705 Django project structure</li> <li>\u2705 Models and migrations</li> <li>\u2705 Serializers</li> <li>\u2705 Views (APIView, Generic Views, ViewSets)</li> <li>\u2705 URL routing</li> <li>\u2705 Building CRUD APIs</li> </ul> <p>Ready for Level 2A? Continue to Level 2A: Intermediate - Authentication, Permissions &amp; Throttling to learn about authentication, permissions, and rate limiting!</p> <p>Resources: - DRF Official Tutorial - Django Models Documentation - DRF Serializers Guide</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html","title":"Level 2A: Intermediate - Authentication, Permissions &amp; Throttling","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#goal","title":"Goal","text":"<p>Build secure APIs with robust authentication, permissions, and rate limiting. By the end of this level, you'll be able to create secure REST APIs with user authentication, access control, and protection against API abuse.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#note-on-examples","title":"Note on Examples","text":"<p>This guide uses Task API as the primary example throughout explanation sections for consistency with Level 1. Complete step-by-step implementations are provided for both Task API (user-owned, private data) and Book API (can be public or user-owned) to show different use cases:</p> <ul> <li>Task API examples: Used in explanations (authentication, permissions, throttling) - represents private, user-owned data</li> <li>Book API examples: Used in complete step-by-step section - represents content that can be public or user-owned</li> <li>Both examples: Help you understand different scenarios and patterns</li> </ul> <p>Note: Filtering, searching, ordering, and pagination are covered in Level 2B. This level (2A) focuses on authentication, permissions, and throttling.</p> <p>You can apply all concepts to any model (Task, Book, Product, Post, etc.).</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#class-based-views-cbv-approach","title":"Class-Based Views (CBV) Approach","text":"<p>This guide follows the Class-Based Views (CBV) approach throughout, which is the recommended and modern way to build DRF APIs:</p> <ul> <li>\u2705 ViewSets (<code>ModelViewSet</code>, <code>ReadOnlyViewSet</code>) - For CRUD operations</li> <li>\u2705 Generic Views (<code>CreateAPIView</code>, <code>ListAPIView</code>, etc.) - For specific operations</li> <li>\u2705 APIView - For custom logic when needed</li> <li>\u274c Function-based views (<code>@api_view</code>) - Only used when absolutely necessary</li> </ul> <p>Why Class-Based Views? - Reusable: Easy to extend and customize - DRY: Less code duplication - Built-in features: Authentication, permissions, filtering work automatically - Industry standard: Most DRF projects use CBV - Better organization: Clear separation of concerns</p> <p>All examples in this guide use class-based views unless explicitly noted otherwise.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Class-Based Views (CBV) Approach</li> <li>Django Authentication System</li> <li>Django Abstract Models</li> <li>DRF Authentication Classes</li> <li>JWT Authentication Setup</li> <li>Permissions</li> <li>Step-by-Step: Secure Book API</li> <li>Step-by-Step: Secure Task API</li> <li>UserProfile API</li> <li>Throttling<ul> <li>What is Throttling?</li> <li>How Throttling is Determined</li> <li>Setting the Throttling Policy</li> <li>How Clients are Identified</li> <li>Setting up the Cache</li> <li>A Note on Concurrency</li> <li>API Reference</li> <li>Custom Throttles</li> </ul> </li> <li>Exercises</li> <li>Common Errors and Solutions</li> <li>Add-ons</li> </ol>"},{"location":"LEVEL_2A_INTERMEDIATE.html#django-authentication-system","title":"Django Authentication System","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#why-authentication","title":"Why Authentication?","text":"<p>The Problem: Without authentication, anyone can access your API and modify data. This is a security risk!</p> <p>Real-world analogy:  - No authentication = House with no locks (anyone can enter) - With authentication = House with keys (only authorized people enter)</p> <p>Why it matters: - Security: Protect user data - Personalization: Show users only their data - Accountability: Track who did what - Access control: Limit what users can do</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#understanding-django-users","title":"Understanding Django Users","text":"<p>Django comes with a built-in User model that handles user accounts:</p> <p>What is a User model? - Represents a person using your application - Stores login credentials (username, password) - Tracks user information (email, name) - Manages permissions and access levels</p> <p>Why use Django's User model? - Ready-made: No need to build from scratch - Secure: Password hashing built-in - Tested: Used by millions of applications - Flexible: Can be extended for custom needs</p> <pre><code>from django.contrib.auth.models import User\n\n# User fields\nuser.username      # Username\nuser.email         # Email address\nuser.password      # Hashed password (never access directly)\nuser.first_name    # First name\nuser.last_name     # Last name\nuser.is_staff      # Admin access (can access Django admin)\nuser.is_active     # Account status (False = disabled account)\nuser.is_superuser  # Superuser (all permissions)\nuser.date_joined   # When user account was created\n</code></pre> <p>Explanation of key fields: - <code>username</code>: Unique identifier for login - <code>email</code>: User's email address - <code>password</code>: Stored as hash (never plain text) - <code>is_staff</code>: Can access Django admin panel - <code>is_active</code>: If False, user cannot login - <code>is_superuser</code>: Has all permissions automatically</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#creating-users","title":"Creating Users","text":"<p>Why multiple methods? - Different methods serve different purposes - Some hash passwords (secure), others don't (insecure) - Always use methods that hash passwords!</p> <pre><code># In Django shell: python manage.py shell\n# Open Django shell: python manage.py shell\n\n# Import Django's built-in User model\nfrom django.contrib.auth.models import User\n\n# Method 1: create_user (recommended - hashes password automatically)\n# This is the SECURE way to create users\n# create_user() automatically:\n#   - Hashes the password (converts to secure hash)\n#   - Validates username/email format\n#   - Sets is_active=True by default\nuser = User.objects.create_user(\n    username='john',  # Unique username for login\n    email='john@example.com',  # User's email address\n    password='securepassword123'  # Password will be hashed automatically\n)\n# After this, user.password contains a hash like \"pbkdf2_sha256$...\" (not plain text!)\n</code></pre> <p>Why <code>create_user</code>? - Password hashing: Converts password to secure hash (can't be reversed) - Validation: Checks username/email format - Default values: Sets sensible defaults (is_active=True) - Security: Never store plain text passwords!</p> <p>What is password hashing? - Plain password: <code>\"mypassword123\"</code> \u274c (stored as-is, anyone can read) - Hashed password: <code>\"pbkdf2_sha256$...\"</code> \u2705 (one-way encryption, can't be reversed) - When user logs in, Django hashes their input and compares with stored hash</p> <pre><code># Method 2: create_superuser\n# Creates a user with admin privileges\n# Use this for site administrators who need full access\nadmin = User.objects.create_superuser(\n    username='admin',  # Admin username\n    email='admin@example.com',  # Admin email\n    password='admin123'  # Admin password (will be hashed)\n)\n# After this, admin has:\n#   - is_staff=True (can access Django admin panel)\n#   - is_superuser=True (has all permissions automatically)\n#   - Password is hashed (secure)\n</code></pre> <p>Why <code>create_superuser</code>? - Creates user with admin privileges (<code>is_staff=True</code>, <code>is_superuser=True</code>) - Can access Django admin panel - Has all permissions by default - Use for site administrators</p> <pre><code># Method 3: Using User.objects.create (not recommended - password not hashed)\n</code></pre> <p>Why NOT use <code>User.objects.create</code>? - Security risk: Password stored in plain text! - No validation - No password hashing - Never use this for passwords!</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#custom-user-model","title":"Custom User Model","text":"<p>Why create a custom user model?</p> <p>The Problem: Django's default User model has limited fields (username, email, password). What if you need: - Phone numbers - Profile pictures - Bio/description - Custom fields</p> <p>The Solution: Extend Django's User model with your own fields.</p> <p>When to use custom user model? - Production apps: Almost always - Need extra fields: Phone, avatar, bio, etc. - Different login: Email instead of username - Before first migration: Must set before creating database</p> <p>Why before first migration? - Changing user model after migration is very difficult - Requires database restructuring - Can cause data loss - Always decide early!</p> <pre><code># api/models.py\nfrom django.contrib.auth.models import AbstractUser\nfrom django.db import models\n\nclass CustomUser(AbstractUser):\n    phone_number = models.CharField(max_length=15, blank=True)\n    bio = models.TextField(blank=True)\n    avatar = models.ImageField(upload_to='avatars/', blank=True, null=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return self.username\n</code></pre> <p>Explanation: - <code>AbstractUser</code>: Base class with all default User fields (username, email, password, etc.) - Extend it: Add your custom fields - Inherits everything: All User functionality still works - Add custom fields: Phone, bio, avatar, etc.</p> <p>Update settings.py:</p> <pre><code># core/settings.py\nAUTH_USER_MODEL = 'api.CustomUser'\n</code></pre> <p>What this does: - Tells Django to use your custom user model - Replaces default User model everywhere - Must be set before first migration!</p> <p>Important: Set this before your first migration! Once migrations are created, changing is very difficult.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#django-abstract-models","title":"Django Abstract Models","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#what-are-abstract-models","title":"What are Abstract Models?","text":"<p>Abstract Models are base model classes that are not created as database tables themselves. Instead, they serve as templates that other models can inherit from to share common fields and methods.</p> <p>Why use Abstract Models? - DRY Principle: Don't Repeat Yourself - define common fields once - Consistency: All models have the same timestamp fields, soft delete, etc. - Maintainability: Update common fields in one place - Reusability: Share common functionality across multiple models</p> <p>Real-world analogy: - Abstract Model = Blueprint template (not a real house) - Regular Model = Actual house built from blueprint - Inheritance = Multiple houses can use the same blueprint</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#creating-abstract-base-models","title":"Creating Abstract Base Models","text":"<p>Key Point: Set <code>abstract = True</code> in the <code>Meta</code> class. This tells Django: \"Don't create a database table for this model, it's just a template.\"</p> <pre><code># api/models.py\nfrom django.db import models\n\n# Abstract model - won't create a database table\n# This is just a template for other models to inherit from\nclass TimestampedModel(models.Model):\n    \"\"\"\n    Abstract base model that provides created_at and updated_at fields.\n    Any model that inherits from this will automatically get these fields.\n    \"\"\"\n    # Auto-set when object is first created (never changes)\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    # Auto-updated every time object is saved\n    updated_at = models.DateTimeField(auto_now=True)\n\n    class Meta:\n        # This makes it abstract - no database table will be created\n        abstract = True\n        # This means: \"This is a template, not a real model\"\n</code></pre> <p>What <code>abstract = True</code> does: - Django will NOT create a database table for this model - Other models can inherit from it - All fields and methods are inherited by child models</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#inheriting-from-abstract-models","title":"Inheriting from Abstract Models","text":"<p>How to use: Simply inherit from the abstract model instead of <code>models.Model</code>:</p> <pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\n# Inherit from TimestampedModel instead of models.Model\n# This automatically gives us created_at and updated_at fields\nclass Task(TimestampedModel):\n    \"\"\"\n    Task model that automatically has created_at and updated_at fields\n    thanks to inheriting from TimestampedModel.\n    \"\"\"\n    # Regular fields specific to Task\n    title = models.CharField(max_length=100)\n    desc = models.TextField(null=True, blank=True)\n    completed = models.BooleanField(default=False)\n    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='tasks')\n\n    # No need to define created_at and updated_at here!\n    # They're inherited from TimestampedModel automatically\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        ordering = ['-created_at']\n        # Note: We don't need abstract = True here\n        # This is a real model that will create a database table\n</code></pre> <p>What happens: - <code>Task</code> model gets all fields from <code>TimestampedModel</code> (created_at, updated_at) - Database table <code>api_task</code> will have: id, title, desc, completed, owner_id, created_at, updated_at - No separate table for <code>TimestampedModel</code> (because it's abstract)</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#common-abstract-model-patterns","title":"Common Abstract Model Patterns","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#pattern-1-timestampedmodel-most-common","title":"Pattern 1: TimestampedModel (Most Common)","text":"<pre><code># api/models.py\nfrom django.db import models\n\nclass TimestampedModel(models.Model):\n    \"\"\"\n    Provides created_at and updated_at timestamps to all models.\n    Use this when you want to track when objects are created/modified.\n    \"\"\"\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    class Meta:\n        abstract = True\n\n# Usage in any model:\nclass Book(TimestampedModel):\n    title = models.CharField(max_length=200)\n    # Automatically has created_at and updated_at\n\nclass Post(TimestampedModel):\n    content = models.TextField()\n    # Automatically has created_at and updated_at\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#pattern-2-soft-delete-model","title":"Pattern 2: Soft Delete Model","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.utils import timezone\n\nclass SoftDeleteModel(models.Model):\n    \"\"\"\n    Provides soft delete functionality.\n    Instead of actually deleting, sets deleted_at timestamp.\n    Objects can be \"restored\" by setting deleted_at to None.\n    \"\"\"\n    # When object was deleted (None = not deleted)\n    deleted_at = models.DateTimeField(null=True, blank=True)\n\n    class Meta:\n        abstract = True\n\n    def delete(self, using=None, keep_parents=False):\n        \"\"\"\n        Override delete() to do soft delete instead of hard delete.\n        Instead of removing from database, just mark as deleted.\n        \"\"\"\n        self.deleted_at = timezone.now()\n        self.save()\n\n    def restore(self):\n        \"\"\"Restore a soft-deleted object\"\"\"\n        self.deleted_at = None\n        self.save()\n\n    @property\n    def is_deleted(self):\n        \"\"\"Check if object is soft-deleted\"\"\"\n        return self.deleted_at is not None\n\n# Usage:\nclass Task(SoftDeleteModel, TimestampedModel):\n    \"\"\"\n    Task model with both soft delete and timestamps.\n    Can inherit from multiple abstract models!\n    \"\"\"\n    title = models.CharField(max_length=100)\n    # Has: created_at, updated_at, deleted_at, and all methods above\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#pattern-3-basemodel-combining-multiple-features","title":"Pattern 3: BaseModel (Combining Multiple Features)","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.utils import timezone\n\nclass BaseModel(models.Model):\n    \"\"\"\n    Comprehensive base model with timestamps and soft delete.\n    Use this as the foundation for most of your models.\n    \"\"\"\n    # Timestamp fields\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    # Soft delete field\n    deleted_at = models.DateTimeField(null=True, blank=True)\n\n    class Meta:\n        abstract = True\n        # Default ordering: newest first\n        ordering = ['-created_at']\n\n    def delete(self, using=None, keep_parents=False):\n        \"\"\"Soft delete instead of hard delete\"\"\"\n        self.deleted_at = timezone.now()\n        self.save()\n\n    def restore(self):\n        \"\"\"Restore soft-deleted object\"\"\"\n        self.deleted_at = None\n        self.save()\n\n    @property\n    def is_deleted(self):\n        \"\"\"Check if object is soft-deleted\"\"\"\n        return self.deleted_at is not None\n\n# Usage:\nclass Task(BaseModel):\n    \"\"\"\n    Task model inheriting from BaseModel.\n    Gets timestamps, soft delete, and default ordering automatically.\n    \"\"\"\n    title = models.CharField(max_length=100)\n    desc = models.TextField(blank=True)\n    # Automatically has: created_at, updated_at, deleted_at\n    # Plus: delete(), restore(), is_deleted property\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#multiple-inheritance-from-abstract-models","title":"Multiple Inheritance from Abstract Models","text":"<p>You can inherit from multiple abstract models:</p> <pre><code># api/models.py\nfrom django.db import models\n\nclass TimestampedModel(models.Model):\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    class Meta:\n        abstract = True\n\nclass SlugModel(models.Model):\n    \"\"\"\n    Abstract model that provides slug field and auto-generation.\n    \"\"\"\n    slug = models.SlugField(max_length=200, unique=True, blank=True)\n\n    class Meta:\n        abstract = True\n\n    def save(self, *args, **kwargs):\n        \"\"\"Auto-generate slug from title if not provided\"\"\"\n        from django.utils.text import slugify\n        if not self.slug:\n            # Generate slug from title (if model has title field)\n            if hasattr(self, 'title'):\n                self.slug = slugify(self.title)\n        super().save(*args, **kwargs)\n\n# Inherit from multiple abstract models\nclass Post(TimestampedModel, SlugModel):\n    \"\"\"\n    Post model with timestamps AND slug functionality.\n    Inherits from both abstract models.\n    \"\"\"\n    title = models.CharField(max_length=200)\n    content = models.TextField()\n    # Has: created_at, updated_at, slug (all inherited)\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#best-practices","title":"Best Practices","text":"<p>1. Use Abstract Models for Common Fields</p> <pre><code># \u2705 GOOD: Use abstract model for common fields\nclass TimestampedModel(models.Model):\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    class Meta:\n        abstract = True\n\nclass Task(TimestampedModel):\n    title = models.CharField(max_length=100)\n    # created_at and updated_at inherited\n\n# \u274c BAD: Repeating fields in every model\nclass Task(models.Model):\n    title = models.CharField(max_length=100)\n    created_at = models.DateTimeField(auto_now_add=True)  # Repeated\n    updated_at = models.DateTimeField(auto_now=True)  # Repeated\n</code></pre> <p>2. Keep Abstract Models Simple</p> <pre><code># \u2705 GOOD: Simple, focused abstract model\nclass TimestampedModel(models.Model):\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    class Meta:\n        abstract = True\n\n# \u274c BAD: Too complex, mixing concerns\nclass EverythingModel(models.Model):\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    deleted_at = models.DateTimeField(null=True)\n    slug = models.SlugField()\n    # ... too many things\n    class Meta:\n        abstract = True\n</code></pre> <p>3. Document Your Abstract Models</p> <pre><code># \u2705 GOOD: Well-documented abstract model\nclass TimestampedModel(models.Model):\n    \"\"\"\n    Abstract base model providing created_at and updated_at timestamps.\n\n    Usage:\n        class MyModel(TimestampedModel):\n            name = models.CharField(max_length=100)\n            # Automatically gets created_at and updated_at\n    \"\"\"\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    class Meta:\n        abstract = True\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#when-to-use-abstract-models","title":"When to Use Abstract Models","text":"<p>Use Abstract Models when: - \u2705 Multiple models need the same fields (timestamps, soft delete, etc.) - \u2705 You want to ensure consistency across models - \u2705 You want to reduce code duplication - \u2705 You want to share common methods/properties</p> <p>Don't use Abstract Models when: - \u274c Only one model needs the fields (just add them directly) - \u274c The fields are model-specific (not shared) - \u274c You need a database table for the base model (use regular inheritance)</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-by-step-adding-abstract-models-to-existing-project","title":"Step-by-Step: Adding Abstract Models to Existing Project","text":"<p>Step 1: Create Abstract Model</p> <pre><code># api/models.py\nfrom django.db import models\n\n# Create abstract model\nclass TimestampedModel(models.Model):\n    \"\"\"Base model with timestamp fields\"\"\"\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    class Meta:\n        abstract = True  # Important: makes it abstract\n</code></pre> <p>Step 2: Update Existing Models</p> <pre><code># api/models.py\n# Before:\nclass Task(models.Model):\n    title = models.CharField(max_length=100)\n    created_at = models.DateTimeField(auto_now_add=True)  # Remove this\n    updated_at = models.DateTimeField(auto_now=True)  # Remove this\n\n# After:\nclass Task(TimestampedModel):  # Inherit from TimestampedModel\n    title = models.CharField(max_length=100)\n    # created_at and updated_at are inherited automatically\n</code></pre> <p>Step 3: Create and Run Migrations</p> <pre><code># Create migration for the changes\npython manage.py makemigrations\n\n# Review the migration (it should remove created_at/updated_at from Task\n# and add them back via inheritance - but database structure stays same)\n\n# Apply migration\npython manage.py migrate\n</code></pre> <p>Note: If your models already have <code>created_at</code> and <code>updated_at</code> fields, Django will handle this in migrations. The database structure won't change, but your code becomes cleaner.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#common-abstract-model-examples","title":"Common Abstract Model Examples","text":"<p>Example 1: UUID Primary Key Model</p> <pre><code># api/models.py\nimport uuid\nfrom django.db import models\n\nclass UUIDModel(models.Model):\n    \"\"\"\n    Abstract model that uses UUID instead of auto-incrementing integer ID.\n    Useful for security (can't guess IDs) and distributed systems.\n    \"\"\"\n    # Use UUID as primary key instead of auto-incrementing integer\n    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)\n\n    class Meta:\n        abstract = True\n\n# Usage:\nclass Task(UUIDModel, TimestampedModel):\n    \"\"\"\n    Task with UUID primary key and timestamps.\n    ID will be something like: 'a1b2c3d4-e5f6-7890-abcd-ef1234567890'\n    \"\"\"\n    title = models.CharField(max_length=100)\n    # Has: UUID id, created_at, updated_at\n</code></pre> <p>Example 2: Owner Model (User Ownership)</p> <pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass OwnedModel(models.Model):\n    \"\"\"\n    Abstract model that adds owner field to track who created the object.\n    Useful for user-owned resources (tasks, posts, etc.).\n    \"\"\"\n    # ForeignKey to User - tracks who owns this object\n    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='%(class)s_set')\n\n    class Meta:\n        abstract = True\n\n# Usage:\nclass Task(OwnedModel, TimestampedModel):\n    \"\"\"\n    Task model with owner and timestamps.\n    Every task automatically has an owner field.\n    \"\"\"\n    title = models.CharField(max_length=100)\n    # Has: owner, created_at, updated_at\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#summary","title":"Summary","text":"<p>Key Takeaways: - Abstract models are templates, not real database tables - Set <code>abstract = True</code> in <code>Meta</code> class - Inherit from abstract models to get their fields/methods - Use for common fields like timestamps, soft delete, etc. - Follows DRY principle - define once, use everywhere - Can inherit from multiple abstract models</p> <p>Next: Now that you understand abstract models, you can create reusable base models for your project!</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#drf-authentication-classes","title":"DRF Authentication Classes","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#authentication-vs-authorization","title":"Authentication vs Authorization","text":"<p>These are two different but related concepts:</p> <ul> <li>Authentication: Who are you? (Identity)</li> <li>Verifies user's identity</li> <li>\"Are you really John?\"</li> <li> <p>Examples: Login, password check, token verification</p> </li> <li> <p>Authorization: What can you do? (Permissions)</p> </li> <li>Determines what user can access</li> <li>\"Can John edit this book?\"</li> <li>Examples: Admin only, owner only, read-only</li> </ul> <p>Real-world analogy: - Authentication = Showing ID at entrance (proving who you are) - Authorization = Security guard checking if you have access to VIP area (what you can do)</p> <p>Why both? - Authentication without authorization = Everyone can do everything - Authorization without authentication = Can't identify users - Need both for secure APIs!</p> <p>The Flow:</p> <pre><code>1. User sends credentials \u2192 Authentication (who are you?)\n2. If authenticated \u2192 Check permissions \u2192 Authorization (what can you do?)\n3. If authorized \u2192 Allow access\n4. If not authorized \u2192 Deny access (403 Forbidden)\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#drf-authentication-types","title":"DRF Authentication Types","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#1-session-authentication","title":"1. Session Authentication","text":"<p>What is Session Authentication?</p> <p>Uses Django's session framework. Stores authentication state on the server.</p> <p>How it works: 1. User logs in with username/password 2. Server creates a session (stored in database/cache) 3. Server sends session ID in cookie to browser 4. Browser sends cookie with each request 5. Server checks session to identify user</p> <p>Why use it? - Simple: Built into Django - Secure: Session stored server-side - Good for: Web apps (same domain) - Automatic: Browser handles cookies</p> <p>Limitations: - Same-origin only: Doesn't work well with mobile apps - Cookie-based: Requires browser cookie support - Server storage: Needs database/cache for sessions</p> <p>When to use: - Web applications (React, Vue on same domain) - Traditional web apps - When you control both frontend and backend</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': [\n        'rest_framework.authentication.SessionAuthentication',\n    ],\n}\n</code></pre> <p>Why this configuration? - Sets default authentication for all views - Can override per-view if needed - Multiple authentication classes can be used (tries each until one works)</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#2-token-authentication","title":"2. Token Authentication","text":"<p>Simple token-based authentication. Good for client-server setups.</p> <pre><code># Install\npip install djangorestframework-simplejwt\n</code></pre> <pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'rest_framework',\n    'rest_framework_simplejwt',  # Add this\n]\n\nREST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': [\n        'rest_framework_simplejwt.authentication.JWTAuthentication',\n    ],\n}\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#3-jwt-authentication-recommended","title":"3. JWT Authentication (Recommended)","text":"<p>What is JWT?</p> <p>JWT = JSON Web Token</p> <p>How it works: 1. User logs in with username/password 2. Server creates a JWT token (contains user info) 3. Server sends token to client 4. Client stores token (localStorage, memory) 5. Client sends token with each request in header 6. Server verifies token and extracts user info</p> <p>Why JWT is popular: - Stateless: No server-side storage needed - Scalable: Works across multiple servers - Mobile-friendly: Works with mobile apps - Industry standard: Used by major companies - Self-contained: Token has all user info</p> <p>JWT Structure:</p> <pre><code>Header.Payload.Signature\n\nExample:\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxfQ.signature\n</code></pre> <p>Parts: - Header: Algorithm and token type - Payload: User data (ID, username, etc.) - Signature: Ensures token wasn't tampered with</p> <p>Why stateless matters: - Session auth: Server stores session \u2192 needs database lookup - JWT auth: Token contains info \u2192 no database lookup needed - Result: Faster, more scalable</p> <p>Security considerations: - Tokens expire (access token: 1 hour, refresh token: 1 day) - Tokens can be blacklisted if compromised - Always use HTTPS in production (tokens in headers)</p> <p>When to use JWT: - \u2705 Mobile apps (iOS, Android) - \u2705 Single Page Applications (SPA) - \u2705 Microservices - \u2705 APIs used by multiple clients - \u274c Not ideal for traditional server-rendered apps</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#jwt-authentication-setup","title":"JWT Authentication Setup","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#step-1-install-package","title":"Step 1: Install Package","text":"<pre><code>pip install djangorestframework-simplejwt\npip freeze &gt; requirements.txt\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-2-add-to-installed_apps","title":"Step 2: Add to INSTALLED_APPS","text":"<pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'rest_framework',\n    'rest_framework_simplejwt',\n    'api',\n]\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-3-configure-jwt-settings","title":"Step 3: Configure JWT Settings","text":"<pre><code># core/settings.py\n# Import timedelta to specify token expiration times\nfrom datetime import timedelta\n\n# DRF configuration - applies to all views unless overridden\nREST_FRAMEWORK = {\n    # Authentication: How users prove their identity\n    # JWT Authentication uses tokens instead of sessions\n    'DEFAULT_AUTHENTICATION_CLASSES': [\n        'rest_framework_simplejwt.authentication.JWTAuthentication',\n    ],\n    # Permissions: What authenticated users can do\n    # IsAuthenticated = Must be logged in to access (default for all views)\n    'DEFAULT_PERMISSION_CLASSES': [\n        'rest_framework.permissions.IsAuthenticated',\n    ],\n}\n\n# JWT-specific settings - controls token behavior\nSIMPLE_JWT = {\n    # How long access token is valid (short = more secure, but users need to refresh more often)\n    'ACCESS_TOKEN_LIFETIME': timedelta(minutes=60),\n\n    # How long refresh token is valid (longer = users stay logged in longer)\n    'REFRESH_TOKEN_LIFETIME': timedelta(days=1),\n\n    # Security: Issue new refresh token when old one is used (prevents token reuse)\n    'ROTATE_REFRESH_TOKENS': True,\n\n    # Security: Add old refresh token to blacklist after rotation (prevents reuse)\n    'BLACKLIST_AFTER_ROTATION': True,\n\n    # Track when user last logged in (useful for security monitoring)\n    'UPDATE_LAST_LOGIN': True,\n\n    # Algorithm to sign tokens (HS256 = HMAC SHA-256, fast and secure)\n    'ALGORITHM': 'HS256',\n\n    # Secret key to sign tokens (use Django's SECRET_KEY for security)\n    'SIGNING_KEY': SECRET_KEY,\n\n    # Token type in Authorization header (Bearer is standard OAuth2 format)\n    'AUTH_HEADER_TYPES': ('Bearer',),\n\n    # Header name where token is sent (HTTP_AUTHORIZATION = \"Authorization: Bearer &lt;token&gt;\")\n    'AUTH_HEADER_NAME': 'HTTP_AUTHORIZATION',\n\n    # Which User model field to use as user ID (usually 'id')\n    'USER_ID_FIELD': 'id',\n\n    # Where to store user ID in token payload (used when decoding token)\n    'USER_ID_CLAIM': 'user_id',\n}\n</code></pre> <p>Explanation of JWT Settings:</p> <ul> <li><code>ACCESS_TOKEN_LIFETIME</code>: How long access token is valid (60 minutes)</li> <li>Why short?: If stolen, expires quickly</li> <li> <p>Trade-off: Security vs convenience</p> </li> <li> <p><code>REFRESH_TOKEN_LIFETIME</code>: How long refresh token is valid (1 day)</p> </li> <li>Why longer?: Used to get new access tokens</li> <li> <p>More secure: Stored more securely, used less often</p> </li> <li> <p><code>ROTATE_REFRESH_TOKENS</code>: Issue new refresh token when used</p> </li> <li>Why?: If old token stolen, it becomes invalid</li> <li> <p>Security: Limits damage from token theft</p> </li> <li> <p><code>BLACKLIST_AFTER_ROTATION</code>: Add old refresh token to blacklist</p> </li> <li>Why?: Prevents reuse of old tokens</li> <li> <p>Security: One-time use tokens</p> </li> <li> <p><code>UPDATE_LAST_LOGIN</code>: Update user's last login time</p> </li> <li> <p>Why?: Track user activity, security monitoring</p> </li> <li> <p><code>ALGORITHM</code>: How token is signed ('HS256' = HMAC SHA-256)</p> </li> <li>Why HS256?: Fast, secure, widely supported</li> <li> <p>Alternative: RS256 (asymmetric, more secure but slower)</p> </li> <li> <p><code>SIGNING_KEY</code>: Secret key to sign tokens (use Django SECRET_KEY)</p> </li> <li>Why secret?: Anyone with key can create valid tokens</li> <li> <p>Security: Never expose this key!</p> </li> <li> <p><code>AUTH_HEADER_TYPES</code>: Token type in header ('Bearer')</p> </li> <li>Why Bearer?: Standard OAuth2 format</li> <li> <p>Usage: <code>Authorization: Bearer &lt;token&gt;</code></p> </li> <li> <p><code>USER_ID_FIELD</code>: Which User model field to use ('id')</p> </li> <li><code>USER_ID_CLAIM</code>: Where to store user ID in token ('user_id')</li> </ul> <pre><code>### Step 4: Add JWT URLs\n\n```python\n# core/urls.py\n# Import Django admin and URL routing\nfrom django.contrib import admin\nfrom django.urls import path, include\n# Import JWT view classes for token management\nfrom rest_framework_simplejwt.views import (\n    TokenObtainPairView,  # POST /api/token/ - Get tokens (login)\n    TokenRefreshView,     # POST /api/token/refresh/ - Get new access token\n    TokenVerifyView,      # POST /api/token/verify/ - Check if token is valid\n)\n\n# URL patterns - maps URLs to views\nurlpatterns = [\n    # Django admin interface\n    path('admin/', admin.site.urls),\n    # Include API URLs from api app\n    path('api/', include('api.urls')),\n\n    # JWT authentication endpoints\n    # POST /api/token/ - Login: Send username/password, get access+refresh tokens\n    path('api/token/', TokenObtainPairView.as_view(), name='token_obtain_pair'),\n\n    # POST /api/token/refresh/ - Refresh: Send refresh token, get new access token\n    path('api/token/refresh/', TokenRefreshView.as_view(), name='token_refresh'),\n\n    # POST /api/token/verify/ - Verify: Send token, check if it's valid\n    path('api/token/verify/', TokenVerifyView.as_view(), name='token_verify'),\n]\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-5-create-user-registration-view","title":"Step 5: Create User Registration View","text":"<pre><code># api/serializers.py\n# Import DRF serializers for data validation and conversion\nfrom rest_framework import serializers\n# Import Django's built-in User model\nfrom django.contrib.auth.models import User\n\n# Serializer for user registration\n# ModelSerializer automatically creates fields based on User model\nclass UserRegistrationSerializer(serializers.ModelSerializer):\n    # Password field: write_only means it's only used when creating (not returned in response)\n    # min_length=8 enforces minimum password length\n    password = serializers.CharField(write_only=True, min_length=8)\n\n    # Password confirmation field: also write_only, used to verify passwords match\n    password_confirm = serializers.CharField(write_only=True)\n\n    class Meta:\n        # Base serializer on User model\n        model = User\n        # Fields to include in registration form\n        fields = ['username', 'email', 'password', 'password_confirm', 'first_name', 'last_name']\n\n    # Object-level validation: Check if passwords match\n    # This method is called after field-level validation\n    def validate(self, data):\n        # Compare password and password_confirm\n        if data['password'] != data['password_confirm']:\n            # Raise validation error if they don't match\n            raise serializers.ValidationError(\"Passwords don't match\")\n        return data\n\n    # Override create() to handle password hashing\n    # This is called when serializer.save() is called\n    def create(self, validated_data):\n        # Remove password_confirm (not a User model field, just for validation)\n        validated_data.pop('password_confirm')\n        # Use create_user() instead of create() - this hashes the password automatically\n        # create_user() is secure, create() would store plain text password (BAD!)\n        user = User.objects.create_user(**validated_data)\n        return user\n</code></pre> <pre><code># api/views.py\n# Import generic views - CreateAPIView provides POST endpoint automatically\nfrom rest_framework import generics, status\n# Import Response to return custom JSON responses\nfrom rest_framework.response import Response\n# Import JWT token classes to generate tokens for new users\nfrom rest_framework_simplejwt.tokens import RefreshToken\n# Import User model\nfrom django.contrib.auth.models import User\n# Import our registration serializer\nfrom .serializers import UserRegistrationSerializer\n\n# CreateAPIView automatically creates a POST endpoint\n# Users can POST to this endpoint to register\nclass UserRegistrationView(generics.CreateAPIView):\n    # Base queryset (not really used for creation, but required)\n    queryset = User.objects.all()\n\n    # Serializer to validate and create user\n    serializer_class = UserRegistrationSerializer\n\n    # Empty permission_classes = Allow anyone to register (public endpoint)\n    # No authentication required to create an account\n    permission_classes = []\n\n    # Override create() to return tokens after registration\n    # This method is called when POST request is made\n    def create(self, request, *args, **kwargs):\n        # Get serializer instance with request data\n        serializer = self.get_serializer(data=request.data)\n\n        # Validate data - raise_exception=True returns 400 error if invalid\n        serializer.is_valid(raise_exception=True)\n\n        # Save user to database (calls serializer.create() which hashes password)\n        user = serializer.save()\n\n        # Generate JWT tokens for the newly created user\n        # RefreshToken contains both refresh and access tokens\n        refresh = RefreshToken.for_user(user)\n\n        # Return user data and tokens in response\n        # User gets tokens immediately after registration (auto-login)\n        return Response({\n            'user': serializer.data,  # User information (username, email, etc.)\n            'refresh': str(refresh),  # Refresh token (long-lived, used to get new access tokens)\n            'access': str(refresh.access_token),  # Access token (short-lived, used for API requests)\n        }, status=status.HTTP_201_CREATED)  # 201 = Created (successful resource creation)\n</code></pre> <pre><code># api/urls.py\nfrom django.urls import path\nfrom . import views\n\nurlpatterns = [\n    # ... other URLs ...\n    path('register/', views.UserRegistrationView.as_view(), name='register'),\n]\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-6-test-jwt-authentication","title":"Step 6: Test JWT Authentication","text":"<pre><code># Register user\ncurl -X POST http://localhost:8000/api/register/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"username\": \"testuser\",\n    \"email\": \"test@example.com\",\n    \"password\": \"testpass123\",\n    \"password_confirm\": \"testpass123\"\n  }'\n\n# Get token\n# Note: By default, JWT uses 'username' for authentication. \n# The example below shows username (default). If you've configured JWT to use email, \n# replace 'username' with 'email' in the request body.\n\ncurl -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"testuser\", \"password\": \"testpass123\"}'\n\n# Alternative: If using email-based authentication (requires custom JWT serializer)\n# curl -X POST http://localhost:8000/api/token/ \\\n#   -H \"Content-Type: application/json\" \\\n#   -d '{\"email\": \"test@example.com\", \"password\": \"testpass123\"}'\n\n# Use token\nTOKEN=\"your_access_token_here\"\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#permissions","title":"Permissions","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#what-are-permissions","title":"What are Permissions?","text":"<p>Permissions determine what authenticated users can do.</p> <p>Why Permissions? - Security: Not all users should do everything - Data protection: Users should only see/edit their own data - Role-based access: Admins can do more than regular users - Compliance: Meet security requirements</p> <p>Real-world analogy: - No permissions = Everyone has master key (bad!) - With permissions = Different keys for different access levels (good!)</p> <p>Permission Levels: 1. Public: Anyone can access (AllowAny) 2. Authenticated: Must be logged in (IsAuthenticated) 3. Owner: Can only access own data (IsOwnerOrReadOnly) 4. Admin: Only staff can access (IsAdminUser)</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#built-in-permission-classes","title":"Built-in Permission Classes","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#1-allowany","title":"1. AllowAny","text":"<p>What it does: Anyone can access, no authentication required.</p> <p>Why use it? - Public data (blog posts, product listings) - Registration/login endpoints - Public APIs - When you want maximum accessibility</p> <p>Security note: Use carefully! Only for truly public data.</p> <p>When to use: - \u2705 Public blog posts - \u2705 Product catalogs - \u2705 Public user profiles - \u274c User data - \u274c Admin functions</p> <pre><code>from rest_framework.permissions import AllowAny\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [AllowAny]\n    # ...\n</code></pre> <p>Note: In this example, we use <code>TaskViewSet</code>, but the same pattern applies to any ViewSet (Book, Product, etc.).</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#2-isauthenticated","title":"2. IsAuthenticated","text":"<p>What it does: User must be logged in (authenticated) to access.</p> <p>Why use it? - Protect data: Only logged-in users can access - User-specific content: Show personalized data - Account required: Force users to create accounts - Security: Basic protection for most endpoints</p> <p>When to use: - \u2705 User's own tasks/books - \u2705 User profiles - \u2705 Private data - \u2705 Any endpoint requiring user identity</p> <p>What happens if not authenticated? - Returns <code>401 Unauthorized</code> - Client must login first - Token/session required</p> <pre><code>from rest_framework.permissions import IsAuthenticated\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAuthenticated]\n    # ...\n</code></pre> <p>Why this configuration? - Applies to all actions (list, create, retrieve, update, delete) - Can override per-action if needed - Most common permission for user data</p> <p>Note: This is the most common permission for user-owned resources like tasks, where users should only see their own data.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#3-isadminuser","title":"3. IsAdminUser","text":"<p>User must be staff/admin.</p> <pre><code>from rest_framework.permissions import IsAdminUser\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAdminUser]\n    # ...\n</code></pre> <p>Note: Use this for admin-only endpoints. For user data like tasks, you typically want <code>IsAuthenticated</code> instead.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#4-isauthenticatedorreadonly","title":"4. IsAuthenticatedOrReadOnly","text":"<p>What it does:  - Authenticated users: Can do everything (read, create, update, delete) - Unauthenticated users: Can only read (GET requests)</p> <p>Why use it? - Public viewing: Anyone can see data - Protected editing: Only logged-in users can modify - Common pattern: Blog posts, comments, products - User engagement: Encourage registration to participate</p> <p>Real-world example: - Blog: Anyone can read posts, only logged-in users can comment - Products: Anyone can browse, only logged-in users can add to cart - Comments: Anyone can read, only logged-in users can post</p> <p>When to use: - \u2705 Public content with user contributions - \u2705 Read-mostly APIs - \u2705 When you want public access but protected writes - \u274c Private/sensitive data</p> <pre><code>from rest_framework.permissions import IsAuthenticatedOrReadOnly\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAuthenticatedOrReadOnly]\n    # ...\n</code></pre> <p>What this means: - <code>GET /api/tasks/</code> \u2192 Anyone can access \u2705 - <code>POST /api/tasks/</code> \u2192 Must be authenticated \u2705 - <code>PUT /api/tasks/1/</code> \u2192 Must be authenticated \u2705 - <code>DELETE /api/tasks/1/</code> \u2192 Must be authenticated \u2705</p> <p>Note: For private user data like personal tasks, you'd typically use <code>IsAuthenticated</code> instead. This permission is better for public content.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#custom-permissions","title":"Custom Permissions","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#isownerorreadonly","title":"IsOwnerOrReadOnly","text":"<p>Only the owner can edit/delete, others can read.</p> <pre><code># api/permissions.py\n# Import DRF permissions module\nfrom rest_framework import permissions\n\n# Custom permission class - inherits from BasePermission\n# BasePermission is the base class for all permission classes\nclass IsOwnerOrReadOnly(permissions.BasePermission):\n    \"\"\"\n    Custom permission to only allow owners to edit/delete objects.\n    Anyone can read (GET), but only the owner can modify (POST, PUT, PATCH, DELETE).\n    \"\"\"\n\n    # This method is called for object-level permissions (detail views)\n    # For list views, use has_permission() instead\n    def has_object_permission(self, request, view, obj):\n        # SAFE_METHODS = GET, HEAD, OPTIONS (read-only operations)\n        # If it's a read operation, allow it for everyone\n        if request.method in permissions.SAFE_METHODS:\n            return True  # Allow read access to anyone\n\n        # For write operations (POST, PUT, PATCH, DELETE), check ownership\n        # obj.owner = the user who owns this object (from model's owner field)\n        # request.user = the currently logged-in user (from authentication)\n        # Only allow if they match\n        return obj.owner == request.user\n</code></pre> <p>Use in views:</p> <pre><code># api/views.py\nfrom rest_framework.permissions import IsAuthenticated\nfrom .permissions import IsOwnerOrReadOnly\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAuthenticated, IsOwnerOrReadOnly]\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)\n</code></pre> <p>Why this works for tasks: - Users can read all tasks (or filter to their own in <code>get_queryset()</code>) - Users can only edit/delete their own tasks - Perfect for user-owned resources like tasks, notes, etc.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#permission-at-view-level","title":"Permission at View Level","text":"<p>Why different permissions per action? - List/Retrieve: Maybe public (AllowAny) or authenticated (IsAuthenticated) - Create: Usually requires authentication - Update/Delete: Usually requires ownership (IsOwnerOrReadOnly)</p> <pre><code># Different permissions for different actions\n# Import permission classes\nfrom rest_framework.permissions import IsAuthenticated\nfrom .permissions import IsOwnerOrReadOnly\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    # Override get_permissions() to set different permissions per action\n    # This method is called by DRF to determine which permissions to check\n    def get_permissions(self):\n        # self.action = current action: 'list', 'create', 'retrieve', 'update', 'destroy', etc.\n\n        # For create action (POST /api/tasks/)\n        if self.action == 'create':\n            # Anyone authenticated can create tasks\n            permission_classes = [IsAuthenticated]\n\n        # For update/delete actions (PUT, PATCH, DELETE /api/tasks/1/)\n        elif self.action in ['update', 'partial_update', 'destroy']:\n            # Must be authenticated AND must be the owner\n            # IsAuthenticated checks if user is logged in\n            # IsOwnerOrReadOnly checks if user owns the task\n            permission_classes = [IsAuthenticated, IsOwnerOrReadOnly]\n\n        # For list/retrieve actions (GET /api/tasks/ or GET /api/tasks/1/)\n        else:\n            # Must be logged in to view tasks\n            permission_classes = [IsAuthenticated]\n\n        # Return list of permission instances\n        # DRF will check all permissions - all must pass for access to be granted\n        return [permission() for permission in permission_classes]\n</code></pre> <p>Explanation: - <code>create</code>: Anyone authenticated can create tasks - <code>update/delete</code>: Only task owner can modify - <code>list/retrieve</code>: Authenticated users can view (you might filter to own tasks in <code>get_queryset()</code>)</p> <p>Alternative for private tasks (users only see their own):</p> <pre><code>class TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAuthenticated]  # Same for all actions\n\n    def get_queryset(self):\n        # Users only see their own tasks\n        return Task.objects.filter(owner=self.request.user)\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-by-step-secure-book-api","title":"Step-by-Step: Secure Book API","text":"<p>Note: This section uses Book API as an example of content that can be public or user-owned. The same patterns apply to Task API or any other model.</p> <p>Let's upgrade the Book API with authentication and permissions. (Filtering, searching, and pagination will be covered in Level 2B.)</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-1-update-book-model","title":"Step 1: Update Book Model","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Book(models.Model):\n    title = models.CharField(max_length=200)\n    author = models.CharField(max_length=100)\n    published_date = models.DateField()\n    isbn = models.CharField(max_length=13, unique=True, blank=True, null=True)\n    description = models.TextField(blank=True)\n    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='books')\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return f\"{self.title} by {self.author}\"\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre> <p>Create migration:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-2-update-book-serializer","title":"Step 2: Update Book Serializer","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Book\n\nclass BookSerializer(serializers.ModelSerializer):\n    owner_username = serializers.CharField(source='owner.username', read_only=True)\n\n    class Meta:\n        model = Book\n        fields = ['id', 'title', 'author', 'published_date', 'isbn', 'description', \n                  'owner', 'owner_username', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'owner', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-3-update-book-viewset","title":"Step 3: Update Book ViewSet","text":"<pre><code># api/views.py\n# Import DRF viewsets for CRUD operations\nfrom rest_framework import viewsets\n# Import permission classes to control access\nfrom rest_framework.permissions import IsAuthenticatedOrReadOnly\n# Import models and serializers\nfrom .models import Book\nfrom .serializers import BookSerializer\n# Import custom permission class (we'll create this)\nfrom .permissions import IsOwnerOrReadOnly\n\n# ViewSet provides all CRUD operations automatically\n# ModelViewSet = List, Create, Retrieve, Update, Delete\nclass BookViewSet(viewsets.ModelViewSet):\n    # Base queryset - all books in database\n    # We'll filter this in get_queryset() if needed\n    queryset = Book.objects.all()\n\n    # Serializer converts Book objects to/from JSON\n    serializer_class = BookSerializer\n\n    # Permission classes control who can access this endpoint\n    # IsAuthenticatedOrReadOnly = Anyone can read, only authenticated users can write\n    # IsOwnerOrReadOnly = Only owner can edit/delete (custom permission)\n    permission_classes = [IsAuthenticatedOrReadOnly, IsOwnerOrReadOnly]\n\n    # Note: Filtering, searching, and ordering will be added in Level 2B\n\n    # Override perform_create to automatically set the owner\n    # This is called when a new book is created via POST\n    def perform_create(self, serializer):\n        # Set owner to the currently logged-in user\n        # self.request.user is automatically set by authentication\n        serializer.save(owner=self.request.user)\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-5-test-secure-book-api","title":"Step 5: Test Secure Book API","text":"<pre><code># Get token\n# Note: By default, JWT uses 'username' for authentication.\n# If you've configured JWT to use email, replace 'username' with 'email' below.\n\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"testuser\", \"password\": \"testpass123\"}' \\\n  | python -c \"import sys, json; print(json.load(sys.stdin)['access'])\")\n\n# Alternative: If using email-based authentication (requires custom JWT serializer)\n# TOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n#   -H \"Content-Type: application/json\" \\\n#   -d '{\"email\": \"test@example.com\", \"password\": \"testpass123\"}' \\\n#   | python -c \"import sys, json; print(json.load(sys.stdin)['access'])\")\n\n# Create book (authenticated)\ncurl -X POST http://localhost:8000/api/books/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"title\": \"Django for Beginners\",\n    \"author\": \"John Doe\",\n    \"published_date\": \"2023-01-15\",\n    \"description\": \"Learn Django step by step\"\n  }'\n\n# List books (anyone can read - public endpoint)\ncurl http://localhost:8000/api/books/\n\n# Get specific book (anyone can read)\ncurl http://localhost:8000/api/books/1/\n\n# Update book (must be authenticated and owner)\ncurl -X PATCH http://localhost:8000/api/books/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\"title\": \"Updated Title\"}'\n\n# Delete book (must be authenticated and owner)\ncurl -X DELETE http://localhost:8000/api/books/1/ \\\n  -H \"Authorization: Bearer $TOKEN\"\n\n# Note: Filtering, searching, and ordering will be covered in Level 2B\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-by-step-secure-task-api","title":"Step-by-Step: Secure Task API","text":"<p>Note: This section focuses on Task API as the primary example (consistent with Level 1). Tasks are typically private, user-owned data, making them perfect for demonstrating authentication and permissions.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-1-update-task-model","title":"Step 1: Update Task Model","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Task(models.Model):\n    title = models.CharField(max_length=100)\n    desc = models.TextField(null=True, blank=True)\n    completed = models.BooleanField(default=False)\n    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='tasks')\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre> <p>Create migration:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-2-update-task-serializer","title":"Step 2: Update Task Serializer","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Task\n\nclass TaskSerializer(serializers.ModelSerializer):\n    owner_username = serializers.CharField(source='owner.username', read_only=True)\n\n    class Meta:\n        model = Task\n        fields = ['id', 'title', 'desc', 'completed', 'owner', 'owner_username', \n                  'created_at', 'updated_at']\n        read_only_fields = ['id', 'owner', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-3-update-task-viewset","title":"Step 3: Update Task ViewSet","text":"<pre><code># api/views.py\n# Import DRF viewsets for CRUD operations\nfrom rest_framework import viewsets\n# Import permission class - users must be authenticated\nfrom rest_framework.permissions import IsAuthenticated\n# Import models and serializers\nfrom .models import Task\nfrom .serializers import TaskSerializer\n\n# ViewSet provides all CRUD operations automatically\n# ModelViewSet = List, Create, Retrieve, Update, Delete\nclass TaskViewSet(viewsets.ModelViewSet):\n    # Serializer converts Task objects to/from JSON\n    serializer_class = TaskSerializer\n\n    # Permission class: Only authenticated users can access\n    # Unauthenticated requests will get 401 Unauthorized\n    permission_classes = [IsAuthenticated]\n\n    # Note: Filtering, searching, and ordering will be added in Level 2B\n\n    # Override get_queryset to filter tasks by owner\n    # This ensures users only see their own tasks\n    # Called for list and retrieve operations\n    def get_queryset(self):\n        # Filter tasks where owner matches the current logged-in user\n        # self.request.user is automatically set by authentication\n        return Task.objects.filter(owner=self.request.user)\n\n    # Override perform_create to automatically set the owner\n    # This is called when a new task is created via POST\n    def perform_create(self, serializer):\n        # Set owner to the currently logged-in user\n        # self.request.user is automatically set by authentication\n        serializer.save(owner=self.request.user)\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-5-test-secure-task-api","title":"Step 5: Test Secure Task API","text":"<pre><code># Create task (authenticated)\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"title\": \"Learn DRF Level 2\",\n    \"desc\": \"Complete authentication and permissions\",\n    \"completed\": false\n  }'\n\n# List my tasks (only shows tasks owned by authenticated user)\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n\n# Get specific task (must be owner)\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/1/\n\n# Update task (must be authenticated and owner)\ncurl -X PATCH http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\"completed\": true}'\n\n# Delete task (must be authenticated and owner)\ncurl -X DELETE http://localhost:8000/api/tasks/1/ \\\n  -H \"Authorization: Bearer $TOKEN\"\n\n# Try to access without token (should get 401 Unauthorized)\ncurl http://localhost:8000/api/tasks/\n\n# Note: Filtering, searching, and ordering will be covered in Level 2B\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#userprofile-api","title":"UserProfile API","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#step-1-create-userprofile-model","title":"Step 1: Create UserProfile Model","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass UserProfile(models.Model):\n    user = models.OneToOneField(User, on_delete=models.CASCADE, related_name='profile')\n    bio = models.TextField(blank=True)\n    phone_number = models.CharField(max_length=15, blank=True)\n    avatar = models.ImageField(upload_to='avatars/', blank=True, null=True)\n    website = models.URLField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return f\"{self.user.username}'s Profile\"\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-2-create-userprofile-serializer","title":"Step 2: Create UserProfile Serializer","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import UserProfile\n\nclass UserProfileSerializer(serializers.ModelSerializer):\n    username = serializers.CharField(source='user.username', read_only=True)\n    email = serializers.EmailField(source='user.email', read_only=True)\n\n    class Meta:\n        model = UserProfile\n        fields = ['id', 'username', 'email', 'bio', 'phone_number', \n                  'avatar', 'website', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#step-3-create-userprofile-viewset","title":"Step 3: Create UserProfile ViewSet","text":"<pre><code># api/views.py\n# Import viewsets for CRUD operations\nfrom rest_framework import viewsets\n# Import permission class - users must be authenticated\nfrom rest_framework.permissions import IsAuthenticated\n# Import models and serializers\nfrom .models import UserProfile\nfrom .serializers import UserProfileSerializer\n\n# ViewSet provides all CRUD operations automatically\nclass UserProfileViewSet(viewsets.ModelViewSet):\n    # Serializer converts UserProfile objects to/from JSON\n    serializer_class = UserProfileSerializer\n\n    # Permission: Only authenticated users can access\n    # Unauthenticated requests will get 401 Unauthorized\n    permission_classes = [IsAuthenticated]\n\n    # Override get_queryset to filter profiles by user\n    # This ensures users only see their own profile\n    # Called for list and retrieve operations\n    def get_queryset(self):\n        # Filter profiles where user matches the current logged-in user\n        # self.request.user is automatically set by authentication\n        return UserProfile.objects.filter(user=self.request.user)\n\n    # Override perform_create to automatically set the user\n    # This is called when a new profile is created via POST\n    def perform_create(self, serializer):\n        # Set user to the currently logged-in user\n        # self.request.user is automatically set by authentication\n        serializer.save(user=self.request.user)\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#throttling","title":"Throttling","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#what-is-throttling","title":"What is Throttling?","text":"<p>Throttling is similar to permissions, in that it determines if a request should be authorized. However, throttles indicate a temporary state, and are used to control the rate of requests that clients can make to an API.</p> <p>Why Throttling? - Rate limiting: Prevent API abuse and overuse - Resource protection: Protect server resources from being overwhelmed - Fair usage: Ensure fair distribution of API access - Cost control: Limit expensive operations - Business tiers: Implement different rate limits for different user tiers</p> <p>Real-world analogy: - No throttling = Unlimited free samples (everyone takes everything) - With throttling = Limited samples per person (fair distribution)</p> <p>Important Security Note:  The application-level throttling that REST framework provides should not be considered a security measure or protection against brute forcing or denial-of-service attacks. Deliberately malicious actors will always be able to spoof IP origins. The built-in throttling implementations use Django's cache framework and non-atomic operations, which may sometimes result in some fuzziness.</p> <p>The application-level throttling provided by REST framework is intended for: - Implementing policies such as different business tiers - Basic protections against service over-use - Fair usage policies</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#how-throttling-is-determined","title":"How Throttling is Determined","text":"<p>As with permissions and authentication, throttling in REST framework is always defined as a list of classes.</p> <p>The Process: 1. Before running the main body of the view, each throttle in the list is checked 2. If any throttle check fails, an <code>exceptions.Throttled</code> exception will be raised 3. The main body of the view will not run 4. A <code>429 Too Many Requests</code> response is returned</p> <p>Why multiple throttles? - Different limits for authenticated vs unauthenticated users - Different constraints on different parts of the API - Both burst throttling rates and sustained throttling rates - Example: Limit user to 60 requests per minute AND 1000 requests per day</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#setting-the-throttling-policy","title":"Setting the Throttling Policy","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#global-throttling-policy","title":"Global Throttling Policy","text":"<p>Set default throttling policy globally using <code>DEFAULT_THROTTLE_CLASSES</code> and <code>DEFAULT_THROTTLE_RATES</code>:</p> <pre><code># core/settings.py\n# DRF configuration - applies to all views unless overridden\nREST_FRAMEWORK = {\n    # Throttle classes to use globally (applies to all views)\n    # DRF will check all throttles - if any fails, request is throttled\n    'DEFAULT_THROTTLE_CLASSES': [\n        # AnonRateThrottle: Throttles unauthenticated users by IP address\n        'rest_framework.throttling.AnonRateThrottle',\n        # UserRateThrottle: Throttles authenticated users by user ID\n        'rest_framework.throttling.UserRateThrottle'\n    ],\n    # Rate limits for each throttle class\n    # Keys must match the 'scope' of throttle classes\n    'DEFAULT_THROTTLE_RATES': {\n        # 'anon' = scope for AnonRateThrottle\n        # 100 requests per hour for anonymous (unauthenticated) users\n        'anon': '100/hour',\n        # 'user' = scope for UserRateThrottle\n        # 1000 requests per hour for authenticated users\n        'user': '1000/hour'\n    }\n}\n</code></pre> <p>Rate Format: - The rates can be specified over a period of second, minute, hour or day - The period must be specified after the <code>/</code> separator using <code>s</code>, <code>m</code>, <code>h</code> or <code>d</code> - Examples: <code>'100/second'</code>, <code>'60/minute'</code>, <code>'1000/hour'</code>, <code>'10000/day'</code> - Extended units are also allowed: <code>'second'</code>, <code>'minute'</code>, <code>'hour'</code>, <code>'day'</code> - Abbreviations work too: <code>'sec'</code>, <code>'min'</code>, <code>'hr'</code> (only first character matters)</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#per-view-throttling","title":"Per-View Throttling","text":"<p>Set throttling policy on a per-view basis using <code>APIView</code>:</p> <pre><code># api/views.py\n# Import Response to return JSON responses\nfrom rest_framework.response import Response\n# Import throttle class\nfrom rest_framework.throttling import UserRateThrottle\n# Import APIView for class-based views\nfrom rest_framework.views import APIView\n\n# APIView provides basic view functionality\n# Use this when you need custom logic (not using ViewSet)\nclass ExampleView(APIView):\n    # Set throttle classes for this specific view\n    # This overrides DEFAULT_THROTTLE_CLASSES from settings\n    # UserRateThrottle will limit requests per user\n    throttle_classes = [UserRateThrottle]\n\n    # Handle GET requests\n    def get(self, request, format=None):\n        # Return simple response\n        content = {\n            'status': 'request was permitted'\n        }\n        return Response(content)\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#per-viewset-throttling","title":"Per-ViewSet Throttling","text":"<p>Set throttling policy on a per-viewset basis:</p> <pre><code># api/views.py\n# Import viewsets for CRUD operations\nfrom rest_framework import viewsets\n# Import throttle class\nfrom rest_framework.throttling import UserRateThrottle\n# Import models and serializers\nfrom .models import Book\nfrom .serializers import BookSerializer\n\n# ModelViewSet provides all CRUD operations automatically\nclass BookViewSet(viewsets.ModelViewSet):\n    # Base queryset\n    queryset = Book.objects.all()\n    # Serializer for data conversion\n    serializer_class = BookSerializer\n\n    # Set throttle classes for this ViewSet\n    # Applies to all actions (list, create, retrieve, update, delete)\n    # UserRateThrottle limits requests per authenticated user\n    throttle_classes = [UserRateThrottle]\n    # ...\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#per-action-throttling","title":"Per-Action Throttling","text":"<p>Set throttle classes for specific actions using the <code>@action</code> decorator:</p> <pre><code># api/views.py\n# Import viewsets for CRUD operations\nfrom rest_framework import viewsets\n# Import @action decorator to create custom endpoints\nfrom rest_framework.decorators import action\n# Import throttle class\nfrom rest_framework.throttling import UserRateThrottle\n# Import Response to return JSON\nfrom rest_framework.response import Response\n\nclass BookViewSet(viewsets.ModelViewSet):\n    # ViewSet-level throttling (applies to all default actions)\n    # This throttle applies to: list, create, retrieve, update, delete\n    throttle_classes = [UserRateThrottle]\n\n    # @action decorator creates a custom endpoint\n    # detail=True means it's for a specific book (POST /api/books/1/upload_cover/)\n    # methods=[\"post\"] means only POST requests are allowed\n    # throttle_classes overrides the viewset-level throttle for this action only\n    @action(detail=True, methods=[\"post\"], throttle_classes=[UserRateThrottle])\n    def upload_cover(self, request, pk=None):\n        # This is a custom action (not part of standard CRUD)\n        # It has its own throttle class that overrides viewset-level throttle_classes\n        # Useful when you want different rate limits for different actions\n        content = {\n            'status': 'upload was permitted'\n        }\n        return Response(content)\n</code></pre> <p>Note: Throttle classes set in <code>@action</code> decorator will override any viewset-level class settings.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#how-clients-are-identified","title":"How Clients are Identified","text":"<p>IP Address Identification: - The <code>X-Forwarded-For</code> HTTP header and <code>REMOTE_ADDR</code> WSGI variable are used to uniquely identify client IP addresses - If the <code>X-Forwarded-For</code> header is present, it will be used - Otherwise, the value of the <code>REMOTE_ADDR</code> variable from the WSGI environment will be used</p> <p>NUM_PROXIES Setting: If you need to strictly identify unique client IP addresses, configure the number of application proxies:</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'NUM_PROXIES': 1,  # Number of proxies in front of your application\n}\n</code></pre> <p>How it works: - If <code>NUM_PROXIES</code> is set to non-zero, the client IP will be identified as the last IP address in the <code>X-Forwarded-For</code> header, after excluding application proxy IP addresses - If set to zero, the <code>REMOTE_ADDR</code> value will always be used</p> <p>Important: If you configure <code>NUM_PROXIES</code>, all clients behind a unique NAT'd gateway will be treated as a single client.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#setting-up-the-cache","title":"Setting up the Cache","text":"<p>Cache Backend Requirements: - The throttle classes provided by REST framework use Django's cache backend - You should make sure you've set appropriate cache settings - The default value of <code>LocMemCache</code> backend should be okay for simple setups</p> <p>Custom Cache Backend: If you need to use a cache other than <code>'default'</code>, create a custom throttle class:</p> <pre><code># api/throttles.py\nfrom django.core.cache import caches\nfrom rest_framework.throttling import AnonRateThrottle\n\nclass CustomAnonRateThrottle(AnonRateThrottle):\n    cache = caches['alternate']  # Use alternate cache backend\n</code></pre> <p>Remember: Set your custom throttle class in <code>'DEFAULT_THROTTLE_CLASSES'</code> settings key, or using the <code>throttle_classes</code> view attribute.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#a-note-on-concurrency","title":"A Note on Concurrency","text":"<p>Race Conditions: - The built-in throttle implementations are open to race conditions - Under high concurrency, they may allow a few extra requests through - This is due to non-atomic operations in the cache framework</p> <p>When to Implement Custom Throttles: - If your project relies on guaranteeing the exact number of requests during concurrent requests - If you need stricter rate limiting - If you need custom throttling logic beyond what built-in throttles provide</p> <p>For production applications requiring strict rate limiting, consider implementing your own throttle class with atomic operations or using external rate limiting services.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#api-reference","title":"API Reference","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#anonratethrottle","title":"AnonRateThrottle","text":"<p>What it does: The <code>AnonRateThrottle</code> will only ever throttle unauthenticated users. The IP address of the incoming request is used to generate a unique key to throttle against.</p> <p>How rate is determined (in order of preference): 1. The <code>rate</code> property on the class (if you override <code>AnonRateThrottle</code> and set the property) 2. The <code>DEFAULT_THROTTLE_RATES['anon']</code> setting</p> <p>When to use: - Restrict the rate of requests from unknown sources - Protect against anonymous abuse - Encourage user registration</p> <p>Example:</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'rest_framework.throttling.AnonRateThrottle',\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'anon': '100/hour',  # 100 requests per hour for anonymous users\n    }\n}\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#userratethrottle","title":"UserRateThrottle","text":"<p>What it does: The <code>UserRateThrottle</code> will throttle users to a given rate of requests across the API. The user id is used to generate a unique key to throttle against. Unauthenticated requests will fall back to using the IP address of the incoming request.</p> <p>How rate is determined (in order of preference): 1. The <code>rate</code> property on the class (if you override <code>UserRateThrottle</code> and set the property) 2. The <code>DEFAULT_THROTTLE_RATES['user']</code> setting</p> <p>When to use: - Simple global rate restrictions per-user - Fair usage policies - Prevent individual users from overusing the API</p> <p>Example:</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'rest_framework.throttling.UserRateThrottle',\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'user': '1000/hour',  # 1000 requests per hour for authenticated users\n    }\n}\n</code></pre> <p>Multiple User Throttles (Scoped Throttles): An API may have multiple <code>UserRateThrottles</code> in place at the same time. Override <code>UserRateThrottle</code> and set a unique \"scope\" for each class:</p> <pre><code># api/throttles.py\nfrom rest_framework.throttling import UserRateThrottle\n\nclass BurstRateThrottle(UserRateThrottle):\n    scope = 'burst'\n\nclass SustainedRateThrottle(UserRateThrottle):\n    scope = 'sustained'\n</code></pre> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'api.throttles.BurstRateThrottle',\n        'api.throttles.SustainedRateThrottle'\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'burst': '60/min',      # 60 requests per minute\n        'sustained': '1000/day'  # 1000 requests per day\n    }\n}\n</code></pre> <p>What this means: - Users are limited to 60 requests per minute (burst limit) - Users are also limited to 1000 requests per day (sustained limit) - Both limits apply simultaneously - Useful for preventing both short-term spikes and long-term overuse</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#scopedratethrottle","title":"ScopedRateThrottle","text":"<p>What it does: The <code>ScopedRateThrottle</code> class can be used to restrict access to specific parts of the API. This throttle will only be applied if the view that is being accessed includes a <code>.throttle_scope</code> property.</p> <p>How it works: - The unique throttle key is formed by concatenating the \"scope\" of the request with the unique user id or IP address - The allowed request rate is determined by the <code>DEFAULT_THROTTLE_RATES</code> setting using a key from the request \"scope\"</p> <p>When to use: - Different rate limits for different API endpoints - Protect resource-intensive endpoints - Implement tiered access (e.g., read vs write operations)</p> <p>Example:</p> <pre><code># api/views.py\nfrom rest_framework.views import APIView\n\nclass ContactListView(APIView):\n    throttle_scope = 'contacts'\n    # ...\n\nclass ContactDetailView(APIView):\n    throttle_scope = 'contacts'\n    # ...\n\nclass UploadView(APIView):\n    throttle_scope = 'uploads'\n    # ...\n</code></pre> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'rest_framework.throttling.ScopedRateThrottle',\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'contacts': '1000/day',  # 1000 requests per day for contact views\n        'uploads': '20/day'       # 20 requests per day for upload views\n    }\n}\n</code></pre> <p>What this means: - User requests to either <code>ContactListView</code> or <code>ContactDetailView</code> would be restricted to a total of 1000 requests per day - User requests to <code>UploadView</code> would be restricted to 20 requests per day - Different scopes allow different rate limits for different parts of your API</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#custom-throttles","title":"Custom Throttles","text":"<p>Creating Custom Throttles: To create a custom throttle, override <code>BaseThrottle</code> and implement <code>.allow_request(self, request, view)</code>. The method should return <code>True</code> if the request should be allowed, and <code>False</code> otherwise.</p> <p>Optional <code>.wait()</code> Method: You may also override the <code>.wait()</code> method. If implemented, <code>.wait()</code> should return a recommended number of seconds to wait before attempting the next request, or <code>None</code>. The <code>.wait()</code> method will only be called if <code>.allow_request()</code> has previously returned <code>False</code>.</p> <p>Retry-After Header: If the <code>.wait()</code> method is implemented and the request is throttled, then a <code>Retry-After</code> header will be included in the response, telling the client how long to wait.</p> <p>Example 1: Random Rate Throttle:</p> <pre><code># api/throttles.py\nimport random\nfrom rest_framework import throttling\n\nclass RandomRateThrottle(throttling.BaseThrottle):\n    \"\"\"\n    Randomly throttle 1 in every 10 requests.\n    \"\"\"\n    def allow_request(self, request, view):\n        return random.randint(1, 10) != 1\n</code></pre> <p>Example 2: Custom Throttle with Wait Time:</p> <pre><code># api/throttles.py\nfrom rest_framework import throttling\nfrom django.core.cache import cache\nfrom django.utils import timezone\n\nclass CustomRateThrottle(throttling.BaseThrottle):\n    \"\"\"\n    Custom throttle that limits to 10 requests per minute per IP.\n    \"\"\"\n    def allow_request(self, request, view):\n        # Get client IP\n        ip = self.get_ident(request)\n\n        # Create cache key\n        cache_key = f'throttle_{ip}'\n\n        # Get current request count\n        request_count = cache.get(cache_key, 0)\n\n        # Check if limit exceeded\n        if request_count &gt;= 10:\n            return False\n\n        # Increment count\n        cache.set(cache_key, request_count + 1, 60)  # Expire in 60 seconds\n        return True\n\n    def wait(self):\n        \"\"\"\n        Return number of seconds to wait before next request.\n        \"\"\"\n        return 60  # Wait 60 seconds\n\n    def get_ident(self, request):\n        \"\"\"\n        Identify the client by IP address.\n        \"\"\"\n        x_forwarded_for = request.META.get('HTTP_X_FORWARDED_FOR')\n        if x_forwarded_for:\n            ip = x_forwarded_for.split(',')[0]\n        else:\n            ip = request.META.get('REMOTE_ADDR')\n        return ip\n</code></pre> <p>Usage:</p> <pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom .throttles import CustomRateThrottle\n\nclass BookViewSet(viewsets.ModelViewSet):\n    throttle_classes = [CustomRateThrottle]\n    # ...\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#custom-throttling-example","title":"Custom Throttling Example","text":"<p>Per-Action Custom Throttle:</p> <pre><code># api/throttles.py\n# Import base throttle class\nfrom rest_framework.throttling import UserRateThrottle\n\n# Custom throttle that limits book creation\n# Inherits from UserRateThrottle (throttles per user)\nclass BookCreateThrottle(UserRateThrottle):\n    # Set rate limit: 5 requests per day\n    # Format: 'number/period' where period is: second, minute, hour, day\n    rate = '5/day'  # Limit book creation to 5 per day per user\n</code></pre> <pre><code># api/views.py\n# Import viewsets and custom throttle\nfrom rest_framework import viewsets\nfrom .throttles import BookCreateThrottle\nfrom .models import Book\nfrom .serializers import BookSerializer\n\nclass BookViewSet(viewsets.ModelViewSet):\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n\n    # Override get_throttles() to apply different throttles per action\n    # This method is called by DRF to determine which throttles to check\n    def get_throttles(self):\n        \"\"\"\n        Override to apply different throttles to different actions.\n        \"\"\"\n        # For create action (POST /api/books/), use strict throttle\n        if self.action == 'create':\n            # Return list of throttle instances\n            # BookCreateThrottle will limit to 5 books per day\n            return [BookCreateThrottle()]\n\n        # For other actions (list, retrieve, update, delete), use default throttles\n        # super().get_throttles() returns throttles from throttle_classes attribute\n        return super().get_throttles()\n</code></pre> <p>Alternative: Using throttle_classes attribute:</p> <pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom rest_framework.decorators import action\nfrom .throttles import BookCreateThrottle\n\nclass BookViewSet(viewsets.ModelViewSet):\n    throttle_classes = [UserRateThrottle]  # Default for all actions\n\n    @action(detail=False, methods=['post'], throttle_classes=[BookCreateThrottle])\n    def create_book(self, request):\n        # This action uses BookCreateThrottle\n        # ...\n</code></pre>"},{"location":"LEVEL_2A_INTERMEDIATE.html#exercises","title":"Exercises","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#exercise-1-complete-secure-book-api-authentication-permissions","title":"Exercise 1: Complete Secure Book API (Authentication &amp; Permissions)","text":"<ol> <li>Add owner field to Book model</li> <li>Implement IsOwnerOrReadOnly permission class</li> <li>Configure JWT authentication</li> <li>Set up permissions (IsAuthenticatedOrReadOnly for public reading, IsOwnerOrReadOnly for editing)</li> <li>Test all endpoints with cURL (create, read, update, delete with proper authentication)</li> </ol>"},{"location":"LEVEL_2A_INTERMEDIATE.html#exercise-2-userprofile-api","title":"Exercise 2: UserProfile API","text":"<ol> <li>Create UserProfile model with OneToOne relationship to User</li> <li>Create UserProfileSerializer and UserProfileViewSet</li> <li>Allow users to view/edit only their own profile</li> <li>Add authentication and permissions</li> <li>Test with cURL</li> </ol>"},{"location":"LEVEL_2A_INTERMEDIATE.html#exercise-3-custom-throttling","title":"Exercise 3: Custom Throttling","text":"<ol> <li>Create a custom throttle class that limits book creation to 5 per day per user</li> <li>Apply the throttle to the BookViewSet's create action</li> <li>Test throttling by making multiple requests</li> <li>Verify that the 6th request returns 429 Too Many Requests</li> </ol>"},{"location":"LEVEL_2A_INTERMEDIATE.html#exercise-4-abstract-models","title":"Exercise 4: Abstract Models","text":"<ol> <li>Create a TimestampedModel abstract base class</li> <li>Update your Task and Book models to inherit from TimestampedModel</li> <li>Remove duplicate created_at and updated_at fields from models</li> <li>Create and run migrations</li> <li>Verify that timestamps still work correctly</li> </ol>"},{"location":"LEVEL_2A_INTERMEDIATE.html#common-errors-and-solutions","title":"Common Errors and Solutions","text":""},{"location":"LEVEL_2A_INTERMEDIATE.html#error-1-rest_frameworkexceptionsauthenticationfailed-given-token-not-valid-for-any-token-type","title":"Error 1: <code>rest_framework.exceptions.AuthenticationFailed: Given token not valid for any token type</code>","text":"<p>Error Message:</p> <pre><code>rest_framework.exceptions.AuthenticationFailed: Given token not valid for any token type\n</code></pre> <p>Why This Happens: - Token expired - Invalid token format - Token not sent correctly in header - Wrong token type</p> <p>How to Fix:</p> <pre><code># Check token format\n# Should be: Authorization: Bearer &lt;token&gt;\n# NOT: Authorization: &lt;token&gt;\n# NOT: Authorization: Token &lt;token&gt;\n\n# Correct format\ncurl -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\" \\\n  http://localhost:8000/api/tasks/\n\n# Get new token if expired\ncurl -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"user\", \"password\": \"pass\"}'\n</code></pre> <p>Prevention:  - Always use <code>Bearer</code> prefix for JWT tokens - Check token expiration - Refresh token before it expires</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#error-2-rest_frameworkexceptionspermissiondenied-you-do-not-have-permission-to-perform-this-action","title":"Error 2: <code>rest_framework.exceptions.PermissionDenied: You do not have permission to perform this action</code>","text":"<p>Error Message:</p> <pre><code>rest_framework.exceptions.PermissionDenied: You do not have permission to perform this action\n</code></pre> <p>Why This Happens: - User not authenticated (no token/session) - User authenticated but lacks required permissions - Permission class too restrictive</p> <p>How to Fix:</p> <pre><code># Check if user is authenticated\n# In view, check:\nfrom django.contrib.auth.models import AnonymousUser\n\nprint(request.user)  # Should be User object, not AnonymousUser\nprint(request.user.is_authenticated)  # Should be True\n\n# Check permissions\n# Option 1: Make endpoint public (if appropriate)\nfrom rest_framework.permissions import AllowAny\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [AllowAny]  # Anyone can access (rare for tasks)\n\n# Option 2: Require authentication (most common for tasks)\nfrom rest_framework.permissions import IsAuthenticated\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAuthenticated]  # Must be logged in\n\n# Option 3: Custom permission check in class-based view\nfrom rest_framework.views import APIView\nfrom rest_framework.response import Response\nfrom rest_framework import status\n\nclass TaskAPIView(APIView):\n    permission_classes = [IsAuthenticated]\n\n    def patch(self, request, pk):\n        # Check custom permission\n        if not request.user.has_perm('api.change_task'):\n            return Response(\n                {'error': 'Permission denied'}, \n                status=status.HTTP_403_FORBIDDEN\n            )\n        # ... rest of logic\n</code></pre> <p>Prevention:  - Check permission classes in view - Verify user is authenticated before accessing protected endpoints - Test with different user roles</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#error-3-djangocontribauthmodelsuserdoesnotexist-user-matching-query-does-not-exist","title":"Error 3: <code>django.contrib.auth.models.User.DoesNotExist: User matching query does not exist</code>","text":"<p>Error Message:</p> <pre><code>django.contrib.auth.models.User.DoesNotExist: User matching query does not exist\n</code></pre> <p>Why This Happens: - Trying to get user that doesn't exist - User ID in token doesn't match any user - User was deleted but token still valid</p> <p>How to Fix:</p> <pre><code># Option 1: Check if user exists\ntry:\n    user = User.objects.get(id=user_id)\nexcept User.DoesNotExist:\n    return Response({'error': 'User not found'}, status=404)\n\n# Option 2: Use get_object_or_404\nfrom django.shortcuts import get_object_or_404\nuser = get_object_or_404(User, id=user_id)\n\n# Option 3: Handle in JWT token validation\n# In custom token serializer, verify user exists\ndef validate(self, attrs):\n    user = authenticate(**attrs)\n    if not user or not user.is_active:\n        raise serializers.ValidationError('User not found or inactive')\n    return attrs\n</code></pre> <p>Prevention: Always verify user exists before using, especially in token validation.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#error-4-rest_frameworkexceptionsvalidationerror-refresh-this-field-is-required","title":"Error 4: <code>rest_framework.exceptions.ValidationError: {'refresh': ['This field is required.']}</code>","text":"<p>Error Message:</p> <pre><code>rest_framework.exceptions.ValidationError: {'refresh': ['This field is required.']}\n</code></pre> <p>Why This Happens: - Trying to refresh token without providing refresh token - Sending access token instead of refresh token - Missing refresh token in request</p> <p>How to Fix:</p> <pre><code># WRONG - Using access token\ncurl -X POST http://localhost:8000/api/token/refresh/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"refresh\": \"access_token_here\"}'  # \u274c Wrong token type\n\n# CORRECT - Use refresh token\ncurl -X POST http://localhost:8000/api/token/refresh/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"refresh\": \"refresh_token_here\"}'  # \u2705 Correct\n\n# Get tokens first\nTOKENS=$(curl -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"user\", \"password\": \"pass\"}')\n\n# Extract refresh token\nREFRESH=$(echo $TOKENS | jq -r '.refresh')\n\n# Use refresh token\ncurl -X POST http://localhost:8000/api/token/refresh/ \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{\\\"refresh\\\": \\\"$REFRESH\\\"}\"\n</code></pre> <p>Prevention:  - Store both access and refresh tokens - Use refresh token only for refreshing - Don't confuse access and refresh tokens</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#error-5-djangodbutilsintegrityerror-not-null-constraint-failed-api_taskowner_id","title":"Error 5: <code>django.db.utils.IntegrityError: NOT NULL constraint failed: api_task.owner_id</code>","text":"<p>Error Message:</p> <pre><code>django.db.utils.IntegrityError: NOT NULL constraint failed: api_task.owner_id\n</code></pre> <p>Why This Happens: - Trying to create object without required ForeignKey - Owner not set in serializer - <code>perform_create</code> not setting owner</p> <p>How to Fix:</p> <pre><code># WRONG - Owner not set\nclass TaskViewSet(viewsets.ModelViewSet):\n    def create(self, request):\n        serializer = TaskSerializer(data=request.data)\n        serializer.save()  # \u274c Owner not set!\n\n# CORRECT - Set owner in perform_create\nclass TaskViewSet(viewsets.ModelViewSet):\n    serializer_class = TaskSerializer\n    permission_classes = [IsAuthenticated]\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)  # \u2705 Owner set automatically\n\n# Alternative: Set owner in serializer\nclass TaskSerializer(serializers.ModelSerializer):\n    def create(self, validated_data):\n        validated_data['owner'] = self.context['request'].user\n        return super().create(validated_data)\n</code></pre> <p>Prevention: Always set owner in <code>perform_create</code> or serializer's <code>create</code> method.</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#general-debugging-tips-for-level-2a","title":"General Debugging Tips for Level 2A","text":"<p>1. Check Authentication</p> <pre><code># In view, verify authentication\nfrom django.contrib.auth.models import AnonymousUser\n\nprint(\"User:\", request.user)\nprint(\"Authenticated:\", request.user.is_authenticated)\nprint(\"Is anonymous:\", isinstance(request.user, AnonymousUser))\n</code></pre> <p>2. Test Permissions</p> <pre><code># Check what permissions user has\nprint(\"Permissions:\", request.user.get_all_permissions())\nprint(\"Is staff:\", request.user.is_staff)\nprint(\"Is superuser:\", request.user.is_superuser)\n</code></pre> <p>3. Verify Token</p> <pre><code># Decode JWT token to see contents\nfrom rest_framework_simplejwt.tokens import AccessToken\n\ntoken = request.META.get('HTTP_AUTHORIZATION', '').split(' ')[1]\ndecoded = AccessToken(token)\nprint(\"Token payload:\", decoded.payload)\n</code></pre> <p>4. Common Authentication Issues - Token expired: Get new token or refresh - Wrong header format: Use <code>Authorization: Bearer &lt;token&gt;</code> - Token not sent: Check request headers - User inactive: Check <code>user.is_active</code></p> <p>5. Common Permission Issues - Too restrictive: Check permission classes - User not authenticated: Verify token/session - Wrong user: Check if user owns resource - Missing permission: Verify user has required permission</p>"},{"location":"LEVEL_2A_INTERMEDIATE.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 2A. You now know:</p> <ul> <li>\u2705 Django authentication system</li> <li>\u2705 Django Abstract Models</li> <li>\u2705 JWT authentication setup</li> <li>\u2705 Permissions (built-in and custom)</li> <li>\u2705 Throttling and rate limiting</li> <li>\u2705 Building secure APIs with authentication</li> </ul> <p>Ready for Level 2B? Continue to Level 2B: Intermediate - Filtering, Searching &amp; Advanced Features to learn about filtering, searching, ordering, pagination, exception handling, and testing!</p> <p>Resources: - DRF Authentication - DRF Permissions - djangorestframework-simplejwt</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html","title":"Level 2B: Intermediate - Filtering, Searching &amp; Advanced Features","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#goal","title":"Goal","text":"<p>Build APIs with powerful filtering, searching, ordering, pagination, and robust error handling. By the end of this level, you'll be able to create production-ready APIs with advanced query capabilities and professional error handling.</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#note-on-examples","title":"Note on Examples","text":"<p>This guide builds on Level 2A where you learned authentication and permissions. We'll use Task API and Book API as examples throughout, adding filtering, searching, ordering, and pagination to the secure APIs you built in Level 2A.</p> <p>Prerequisites: Complete Level 2A first to understand authentication and permissions.</p> <p>You can apply all concepts to any model (Task, Book, Product, Post, etc.).</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Filtering</li> <li>Searching</li> <li>Ordering</li> <li>Pagination</li> <li>Exception Handling</li> <li>Testing Authenticated APIs</li> <li>Exercises</li> <li>Common Errors and Solutions</li> <li>Add-ons</li> </ol>"},{"location":"LEVEL_2B_INTERMEDIATE.html#filtering","title":"Filtering","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#what-is-filtering","title":"What is Filtering?","text":"<p>Filtering allows clients to request specific subsets of data based on criteria.</p> <p>The Problem: Without filtering, clients get ALL data, even if they only need a subset.</p> <p>Example: - Without filtering: <code>GET /api/tasks/</code> \u2192 Returns all tasks (10,000 tasks) \u274c - With filtering: <code>GET /api/tasks/?completed=false</code> \u2192 Returns only incomplete tasks \u2705</p> <p>Why Filtering? - Performance: Return only needed data (faster queries) - User experience: Users find what they're looking for - Bandwidth: Less data transferred - Database efficiency: Queries only relevant records</p> <p>Real-world analogy: - No filtering = Library with no organization (find book by searching all shelves) - With filtering = Library with sections (go directly to \"Fiction\" section)</p> <p>Common Filter Types: - Exact match: <code>?completed=true</code> (completed exactly equals true) - Contains: <code>?title__icontains=django</code> (title contains \"django\") - Boolean: <code>?completed=false</code> (filter by boolean field) - Date range: <code>?created_after=2024-01-01</code> (created after date)</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#install-django-filter","title":"Install django-filter","text":"<p>Why django-filter? - Makes filtering easy and powerful - Supports complex filters - Works seamlessly with DRF - Handles edge cases</p> <pre><code>pip install django-filter\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#configure-in-settingspy","title":"Configure in settings.py","text":"<pre><code># core/settings.py\n# Add django_filters to installed apps\nINSTALLED_APPS = [\n    # ... other apps ...\n    'django_filters',  # Package for advanced filtering\n    'rest_framework',  # Django REST Framework\n]\n\n# DRF configuration - applies to all views unless overridden\nREST_FRAMEWORK = {\n    # Filter backends: Systems that handle filtering, searching, ordering\n    # These are checked in order - first one that can handle the request is used\n    'DEFAULT_FILTER_BACKENDS': [\n        # DjangoFilterBackend: Handles filtering with django-filter (exact matches, ranges, etc.)\n        'django_filters.rest_framework.DjangoFilterBackend',\n        # SearchFilter: Handles searching across multiple fields (built into DRF)\n        'rest_framework.filters.SearchFilter',\n        # OrderingFilter: Handles sorting results (built into DRF)\n        'rest_framework.filters.OrderingFilter',\n    ],\n}\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#basic-filtering","title":"Basic Filtering","text":"<p>How it works: 1. Client adds query parameters to URL: <code>?completed=false</code> 2. Django Filter intercepts request 3. Applies filters to queryset 4. Returns filtered results</p> <p>Why <code>filter_backends</code>? - Tells DRF which filtering system to use - Can use multiple backends (filtering + searching + ordering) - Each backend handles different aspects</p> <pre><code># api/views.py\n# Import DjangoFilterBackend for filtering functionality\nfrom django_filters.rest_framework import DjangoFilterBackend\n# Import viewsets and filters\nfrom rest_framework import viewsets, filters\n# Import models and serializers\nfrom .models import Task\nfrom .serializers import TaskSerializer\n\n# ViewSet provides all CRUD operations automatically\nclass TaskViewSet(viewsets.ModelViewSet):\n    # Base queryset - all tasks in database\n    queryset = Task.objects.all()\n    # Serializer for data conversion\n    serializer_class = TaskSerializer\n\n    # Enable filtering by adding filter backends\n    # filter_backends is a list - can have multiple backends (filtering + searching + ordering)\n    filter_backends = [DjangoFilterBackend]  # Enable filtering with django-filter\n\n    # Simple filtering: List fields that can be filtered\n    # filterset_fields allows exact match filtering on these fields\n    # Example: ?completed=false will filter tasks where completed equals False\n    filterset_fields = ['completed', 'created_at']  # Which fields can be filtered\n</code></pre> <p>Explanation: - <code>filter_backends</code>: List of filtering systems to use - <code>filterset_fields</code>: Simple list of fields that can be filtered - Exact match: <code>?completed=false</code> finds tasks where completed exactly equals False</p> <p>Usage:</p> <pre><code># Filter by completed status\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/?completed=false\n</code></pre> <p>What happens: - URL parameter <code>completed=false</code> - Django Filter finds tasks where <code>completed</code> field equals False - Returns only incomplete tasks</p> <pre><code># Filter by multiple fields (if you have date field)\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?completed=false&amp;created_at=2024-01-01\"\n</code></pre> <p>What happens: - Both filters applied: <code>completed=false</code> AND <code>created_at=2024-01-01</code> - Returns tasks matching BOTH criteria - Filters are combined with AND logic</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#advanced-filtering-with-filterset","title":"Advanced Filtering with FilterSet","text":"<p>Why use FilterSet instead of <code>filterset_fields</code>? - Advanced lookups: <code>icontains</code>, <code>gte</code>, <code>lte</code>, etc. - Custom field names: <code>created_after</code> instead of <code>created_at__gte</code> - More control: Complex filtering logic - Better UX: User-friendly filter names</p> <pre><code># api/filters.py\n# Import django_filters for advanced filtering\nimport django_filters\n# Import the model to filter\nfrom .models import Task\n\n# FilterSet class defines how filtering works\n# More powerful than filterset_fields - allows custom field names and advanced lookups\nclass TaskFilter(django_filters.FilterSet):\n    # Custom filter: Filter by title containing text (case-insensitive)\n    # lookup_expr='icontains' means \"contains\" (case-insensitive)\n    # Example: ?title=django finds tasks with \"django\" in title\n    title = django_filters.CharFilter(lookup_expr='icontains')\n\n    # Custom filter: Filter by date range (created after a date)\n    # field_name='created_at' = which model field to filter\n    # lookup_expr='gte' = greater than or equal (created on or after this date)\n    # Example: ?created_after=2024-01-01 finds tasks created on or after Jan 1, 2024\n    created_after = django_filters.DateFilter(field_name='created_at', lookup_expr='gte')\n\n    # Custom filter: Filter by date range (created before a date)\n    # lookup_expr='lte' = less than or equal (created on or before this date)\n    # Example: ?created_before=2024-12-31 finds tasks created before Dec 31, 2024\n    created_before = django_filters.DateFilter(field_name='created_at', lookup_expr='lte')\n\n    # Filter by completed status (exact match)\n    # BooleanFilter handles True/False values\n    # Example: ?completed=false finds incomplete tasks\n    completed = django_filters.BooleanFilter()\n\n    class Meta:\n        # Model to filter\n        model = Task\n        # Fields that can be used in URL query parameters\n        # Must match the filter field names defined above\n        fields = ['completed', 'title', 'created_after', 'created_before']\n</code></pre> <p>Explanation: - <code>title</code>: <code>?title=django</code> finds tasks with \"django\" in title (case-insensitive) - <code>created_after</code>: <code>?created_after=2024-01-01</code> finds tasks created on or after date - <code>created_before</code>: <code>?created_before=2024-12-31</code> finds tasks created before date - <code>completed</code>: <code>?completed=false</code> finds incomplete tasks</p> <pre><code># api/views.py\n# Import the FilterSet class we created\nfrom .filters import TaskFilter\n# Import other necessary classes\nfrom rest_framework import viewsets\nfrom .models import Task\nfrom .serializers import TaskSerializer\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    # Base queryset\n    queryset = Task.objects.all()\n    # Serializer for data conversion\n    serializer_class = TaskSerializer\n\n    # Use FilterSet class instead of simple filterset_fields\n    # filterset_class provides advanced filtering (custom field names, date ranges, etc.)\n    # When client sends ?title=django&amp;created_after=2024-01-01, TaskFilter handles it\n    filterset_class = TaskFilter  # Use FilterSet instead of filterset_fields\n</code></pre> <p>Usage:</p> <pre><code># Filter by title containing \"django\"\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?title=django\"\n\n# Filter by date range\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?created_after=2024-01-01&amp;created_before=2024-12-31\"\n\n# Combine filters\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?completed=false&amp;title=important\"\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#searching","title":"Searching","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#what-is-searching","title":"What is Searching?","text":"<p>Searching allows users to find data by searching across multiple fields with a single query.</p> <p>Difference from Filtering: - Filtering: Exact matches on specific fields (<code>?author=John</code>) - Searching: Partial matches across multiple fields (<code>?search=john</code> finds in title, author, description)</p> <p>Why Searching? - User-friendly: Users don't need to know exact field names - Flexible: Search across multiple fields at once - Common pattern: Search boxes in web apps - Better UX: \"Search for anything\" vs \"Filter by specific field\"</p> <p>Real-world analogy: - Filtering = Library catalog with specific fields (author, genre, year) - Searching = Google search (type anything, finds matches anywhere)</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#searchfilter","title":"SearchFilter","text":"<p>How it works: 1. User types search term: <code>?search=django</code> 2. DRF searches across specified fields 3. Returns records matching search term in ANY field 4. Uses case-insensitive partial matching by default</p> <pre><code># api/views.py\n# Import viewsets and filters\nfrom rest_framework import viewsets, filters\n# Import models and serializers\nfrom .models import Task\nfrom .serializers import TaskSerializer\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    # Base queryset\n    queryset = Task.objects.all()\n    # Serializer for data conversion\n    serializer_class = TaskSerializer\n\n    # Enable searching by adding SearchFilter to filter_backends\n    # SearchFilter is built into DRF (no extra package needed)\n    filter_backends = [filters.SearchFilter]  # Enable searching\n\n    # List of fields to search in\n    # When user sends ?search=django, DRF searches for \"django\" in these fields\n    # Uses case-insensitive partial matching by default\n    # Returns tasks where ANY field contains the search term (OR logic)\n    search_fields = ['title', 'desc']  # Fields to search in\n</code></pre> <p>Explanation: - <code>SearchFilter</code>: DRF's built-in search backend (no extra package needed) - <code>search_fields</code>: List of fields to search in - Default behavior: Case-insensitive, partial matching - OR logic: Matches if search term found in ANY field</p> <p>Usage:</p> <pre><code># Search in title and description\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?search=django\"\n</code></pre> <p>What happens: - Searches for \"django\" in <code>title</code> and <code>desc</code> fields - Returns tasks where ANY field contains \"django\" - Case-insensitive: \"Django\", \"DJANGO\", \"django\" all match - Partial match: \"Learn Django REST Framework\" matches \"django\"</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#search-lookup-expressions","title":"Search Lookup Expressions","text":"<p>Advanced search patterns:</p> <pre><code>class TaskViewSet(viewsets.ModelViewSet):\n    search_fields = [\n        '^title',      # Starts with (e.g., \"Learn\" matches \"Learn Django\")\n        '=title',      # Exact match (e.g., \"Learn Django\" only)\n        '@desc',       # Full text search (PostgreSQL only)\n        '$title',      # Regex search (advanced)\n    ]\n</code></pre> <p>When to use each: - <code>^title</code>: When you want tasks starting with specific text - <code>=title</code>: When you need exact match - <code>@desc</code>: PostgreSQL full-text search (most powerful, database-specific) - <code>$title</code>: Complex pattern matching (use sparingly)</p> <p>Most common: Just use field name without prefix for simple case-insensitive search.</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#ordering","title":"Ordering","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#what-is-ordering","title":"What is Ordering?","text":"<p>Ordering controls the sequence in which results are returned.</p> <p>The Problem: Without ordering, results come in unpredictable order (usually database insertion order).</p> <p>Why Ordering? - User experience: Show most relevant/newest first - Consistency: Same query always returns same order - Flexibility: Let users choose sort order - Default behavior: Set sensible default (newest first, alphabetical, etc.)</p> <p>Real-world analogy: - No ordering = Bookshelf with random order - With ordering = Bookshelf organized by date (newest first) or alphabetically</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#orderingfilter","title":"OrderingFilter","text":"<p>How it works: 1. Client specifies order: <code>?ordering=-created_at</code> 2. DRF sorts queryset by specified field 3. <code>-</code> prefix means descending (newest first) 4. No prefix means ascending (oldest first)</p> <pre><code># api/views.py\n# Import viewsets and filters\nfrom rest_framework import viewsets, filters\n# Import models and serializers\nfrom .models import Task\nfrom .serializers import TaskSerializer\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    # Base queryset\n    queryset = Task.objects.all()\n    # Serializer for data conversion\n    serializer_class = TaskSerializer\n\n    # Enable ordering by adding OrderingFilter to filter_backends\n    # OrderingFilter is built into DRF (no extra package needed)\n    filter_backends = [filters.OrderingFilter]  # Enable ordering\n\n    # List of fields users can sort by\n    # Security: Prevents sorting by sensitive fields (like password hash)\n    # Users can only sort by fields in this list\n    ordering_fields = ['title', 'completed', 'created_at', 'updated_at']  # Allowed fields\n\n    # Default ordering if user doesn't specify ?ordering= parameter\n    # '-' prefix means descending (newest/highest first)\n    # Without '-' means ascending (oldest/lowest first)\n    ordering = ['-created_at']  # Default ordering (newest first)\n</code></pre> <p>Explanation: - <code>OrderingFilter</code>: DRF's built-in ordering backend - <code>ordering_fields</code>: Which fields users can sort by (security: prevents sorting by sensitive fields) - <code>ordering</code>: Default order if user doesn't specify - <code>-</code> prefix: Descending order (newest/highest first) - No prefix: Ascending order (oldest/lowest first)</p> <p>Usage:</p> <pre><code># Order by title (ascending: A-Z)\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?ordering=title\"\n</code></pre> <p>What happens: Tasks sorted alphabetically by title (A to Z)</p> <pre><code># Order by created_at (descending: newest first)\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?ordering=-created_at\"\n</code></pre> <p>What happens: Tasks sorted by creation date, newest first (most recent at top)</p> <pre><code># Multiple fields: First by completed status, then by created_at (descending)\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?ordering=completed,-created_at\"\n</code></pre> <p>What happens:  1. First sorts by completed (False first, then True) 2. Within same completion status, sorts by created_at (newest first) 3. Useful for showing incomplete tasks first, then completed</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#pagination","title":"Pagination","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#what-is-pagination","title":"What is Pagination?","text":"<p>Pagination splits large result sets into smaller \"pages\" of data.</p> <p>The Problem: Without pagination, returning 10,000 records causes: - Slow response: Large JSON payload - High memory: Server/client must handle all data - Poor UX: User overwhelmed with data - Database load: Fetching all records at once</p> <p>Why Pagination? - Performance: Faster responses (only fetch what's needed) - User experience: Manageable chunks of data - Scalability: Works with millions of records - Bandwidth: Less data transferred - Mobile-friendly: Smaller payloads for mobile networks</p> <p>Real-world analogy: - No pagination = Dumping entire library catalog on one page - With pagination = Showing 10 books per page with \"Next\" button</p> <p>Common Pagination Types: 1. Page Number: <code>?page=2</code> (most common, user-friendly) 2. Limit/Offset: <code>?limit=20&amp;offset=40</code> (flexible, good for APIs) 3. Cursor: <code>?cursor=abc123</code> (best for large datasets, stable)</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#pagenumberpagination","title":"PageNumberPagination","text":"<p>How it works: 1. Client requests page: <code>?page=2</code> 2. Server calculates which records to return (records 11-20 for page 2) 3. Returns page data + metadata (total count, next/previous links) 4. Client can navigate to next/previous pages</p> <p>Why Page Number? - User-friendly: Easy to understand (\"Go to page 2\") - Simple: Just specify page number - Good for: Web UIs, predictable navigation - Limitation: Can be slow with very large datasets (offset calculation)</p> <pre><code># core/settings.py\n# DRF configuration - applies to all list endpoints globally\nREST_FRAMEWORK = {\n    # Pagination class to use for all list views\n    # PageNumberPagination = User-friendly pagination with page numbers (?page=2)\n    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination',\n\n    # How many records to show per page\n    # Can be overridden per-view if needed\n    # Example: If you have 100 tasks, this shows 10 per page (10 pages total)\n    'PAGE_SIZE': 10,  # Records per page\n}\n</code></pre> <p>Explanation: - <code>DEFAULT_PAGINATION_CLASS</code>: Applies to all list endpoints - <code>PAGE_SIZE</code>: How many records per page - Can override: Per-view if needed</p> <p>Response format:</p> <pre><code>{\n    \"count\": 100,  // Total number of records\n    \"next\": \"http://localhost:8000/api/tasks/?page=2\",  // URL for next page\n    \"previous\": null,  // URL for previous page (null if on first page)\n    \"results\": [...]  // Actual data (10 records)\n}\n</code></pre> <p>Why this format? - <code>count</code>: Total records (for progress indicators: \"Showing 1-10 of 100\") - <code>next</code>: Direct link to next page (convenient for clients) - <code>previous</code>: Direct link to previous page - <code>results</code>: Actual data array</p> <p>Usage:</p> <pre><code>curl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?page=2\"\n</code></pre> <p>What happens: Returns records 11-20 (page 2, assuming 10 per page)</p> <p>Example response:</p> <pre><code>{\n    \"count\": 50,\n    \"next\": \"http://localhost:8000/api/tasks/?page=3\",\n    \"previous\": \"http://localhost:8000/api/tasks/?page=1\",\n    \"results\": [\n        {\"id\": 11, \"title\": \"Task 11\", ...},\n        {\"id\": 12, \"title\": \"Task 12\", ...},\n        ...\n    ]\n}\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#limitoffsetpagination","title":"LimitOffsetPagination","text":"<pre><code># api/pagination.py\n# Import LimitOffsetPagination class\nfrom rest_framework.pagination import LimitOffsetPagination\n\n# Custom pagination class using limit/offset approach\n# LimitOffsetPagination = Flexible pagination (?limit=20&amp;offset=40)\n# Good for APIs where clients control exactly how many records to fetch\nclass BookLimitOffsetPagination(LimitOffsetPagination):\n    # Default number of records if limit is not specified\n    # Example: ?offset=40 (no limit) returns default_limit records starting from offset 40\n    default_limit = 10\n\n    # URL parameter name for limit (how many records to return)\n    # Example: ?limit=20 returns 20 records\n    limit_query_param = 'limit'\n\n    # URL parameter name for offset (how many records to skip)\n    # Example: ?offset=40 skips first 40 records, returns next default_limit records\n    offset_query_param = 'offset'\n\n    # Maximum limit allowed (prevents users from requesting too many records at once)\n    # Example: If user sends ?limit=10000, it's capped at max_limit=100\n    max_limit = 100\n</code></pre> <pre><code># api/views.py\nfrom .pagination import BookLimitOffsetPagination\n\nclass BookViewSet(viewsets.ModelViewSet):\n    pagination_class = BookLimitOffsetPagination\n    # ...\n</code></pre> <p>Usage:</p> <pre><code>curl http://localhost:8000/api/books/?limit=20&amp;offset=40\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#cursorpagination","title":"CursorPagination","text":"<p>Best for large datasets. Provides stable, consistent pagination.</p> <pre><code># api/pagination.py\n# Import CursorPagination class\nfrom rest_framework.pagination import CursorPagination\n\n# Custom pagination class using cursor-based approach\n# CursorPagination = Best for large datasets, provides stable pagination\n# Uses a cursor (pointer) instead of page numbers - more stable when data changes\nclass BookCursorPagination(CursorPagination):\n    # Number of records per page\n    page_size = 10\n\n    # Field to use for ordering (required for cursor pagination)\n    # Cursor pagination needs a consistent ordering to work\n    # '-' prefix = descending (newest first)\n    ordering = '-created_at'\n\n    # URL parameter name for cursor\n    # Example: ?cursor=cD0yMDI0LTAxLTAx returns next page after that cursor\n    cursor_query_param = 'cursor'\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-by-step-secure-book-api","title":"Step-by-Step: Secure Book API","text":"<p>Note: This section uses Book API as an example of content that can be public or user-owned. The same patterns apply to Task API or any other model.</p> <p>Let's upgrade the Book API with authentication and filtering.</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-1-update-book-model","title":"Step 1: Update Book Model","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Book(models.Model):\n    title = models.CharField(max_length=200)\n    author = models.CharField(max_length=100)\n    published_date = models.DateField()\n    isbn = models.CharField(max_length=13, unique=True, blank=True, null=True)\n    description = models.TextField(blank=True)\n    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='books')\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return f\"{self.title} by {self.author}\"\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre> <p>Create migration:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-2-update-book-serializer","title":"Step 2: Update Book Serializer","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Book\n\nclass BookSerializer(serializers.ModelSerializer):\n    owner_username = serializers.CharField(source='owner.username', read_only=True)\n\n    class Meta:\n        model = Book\n        fields = ['id', 'title', 'author', 'published_date', 'isbn', 'description', \n                  'owner', 'owner_username', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'owner', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-3-create-filter","title":"Step 3: Create Filter","text":"<pre><code># api/filters.py\nimport django_filters\nfrom .models import Book\n\nclass BookFilter(django_filters.FilterSet):\n    author = django_filters.CharFilter(lookup_expr='icontains')\n    published_after = django_filters.DateFilter(field_name='published_date', lookup_expr='gte')\n    published_before = django_filters.DateFilter(field_name='published_date', lookup_expr='lte')\n\n    class Meta:\n        model = Book\n        fields = ['author', 'published_after', 'published_before']\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-4-update-book-viewset","title":"Step 4: Update Book ViewSet","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets, filters\nfrom rest_framework.permissions import IsAuthenticatedOrReadOnly\nfrom django_filters.rest_framework import DjangoFilterBackend\nfrom .models import Book\nfrom .serializers import BookSerializer\nfrom .filters import BookFilter\nfrom .permissions import IsOwnerOrReadOnly\n\nclass BookViewSet(viewsets.ModelViewSet):\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n    permission_classes = [IsAuthenticatedOrReadOnly, IsOwnerOrReadOnly]\n    filter_backends = [DjangoFilterBackend, filters.SearchFilter, filters.OrderingFilter]\n    filterset_class = BookFilter\n    search_fields = ['title', 'author', 'description']\n    ordering_fields = ['title', 'author', 'published_date', 'created_at']\n    ordering = ['-created_at']\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-5-test-secure-book-api","title":"Step 5: Test Secure Book API","text":"<pre><code># Get token\n# Note: By default, JWT uses 'username' for authentication.\n# If you've configured JWT to use email, replace 'username' with 'email' below.\n\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"testuser\", \"password\": \"testpass123\"}' \\\n  | python -c \"import sys, json; print(json.load(sys.stdin)['access'])\")\n\n# Alternative: If using email-based authentication (requires custom JWT serializer)\n# TOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n#   -H \"Content-Type: application/json\" \\\n#   -d '{\"email\": \"test@example.com\", \"password\": \"testpass123\"}' \\\n#   | python -c \"import sys, json; print(json.load(sys.stdin)['access'])\")\n\n# Create book (authenticated)\ncurl -X POST http://localhost:8000/api/books/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"title\": \"Django for Beginners\",\n    \"author\": \"John Doe\",\n    \"published_date\": \"2023-01-15\",\n    \"description\": \"Learn Django step by step\"\n  }'\n\n# List books (anyone can read)\ncurl http://localhost:8000/api/books/\n\n# Filter by author\ncurl \"http://localhost:8000/api/books/?author=John\"\n\n# Search\ncurl \"http://localhost:8000/api/books/?search=django\"\n\n# Order by title\ncurl \"http://localhost:8000/api/books/?ordering=title\"\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-by-step-secure-task-api","title":"Step-by-Step: Secure Task API","text":"<p>Note: This section focuses on Task API as the primary example (consistent with Level 1). Tasks are typically private, user-owned data, making them perfect for demonstrating authentication and permissions.</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-1-update-task-model","title":"Step 1: Update Task Model","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Task(models.Model):\n    title = models.CharField(max_length=100)\n    desc = models.TextField(null=True, blank=True)\n    completed = models.BooleanField(default=False)\n    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='tasks')\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre> <p>Create migration:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-2-update-task-serializer","title":"Step 2: Update Task Serializer","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Task\n\nclass TaskSerializer(serializers.ModelSerializer):\n    owner_username = serializers.CharField(source='owner.username', read_only=True)\n\n    class Meta:\n        model = Task\n        fields = ['id', 'title', 'desc', 'completed', 'owner', 'owner_username', \n                  'created_at', 'updated_at']\n        read_only_fields = ['id', 'owner', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-3-create-task-filter","title":"Step 3: Create Task Filter","text":"<pre><code># api/filters.py\nimport django_filters\nfrom .models import Task\n\nclass TaskFilter(django_filters.FilterSet):\n    completed = django_filters.BooleanFilter()\n    created_after = django_filters.DateFilter(field_name='created_at', lookup_expr='gte')\n    created_before = django_filters.DateFilter(field_name='created_at', lookup_expr='lte')\n\n    class Meta:\n        model = Task\n        fields = ['completed', 'created_after', 'created_before']\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-4-update-task-viewset","title":"Step 4: Update Task ViewSet","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets, filters\nfrom rest_framework.permissions import IsAuthenticated\nfrom django_filters.rest_framework import DjangoFilterBackend\nfrom .models import Task\nfrom .serializers import TaskSerializer\nfrom .filters import TaskFilter\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    serializer_class = TaskSerializer\n    permission_classes = [IsAuthenticated]\n    filter_backends = [DjangoFilterBackend, filters.SearchFilter, filters.OrderingFilter]\n    filterset_class = TaskFilter\n    search_fields = ['title', 'desc']\n    ordering_fields = ['title', 'completed', 'created_at']\n    ordering = ['-created_at']\n\n    def get_queryset(self):\n        # Users can only see their own tasks\n        return Task.objects.filter(owner=self.request.user)\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-5-test-secure-task-api","title":"Step 5: Test Secure Task API","text":"<pre><code># Create task (authenticated)\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"title\": \"Learn DRF Level 2\",\n    \"desc\": \"Complete authentication and permissions\",\n    \"completed\": false\n  }'\n\n# List my tasks\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n\n# Filter by completed\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?completed=false\"\n\n# Search tasks\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?search=DRF\"\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#userprofile-api","title":"UserProfile API","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#step-1-create-userprofile-model","title":"Step 1: Create UserProfile Model","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass UserProfile(models.Model):\n    user = models.OneToOneField(User, on_delete=models.CASCADE, related_name='profile')\n    bio = models.TextField(blank=True)\n    phone_number = models.CharField(max_length=15, blank=True)\n    avatar = models.ImageField(upload_to='avatars/', blank=True, null=True)\n    website = models.URLField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return f\"{self.user.username}'s Profile\"\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-2-create-userprofile-serializer","title":"Step 2: Create UserProfile Serializer","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import UserProfile\n\nclass UserProfileSerializer(serializers.ModelSerializer):\n    username = serializers.CharField(source='user.username', read_only=True)\n    email = serializers.EmailField(source='user.email', read_only=True)\n\n    class Meta:\n        model = UserProfile\n        fields = ['id', 'username', 'email', 'bio', 'phone_number', \n                  'avatar', 'website', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#step-3-create-userprofile-viewset","title":"Step 3: Create UserProfile ViewSet","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom rest_framework.permissions import IsAuthenticated\nfrom .models import UserProfile\nfrom .serializers import UserProfileSerializer\n\nclass UserProfileViewSet(viewsets.ModelViewSet):\n    serializer_class = UserProfileSerializer\n    permission_classes = [IsAuthenticated]\n\n    def get_queryset(self):\n        return UserProfile.objects.filter(user=self.request.user)\n\n    def perform_create(self, serializer):\n        serializer.save(user=self.request.user)\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#throttling","title":"Throttling","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#what-is-throttling","title":"What is Throttling?","text":"<p>Throttling is similar to permissions, in that it determines if a request should be authorized. However, throttles indicate a temporary state, and are used to control the rate of requests that clients can make to an API.</p> <p>Why Throttling? - Rate limiting: Prevent API abuse and overuse - Resource protection: Protect server resources from being overwhelmed - Fair usage: Ensure fair distribution of API access - Cost control: Limit expensive operations - Business tiers: Implement different rate limits for different user tiers</p> <p>Real-world analogy: - No throttling = Unlimited free samples (everyone takes everything) - With throttling = Limited samples per person (fair distribution)</p> <p>Important Security Note:  The application-level throttling that REST framework provides should not be considered a security measure or protection against brute forcing or denial-of-service attacks. Deliberately malicious actors will always be able to spoof IP origins. The built-in throttling implementations use Django's cache framework and non-atomic operations, which may sometimes result in some fuzziness.</p> <p>The application-level throttling provided by REST framework is intended for: - Implementing policies such as different business tiers - Basic protections against service over-use - Fair usage policies</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#how-throttling-is-determined","title":"How Throttling is Determined","text":"<p>As with permissions and authentication, throttling in REST framework is always defined as a list of classes.</p> <p>The Process: 1. Before running the main body of the view, each throttle in the list is checked 2. If any throttle check fails, an <code>exceptions.Throttled</code> exception will be raised 3. The main body of the view will not run 4. A <code>429 Too Many Requests</code> response is returned</p> <p>Why multiple throttles? - Different limits for authenticated vs unauthenticated users - Different constraints on different parts of the API - Both burst throttling rates and sustained throttling rates - Example: Limit user to 60 requests per minute AND 1000 requests per day</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#setting-the-throttling-policy","title":"Setting the Throttling Policy","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#global-throttling-policy","title":"Global Throttling Policy","text":"<p>Set default throttling policy globally using <code>DEFAULT_THROTTLE_CLASSES</code> and <code>DEFAULT_THROTTLE_RATES</code>:</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'rest_framework.throttling.AnonRateThrottle',\n        'rest_framework.throttling.UserRateThrottle'\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'anon': '100/hour',\n        'user': '1000/hour'\n    }\n}\n</code></pre> <p>Rate Format: - The rates can be specified over a period of second, minute, hour or day - The period must be specified after the <code>/</code> separator using <code>s</code>, <code>m</code>, <code>h</code> or <code>d</code> - Examples: <code>'100/second'</code>, <code>'60/minute'</code>, <code>'1000/hour'</code>, <code>'10000/day'</code> - Extended units are also allowed: <code>'second'</code>, <code>'minute'</code>, <code>'hour'</code>, <code>'day'</code> - Abbreviations work too: <code>'sec'</code>, <code>'min'</code>, <code>'hr'</code> (only first character matters)</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#per-view-throttling","title":"Per-View Throttling","text":"<p>Set throttling policy on a per-view basis using <code>APIView</code>:</p> <pre><code># api/views.py\nfrom rest_framework.response import Response\nfrom rest_framework.throttling import UserRateThrottle\nfrom rest_framework.views import APIView\n\nclass ExampleView(APIView):\n    throttle_classes = [UserRateThrottle]\n\n    def get(self, request, format=None):\n        content = {\n            'status': 'request was permitted'\n        }\n        return Response(content)\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#per-viewset-throttling","title":"Per-ViewSet Throttling","text":"<p>Set throttling policy on a per-viewset basis:</p> <pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom rest_framework.throttling import UserRateThrottle\nfrom .models import Book\nfrom .serializers import BookSerializer\n\nclass BookViewSet(viewsets.ModelViewSet):\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n    throttle_classes = [UserRateThrottle]\n    # ...\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#per-action-throttling","title":"Per-Action Throttling","text":"<p>Set throttle classes for specific actions using the <code>@action</code> decorator:</p> <pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom rest_framework.decorators import action\nfrom rest_framework.throttling import UserRateThrottle\nfrom rest_framework.response import Response\n\nclass BookViewSet(viewsets.ModelViewSet):\n    # ViewSet-level throttling (applies to all actions)\n    throttle_classes = [UserRateThrottle]\n\n    @action(detail=True, methods=[\"post\"], throttle_classes=[UserRateThrottle])\n    def upload_cover(self, request, pk=None):\n        # This action has its own throttle class\n        # Overrides viewset-level throttle_classes\n        content = {\n            'status': 'upload was permitted'\n        }\n        return Response(content)\n</code></pre> <p>Note: Throttle classes set in <code>@action</code> decorator will override any viewset-level class settings.</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#how-clients-are-identified","title":"How Clients are Identified","text":"<p>IP Address Identification: - The <code>X-Forwarded-For</code> HTTP header and <code>REMOTE_ADDR</code> WSGI variable are used to uniquely identify client IP addresses - If the <code>X-Forwarded-For</code> header is present, it will be used - Otherwise, the value of the <code>REMOTE_ADDR</code> variable from the WSGI environment will be used</p> <p>NUM_PROXIES Setting: If you need to strictly identify unique client IP addresses, configure the number of application proxies:</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'NUM_PROXIES': 1,  # Number of proxies in front of your application\n}\n</code></pre> <p>How it works: - If <code>NUM_PROXIES</code> is set to non-zero, the client IP will be identified as the last IP address in the <code>X-Forwarded-For</code> header, after excluding application proxy IP addresses - If set to zero, the <code>REMOTE_ADDR</code> value will always be used</p> <p>Important: If you configure <code>NUM_PROXIES</code>, all clients behind a unique NAT'd gateway will be treated as a single client.</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#setting-up-the-cache","title":"Setting up the Cache","text":"<p>Cache Backend Requirements: - The throttle classes provided by REST framework use Django's cache backend - You should make sure you've set appropriate cache settings - The default value of <code>LocMemCache</code> backend should be okay for simple setups</p> <p>Custom Cache Backend: If you need to use a cache other than <code>'default'</code>, create a custom throttle class:</p> <pre><code># api/throttles.py\nfrom django.core.cache import caches\nfrom rest_framework.throttling import AnonRateThrottle\n\nclass CustomAnonRateThrottle(AnonRateThrottle):\n    cache = caches['alternate']  # Use alternate cache backend\n</code></pre> <p>Remember: Set your custom throttle class in <code>'DEFAULT_THROTTLE_CLASSES'</code> settings key, or using the <code>throttle_classes</code> view attribute.</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#a-note-on-concurrency","title":"A Note on Concurrency","text":"<p>Race Conditions: - The built-in throttle implementations are open to race conditions - Under high concurrency, they may allow a few extra requests through - This is due to non-atomic operations in the cache framework</p> <p>When to Implement Custom Throttles: - If your project relies on guaranteeing the exact number of requests during concurrent requests - If you need stricter rate limiting - If you need custom throttling logic beyond what built-in throttles provide</p> <p>For production applications requiring strict rate limiting, consider implementing your own throttle class with atomic operations or using external rate limiting services.</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#api-reference","title":"API Reference","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#anonratethrottle","title":"AnonRateThrottle","text":"<p>What it does: The <code>AnonRateThrottle</code> will only ever throttle unauthenticated users. The IP address of the incoming request is used to generate a unique key to throttle against.</p> <p>How rate is determined (in order of preference): 1. The <code>rate</code> property on the class (if you override <code>AnonRateThrottle</code> and set the property) 2. The <code>DEFAULT_THROTTLE_RATES['anon']</code> setting</p> <p>When to use: - Restrict the rate of requests from unknown sources - Protect against anonymous abuse - Encourage user registration</p> <p>Example:</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'rest_framework.throttling.AnonRateThrottle',\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'anon': '100/hour',  # 100 requests per hour for anonymous users\n    }\n}\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#userratethrottle","title":"UserRateThrottle","text":"<p>What it does: The <code>UserRateThrottle</code> will throttle users to a given rate of requests across the API. The user id is used to generate a unique key to throttle against. Unauthenticated requests will fall back to using the IP address of the incoming request.</p> <p>How rate is determined (in order of preference): 1. The <code>rate</code> property on the class (if you override <code>UserRateThrottle</code> and set the property) 2. The <code>DEFAULT_THROTTLE_RATES['user']</code> setting</p> <p>When to use: - Simple global rate restrictions per-user - Fair usage policies - Prevent individual users from overusing the API</p> <p>Example:</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'rest_framework.throttling.UserRateThrottle',\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'user': '1000/hour',  # 1000 requests per hour for authenticated users\n    }\n}\n</code></pre> <p>Multiple User Throttles (Scoped Throttles): An API may have multiple <code>UserRateThrottles</code> in place at the same time. Override <code>UserRateThrottle</code> and set a unique \"scope\" for each class:</p> <pre><code># api/throttles.py\nfrom rest_framework.throttling import UserRateThrottle\n\nclass BurstRateThrottle(UserRateThrottle):\n    scope = 'burst'\n\nclass SustainedRateThrottle(UserRateThrottle):\n    scope = 'sustained'\n</code></pre> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'api.throttles.BurstRateThrottle',\n        'api.throttles.SustainedRateThrottle'\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'burst': '60/min',      # 60 requests per minute\n        'sustained': '1000/day'  # 1000 requests per day\n    }\n}\n</code></pre> <p>What this means: - Users are limited to 60 requests per minute (burst limit) - Users are also limited to 1000 requests per day (sustained limit) - Both limits apply simultaneously - Useful for preventing both short-term spikes and long-term overuse</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#scopedratethrottle","title":"ScopedRateThrottle","text":"<p>What it does: The <code>ScopedRateThrottle</code> class can be used to restrict access to specific parts of the API. This throttle will only be applied if the view that is being accessed includes a <code>.throttle_scope</code> property.</p> <p>How it works: - The unique throttle key is formed by concatenating the \"scope\" of the request with the unique user id or IP address - The allowed request rate is determined by the <code>DEFAULT_THROTTLE_RATES</code> setting using a key from the request \"scope\"</p> <p>When to use: - Different rate limits for different API endpoints - Protect resource-intensive endpoints - Implement tiered access (e.g., read vs write operations)</p> <p>Example:</p> <pre><code># api/views.py\nfrom rest_framework.views import APIView\n\nclass ContactListView(APIView):\n    throttle_scope = 'contacts'\n    # ...\n\nclass ContactDetailView(APIView):\n    throttle_scope = 'contacts'\n    # ...\n\nclass UploadView(APIView):\n    throttle_scope = 'uploads'\n    # ...\n</code></pre> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'rest_framework.throttling.ScopedRateThrottle',\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'contacts': '1000/day',  # 1000 requests per day for contact views\n        'uploads': '20/day'       # 20 requests per day for upload views\n    }\n}\n</code></pre> <p>What this means: - User requests to either <code>ContactListView</code> or <code>ContactDetailView</code> would be restricted to a total of 1000 requests per day - User requests to <code>UploadView</code> would be restricted to 20 requests per day - Different scopes allow different rate limits for different parts of your API</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#custom-throttles","title":"Custom Throttles","text":"<p>Creating Custom Throttles: To create a custom throttle, override <code>BaseThrottle</code> and implement <code>.allow_request(self, request, view)</code>. The method should return <code>True</code> if the request should be allowed, and <code>False</code> otherwise.</p> <p>Optional <code>.wait()</code> Method: You may also override the <code>.wait()</code> method. If implemented, <code>.wait()</code> should return a recommended number of seconds to wait before attempting the next request, or <code>None</code>. The <code>.wait()</code> method will only be called if <code>.allow_request()</code> has previously returned <code>False</code>.</p> <p>Retry-After Header: If the <code>.wait()</code> method is implemented and the request is throttled, then a <code>Retry-After</code> header will be included in the response, telling the client how long to wait.</p> <p>Example 1: Random Rate Throttle:</p> <pre><code># api/throttles.py\nimport random\nfrom rest_framework import throttling\n\nclass RandomRateThrottle(throttling.BaseThrottle):\n    \"\"\"\n    Randomly throttle 1 in every 10 requests.\n    \"\"\"\n    def allow_request(self, request, view):\n        return random.randint(1, 10) != 1\n</code></pre> <p>Example 2: Custom Throttle with Wait Time:</p> <pre><code># api/throttles.py\nfrom rest_framework import throttling\nfrom django.core.cache import cache\nfrom django.utils import timezone\n\nclass CustomRateThrottle(throttling.BaseThrottle):\n    \"\"\"\n    Custom throttle that limits to 10 requests per minute per IP.\n    \"\"\"\n    def allow_request(self, request, view):\n        # Get client IP\n        ip = self.get_ident(request)\n\n        # Create cache key\n        cache_key = f'throttle_{ip}'\n\n        # Get current request count\n        request_count = cache.get(cache_key, 0)\n\n        # Check if limit exceeded\n        if request_count &gt;= 10:\n            return False\n\n        # Increment count\n        cache.set(cache_key, request_count + 1, 60)  # Expire in 60 seconds\n        return True\n\n    def wait(self):\n        \"\"\"\n        Return number of seconds to wait before next request.\n        \"\"\"\n        return 60  # Wait 60 seconds\n\n    def get_ident(self, request):\n        \"\"\"\n        Identify the client by IP address.\n        \"\"\"\n        x_forwarded_for = request.META.get('HTTP_X_FORWARDED_FOR')\n        if x_forwarded_for:\n            ip = x_forwarded_for.split(',')[0]\n        else:\n            ip = request.META.get('REMOTE_ADDR')\n        return ip\n</code></pre> <p>Usage:</p> <pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom .throttles import CustomRateThrottle\n\nclass BookViewSet(viewsets.ModelViewSet):\n    throttle_classes = [CustomRateThrottle]\n    # ...\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#custom-throttling-example","title":"Custom Throttling Example","text":"<p>Per-Action Custom Throttle:</p> <pre><code># api/throttles.py\nfrom rest_framework.throttling import UserRateThrottle\n\nclass BookCreateThrottle(UserRateThrottle):\n    rate = '5/day'  # Limit book creation to 5 per day\n</code></pre> <pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom .throttles import BookCreateThrottle\nfrom .models import Book\nfrom .serializers import BookSerializer\n\nclass BookViewSet(viewsets.ModelViewSet):\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n\n    def get_throttles(self):\n        \"\"\"\n        Override to apply different throttles to different actions.\n        \"\"\"\n        if self.action == 'create':\n            return [BookCreateThrottle()]\n        return super().get_throttles()\n</code></pre> <p>Alternative: Using throttle_classes attribute:</p> <pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom rest_framework.decorators import action\nfrom .throttles import BookCreateThrottle\n\nclass BookViewSet(viewsets.ModelViewSet):\n    throttle_classes = [UserRateThrottle]  # Default for all actions\n\n    @action(detail=False, methods=['post'], throttle_classes=[BookCreateThrottle])\n    def create_book(self, request):\n        # This action uses BookCreateThrottle\n        # ...\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#exception-handling","title":"Exception Handling","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#what-is-exception-handling","title":"What is Exception Handling?","text":"<p>Exception Handling allows you to customize how errors are returned to clients.</p> <p>The Problem: By default, DRF returns errors in its own format. You might want: - Consistent error format across all endpoints - More user-friendly error messages - Additional error details - Custom error codes</p> <p>Why Custom Exception Handling? - Consistency: All errors follow same format - User experience: Clear, helpful error messages - Debugging: Include useful debugging information - Security: Don't expose sensitive details - Professional: Production-ready error responses</p> <p>Real-world analogy: - Default errors = Generic error messages (not helpful) - Custom errors = Clear, actionable error messages (helpful)</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#basic-exception-handler","title":"Basic Exception Handler","text":"<p>How it works: 1. Exception occurs in view 2. DRF calls your custom exception handler 3. Handler processes exception 4. Returns custom error response</p> <pre><code># api/exceptions.py (create this file)\n# Import DRF's default exception handler - we'll call it first\nfrom rest_framework.views import exception_handler\n# Import Response to return custom error responses\nfrom rest_framework.response import Response\n# Import HTTP status codes\nfrom rest_framework import status\n# Import Django settings to check DEBUG mode\nfrom django.conf import settings\n# Import logging to log errors for debugging\nimport logging\n\n# Create logger for this module\n# Logs will help you debug issues in production\nlogger = logging.getLogger(__name__)\n\n# Custom exception handler function\n# DRF calls this function whenever an exception occurs in a view\n# exc = the exception that was raised\n# context = dictionary with request, view, and other context\ndef custom_exception_handler(exc, context):\n    \"\"\"\n    Custom exception handler for DRF.\n    Returns consistent error format for all exceptions.\n    \"\"\"\n    # Step 1: Call DRF's default exception handler first\n    # This handles common DRF exceptions (ValidationError, PermissionDenied, etc.)\n    # Returns Response object if it handled the exception, None otherwise\n    response = exception_handler(exc, context)\n\n    # Step 2: If DRF handled it, customize the response format\n    if response is not None:\n        # Create custom error response structure\n        # This ensures all errors follow the same format\n        custom_response_data = {\n            'success': False,  # Quick indicator that request failed\n            'error': {\n                'status_code': response.status_code,  # HTTP status code (400, 401, 403, etc.)\n                'message': get_error_message(response.status_code, exc),  # User-friendly message\n                'details': response.data,  # Detailed error information\n                'type': exc.__class__.__name__  # Exception class name (for debugging)\n            }\n        }\n        # Replace DRF's default error format with our custom format\n        response.data = custom_response_data\n\n        # Log error for debugging (helps track issues in production)\n        # exc_info=True includes full traceback in logs\n        logger.error(f\"Error {response.status_code}: {exc}\", exc_info=True)\n\n    # Step 3: Handle exceptions DRF doesn't catch (unexpected errors)\n    else:\n        # For unexpected errors (500 Internal Server Error)\n        # These are errors DRF doesn't know how to handle\n        custom_response_data = {\n            'success': False,\n            'error': {\n                'status_code': 500,\n                'message': 'An unexpected error occurred',\n                # In DEBUG mode: show actual error (helpful for development)\n                # In production: show generic message (don't expose sensitive details)\n                'details': str(exc) if settings.DEBUG else 'Internal server error',\n                'type': exc.__class__.__name__\n            }\n        }\n        # Create new Response for unexpected errors\n        response = Response(custom_response_data, status=status.HTTP_500_INTERNAL_SERVER_ERROR)\n\n        # Log unexpected errors with full traceback\n        # logger.exception() automatically includes traceback\n        logger.exception(f\"Unexpected error: {exc}\")\n\n    # Return the response (either customized DRF response or new 500 response)\n    return response\n\ndef get_error_message(status_code, exc):\n    \"\"\"\n    Get user-friendly error message based on status code.\n    Converts technical HTTP status codes into readable messages for users.\n    \"\"\"\n    # Dictionary mapping HTTP status codes to user-friendly messages\n    # These messages are shown to API clients (more helpful than just status codes)\n    messages = {\n        400: 'Invalid request data',  # Bad Request - client sent invalid data\n        401: 'Authentication required',  # Unauthorized - need to login\n        403: 'Permission denied',  # Forbidden - logged in but no permission\n        404: 'Resource not found',  # Not Found - resource doesn't exist\n        405: 'Method not allowed',  # Method Not Allowed - wrong HTTP method\n        429: 'Too many requests',  # Too Many Requests - rate limit exceeded\n        500: 'Internal server error',  # Internal Server Error - server problem\n    }\n    # Return message for status code, or default message if status code not in dictionary\n    # .get() returns None if key not found, so we provide default 'An error occurred'\n    return messages.get(status_code, 'An error occurred')\n</code></pre> <p>Add to settings.py:</p> <pre><code># core/settings.py\n# DRF configuration\nREST_FRAMEWORK = {\n    # ... other settings (authentication, permissions, etc.) ...\n\n    # Set custom exception handler\n    # This tells DRF to use our custom_exception_handler function instead of the default one\n    # Path format: 'app_name.module_name.function_name'\n    # When any exception occurs in any view, DRF will call this function\n    'EXCEPTION_HANDLER': 'api.exceptions.custom_exception_handler',\n}\n</code></pre> <p>Why this location? - Centralized: All errors go through one handler - Consistent: Same format for all errors - Maintainable: Update error format in one place</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#handling-authentication-errors","title":"Handling Authentication Errors","text":"<p>Customize authentication error responses:</p> <pre><code># api/exceptions.py\nfrom rest_framework.views import exception_handler\nfrom rest_framework.exceptions import AuthenticationFailed, NotAuthenticated, PermissionDenied\nfrom rest_framework import status\n\ndef custom_exception_handler(exc, context):\n    response = exception_handler(exc, context)\n\n    if response is not None:\n        # Handle authentication errors specifically\n        if isinstance(exc, (AuthenticationFailed, NotAuthenticated)):\n            custom_response_data = {\n                'success': False,\n                'error': {\n                    'status_code': response.status_code,\n                    'message': 'Authentication failed. Please provide valid credentials.',\n                    'details': {\n                        'code': 'authentication_failed',\n                        'hint': 'Make sure you include a valid token in the Authorization header'\n                    },\n                    'type': exc.__class__.__name__\n                }\n            }\n            response.data = custom_response_data\n\n        # Handle permission errors\n        elif isinstance(exc, PermissionDenied):\n            custom_response_data = {\n                'success': False,\n                'error': {\n                    'status_code': response.status_code,\n                    'message': 'You do not have permission to perform this action',\n                    'details': {\n                        'code': 'permission_denied',\n                        'required_permission': str(exc)\n                    },\n                    'type': exc.__class__.__name__\n                }\n            }\n            response.data = custom_response_data\n\n        # Handle other errors\n        else:\n            custom_response_data = {\n                'success': False,\n                'error': {\n                    'status_code': response.status_code,\n                    'message': get_error_message(response.status_code, exc),\n                    'details': response.data,\n                    'type': exc.__class__.__name__\n                }\n            }\n            response.data = custom_response_data\n\n    return response\n</code></pre> <p>Why handle authentication errors separately? - User-friendly: Clear message about what went wrong - Actionable: Tells user how to fix it - Security: Doesn't expose sensitive details - Consistent: Same format for all auth errors</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#handling-validation-errors","title":"Handling Validation Errors","text":"<p>Customize validation error format:</p> <pre><code># api/exceptions.py\nfrom rest_framework.views import exception_handler\nfrom rest_framework.exceptions import ValidationError\n\ndef custom_exception_handler(exc, context):\n    response = exception_handler(exc, context)\n\n    if response is not None:\n        # Handle validation errors\n        if isinstance(exc, ValidationError):\n            # Format field errors nicely\n            formatted_errors = {}\n            if isinstance(response.data, dict):\n                for field, errors in response.data.items():\n                    if isinstance(errors, list):\n                        formatted_errors[field] = errors[0] if errors else 'Invalid value'\n                    else:\n                        formatted_errors[field] = str(errors)\n\n            custom_response_data = {\n                'success': False,\n                'error': {\n                    'status_code': response.status_code,\n                    'message': 'Validation failed',\n                    'details': {\n                        'code': 'validation_error',\n                        'fields': formatted_errors\n                    },\n                    'type': exc.__class__.__name__\n                }\n            }\n            response.data = custom_response_data\n\n        # ... handle other errors ...\n\n    return response\n</code></pre> <p>Why format validation errors? - Clarity: Each field error is clear - User-friendly: Easy to understand what's wrong - Actionable: User knows which fields to fix</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#handling-jwt-token-errors","title":"Handling JWT Token Errors","text":"<p>Specific handling for JWT errors:</p> <pre><code># api/exceptions.py\nfrom rest_framework.views import exception_handler\nfrom rest_framework_simplejwt.exceptions import InvalidToken, TokenError\n\ndef custom_exception_handler(exc, context):\n    response = exception_handler(exc, context)\n\n    if response is not None:\n        # Handle JWT token errors\n        if isinstance(exc, (InvalidToken, TokenError)):\n            error_message = str(exc)\n\n            # Provide helpful messages based on error\n            if 'expired' in error_message.lower():\n                message = 'Token has expired. Please refresh your token.'\n                code = 'token_expired'\n            elif 'invalid' in error_message.lower():\n                message = 'Invalid token. Please login again.'\n                code = 'token_invalid'\n            else:\n                message = 'Token error. Please login again.'\n                code = 'token_error'\n\n            custom_response_data = {\n                'success': False,\n                'error': {\n                    'status_code': 401,\n                    'message': message,\n                    'details': {\n                        'code': code,\n                        'hint': 'Use /api/token/ to get a new token, or /api/token/refresh/ to refresh'\n                    },\n                    'type': exc.__class__.__name__\n                }\n            }\n            response.data = custom_response_data\n            response.status_code = 401\n\n        # ... handle other errors ...\n\n    return response\n</code></pre> <p>Why handle JWT errors specifically? - Clear guidance: Tells user how to fix token issues - Actionable: Provides endpoint URLs for token refresh - User-friendly: Explains what went wrong</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#production-vs-development-error-messages","title":"Production vs Development Error Messages","text":"<p>Show detailed errors in development, generic in production:</p> <pre><code># api/exceptions.py\nfrom rest_framework.views import exception_handler\nfrom django.conf import settings\nimport traceback\n\ndef custom_exception_handler(exc, context):\n    response = exception_handler(exc, context)\n\n    if response is not None:\n        # In development: show detailed errors\n        # In production: show generic errors\n        if settings.DEBUG:\n            error_details = {\n                'message': str(exc),\n                'traceback': traceback.format_exc() if hasattr(exc, '__traceback__') else None,\n                'context': {\n                    'view': context.get('view').__class__.__name__ if context.get('view') else None,\n                    'request_method': context.get('request').method if context.get('request') else None,\n                }\n            }\n        else:\n            # Production: don't expose sensitive details\n            error_details = {\n                'message': get_error_message(response.status_code, exc) if 'get_error_message' in globals() else 'An error occurred',\n                'code': 'error'\n            }\n\n        custom_response_data = {\n            'success': False,\n            'error': {\n                'status_code': response.status_code,\n                **error_details,\n                'type': exc.__class__.__name__\n            }\n        }\n        response.data = custom_response_data\n\n    return response\n</code></pre> <p>Why different messages? - Development: Detailed errors help debugging - Production: Generic errors protect security - Best practice: Never expose stack traces in production</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#complete-example","title":"Complete Example","text":"<p>Full-featured exception handler:</p> <pre><code># api/exceptions.py\nfrom rest_framework.views import exception_handler\nfrom rest_framework.response import Response\nfrom rest_framework import status\nfrom rest_framework.exceptions import (\n    AuthenticationFailed,\n    NotAuthenticated,\n    PermissionDenied,\n    ValidationError,\n    NotFound,\n    MethodNotAllowed\n)\nfrom rest_framework_simplejwt.exceptions import InvalidToken, TokenError\nfrom django.conf import settings\nimport logging\nimport traceback\n\nlogger = logging.getLogger(__name__)\n\ndef custom_exception_handler(exc, context):\n    \"\"\"\n    Comprehensive exception handler for DRF.\n    Provides consistent, user-friendly error responses.\n    \"\"\"\n    # Call DRF's default exception handler\n    response = exception_handler(exc, context)\n\n    # Request object\n    request = context.get('request')\n\n    if response is not None:\n        # Customize based on exception type\n        error_data = {\n            'success': False,\n            'error': {}\n        }\n\n        # Authentication errors\n        if isinstance(exc, (AuthenticationFailed, NotAuthenticated)):\n            error_data['error'] = {\n                'status_code': 401,\n                'message': 'Authentication required',\n                'details': {\n                    'code': 'authentication_required',\n                    'hint': 'Include a valid token in Authorization header: Bearer &lt;token&gt;'\n                }\n            }\n\n        # Permission errors\n        elif isinstance(exc, PermissionDenied):\n            error_data['error'] = {\n                'status_code': 403,\n                'message': 'Permission denied',\n                'details': {\n                    'code': 'permission_denied',\n                    'hint': 'You do not have permission to perform this action'\n                }\n            }\n\n        # JWT token errors\n        elif isinstance(exc, (InvalidToken, TokenError)):\n            error_data['error'] = {\n                'status_code': 401,\n                'message': 'Invalid or expired token',\n                'details': {\n                    'code': 'token_error',\n                    'hint': 'Get a new token at /api/token/ or refresh at /api/token/refresh/'\n                }\n            }\n\n        # Validation errors\n        elif isinstance(exc, ValidationError):\n            formatted_errors = format_validation_errors(response.data)\n            error_data['error'] = {\n                'status_code': 400,\n                'message': 'Validation failed',\n                'details': {\n                    'code': 'validation_error',\n                    'fields': formatted_errors\n                }\n            }\n\n        # Not found errors\n        elif isinstance(exc, NotFound):\n            error_data['error'] = {\n                'status_code': 404,\n                'message': 'Resource not found',\n                'details': {\n                    'code': 'not_found',\n                    'hint': 'The requested resource does not exist'\n                }\n            }\n\n        # Method not allowed\n        elif isinstance(exc, MethodNotAllowed):\n            error_data['error'] = {\n                'status_code': 405,\n                'message': 'Method not allowed',\n                'details': {\n                    'code': 'method_not_allowed',\n                    'allowed_methods': exc.allowed_methods if hasattr(exc, 'allowed_methods') else []\n                }\n            }\n\n        # Generic error\n        else:\n            error_data['error'] = {\n                'status_code': response.status_code,\n                'message': get_error_message(response.status_code),\n                'details': response.data if settings.DEBUG else {'code': 'error'}\n            }\n\n        # Add exception type for debugging\n        error_data['error']['type'] = exc.__class__.__name__\n\n        # Log error\n        logger.error(\n            f\"Error {error_data['error']['status_code']}: {exc}\",\n            extra={\n                'request_path': request.path if request else None,\n                'request_method': request.method if request else None,\n            },\n            exc_info=settings.DEBUG\n        )\n\n        response.data = error_data['error']\n\n    # Handle unexpected errors (500)\n    else:\n        error_data = {\n            'success': False,\n            'error': {\n                'status_code': 500,\n                'message': 'Internal server error',\n                'details': {\n                    'code': 'server_error',\n                    'message': str(exc) if settings.DEBUG else 'An unexpected error occurred'\n                },\n                'type': exc.__class__.__name__\n            }\n        }\n\n        # Log unexpected errors\n        logger.exception(f\"Unexpected error: {exc}\")\n\n        response = Response(error_data['error'], status=status.HTTP_500_INTERNAL_SERVER_ERROR)\n\n    return response\n\ndef format_validation_errors(errors):\n    \"\"\"Format DRF validation errors into user-friendly format\"\"\"\n    formatted = {}\n\n    if isinstance(errors, dict):\n        for field, field_errors in errors.items():\n            if isinstance(field_errors, list):\n                # Take first error message\n                formatted[field] = field_errors[0] if field_errors else 'Invalid value'\n            elif isinstance(field_errors, dict):\n                # Nested errors\n                formatted[field] = format_validation_errors(field_errors)\n            else:\n                formatted[field] = str(field_errors)\n\n    return formatted\n\ndef get_error_message(status_code):\n    \"\"\"Get user-friendly error message\"\"\"\n    messages = {\n        400: 'Bad request',\n        401: 'Authentication required',\n        403: 'Permission denied',\n        404: 'Resource not found',\n        405: 'Method not allowed',\n        429: 'Too many requests',\n        500: 'Internal server error',\n    }\n    return messages.get(status_code, 'An error occurred')\n</code></pre> <p>Why this comprehensive handler? - Handles all error types: Authentication, permissions, validation, etc. - User-friendly messages: Clear, actionable error messages - Consistent format: Same structure for all errors - Production-ready: Different messages for dev/prod - Logging: Tracks all errors for debugging</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#error-response-format","title":"Error Response Format","text":"<p>Standard error response structure:</p> <pre><code>{\n    \"success\": false,\n    \"error\": {\n        \"status_code\": 401,\n        \"message\": \"Authentication required\",\n        \"details\": {\n            \"code\": \"authentication_required\",\n            \"hint\": \"Include a valid token in Authorization header\"\n        },\n        \"type\": \"AuthenticationFailed\"\n    }\n}\n</code></pre> <p>Why this format? - <code>success</code>: Quick check if request succeeded - <code>error.status_code</code>: HTTP status code - <code>error.message</code>: Human-readable message - <code>error.details</code>: Additional information - <code>error.type</code>: Exception class name (for debugging)</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#testing-exception-handler","title":"Testing Exception Handler","text":"<p>Test your exception handler:</p> <pre><code># api/tests.py\nfrom rest_framework.test import APITestCase\nfrom rest_framework import status\nfrom django.contrib.auth.models import User\n\nclass ExceptionHandlerTest(APITestCase):\n    def setUp(self):\n        self.user = User.objects.create_user(\n            username='testuser',\n            password='testpass123'\n        )\n\n    def test_authentication_error(self):\n        # Request without token\n        response = self.client.get('/api/tasks/')\n        self.assertEqual(response.status_code, 401)\n        self.assertIn('error', response.data)\n        self.assertEqual(response.data['error']['details']['code'], 'authentication_required')\n\n    def test_validation_error(self):\n        # Login first\n        self.client.force_authenticate(user=self.user)\n\n        # Invalid data - empty title\n        response = self.client.post('/api/tasks/', {\n            'title': '',  # Empty title should fail validation\n            'completed': False\n        })\n        self.assertEqual(response.status_code, 400)\n        self.assertIn('error', response.data)\n        self.assertIn('fields', response.data['error']['details'])\n        self.assertIn('title', response.data['error']['details']['fields'])\n\n    def test_permission_denied(self):\n        # Login as regular user\n        self.client.force_authenticate(user=self.user)\n\n        # Try to access admin-only endpoint (if you have one)\n        # This would return 403 if permission denied\n        # response = self.client.get('/api/admin/tasks/')\n        # self.assertEqual(response.status_code, 403)\n</code></pre> <p>Why test exception handler? - Verify format: Ensure errors follow expected format - Catch bugs: Find issues in error handling - Documentation: Shows how errors are returned</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#best-practices","title":"Best Practices","text":"<p>1. Consistent Format - Use same structure for all errors - Include status code, message, details - Make it easy for clients to parse</p> <p>2. User-Friendly Messages - Avoid technical jargon - Provide actionable hints - Explain what went wrong</p> <p>3. Security - Don't expose sensitive details in production - Hide stack traces from users - Log detailed errors server-side</p> <p>4. Logging - Log all errors for debugging - Include request context - Use appropriate log levels</p> <p>5. Error Codes - Use consistent error codes - Make codes searchable - Document all error codes</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#testing-authenticated-apis","title":"Testing Authenticated APIs","text":"<p>See CURL_GUIDE.md for detailed examples. Quick reference:</p> <pre><code># Get token\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"user\", \"password\": \"pass\"}' \\\n  | jq -r '.access')\n\n# Use token\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n\n# Refresh token\ncurl -X POST http://localhost:8000/api/token/refresh/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"refresh\": \"your_refresh_token\"}'\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#exercises","title":"Exercises","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#exercise-1-complete-secure-book-api-filtering-pagination","title":"Exercise 1: Complete Secure Book API (Filtering &amp; Pagination)","text":"<ol> <li>Add filtering by author and date range to Book API</li> <li>Add search functionality across title, author, and description</li> <li>Add ordering by title, author, published_date, and created_at</li> <li>Implement pagination (PageNumberPagination with 10 items per page)</li> <li>Test all filtering, searching, ordering, and pagination with cURL</li> </ol>"},{"location":"LEVEL_2B_INTERMEDIATE.html#exercise-2-task-filtering-searching","title":"Exercise 2: Task Filtering &amp; Searching","text":"<ol> <li>Add priority field to Task model</li> <li>Create TaskFilter with priority filtering and date range filtering</li> <li>Add search functionality for title and description</li> <li>Add ordering by priority, title, and created_at</li> <li>Test filtering, searching, and ordering with cURL</li> </ol>"},{"location":"LEVEL_2B_INTERMEDIATE.html#exercise-3-custom-exception-handler","title":"Exercise 3: Custom Exception Handler","text":"<ol> <li>Create custom exception handler with consistent error format</li> <li>Add user-friendly error messages for common status codes</li> <li>Configure exception handler in settings.py</li> <li>Test error responses (send invalid data, access non-existent resource, etc.)</li> <li>Verify error format is consistent across all endpoints</li> </ol>"},{"location":"LEVEL_2B_INTERMEDIATE.html#exercise-4-advanced-pagination","title":"Exercise 4: Advanced Pagination","text":"<ol> <li>Implement LimitOffsetPagination for Book API</li> <li>Set default_limit to 20 and max_limit to 100</li> <li>Test pagination with different limit and offset values</li> <li>Compare with PageNumberPagination (which is easier to use?)</li> </ol>"},{"location":"LEVEL_2B_INTERMEDIATE.html#common-errors-and-solutions","title":"Common Errors and Solutions","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#error-1-django_filtersexceptionsfieldnotfound-field-title_contains-not-found","title":"Error 1: <code>django_filters.exceptions.FieldNotFound: Field 'title_contains' not found</code>","text":"<p>Error Message:</p> <pre><code>django_filters.exceptions.FieldNotFound: Field 'title_contains' not found\n</code></pre> <p>Why This Happens: - Trying to filter by field that doesn't exist in model - Field name typo in filterset_fields - Custom filter field not defined before using in Meta.fields</p> <p>How to Fix:</p> <pre><code># WRONG - Field 'title_contains' not defined\nclass TaskFilter(django_filters.FilterSet):\n    # title_contains not defined here!\n\n    class Meta:\n        model = Task\n        fields = ['title_contains']  # \u274c Field not defined\n\n# CORRECT - Define field first\nclass TaskFilter(django_filters.FilterSet):\n    # Define custom filter field\n    title_contains = django_filters.CharFilter(\n        field_name='title',  # Model field name\n        lookup_expr='icontains'  # Lookup type\n    )\n\n    class Meta:\n        model = Task\n        fields = ['title_contains']  # \u2705 Now defined\n</code></pre> <p>Prevention: Always define custom filter fields before listing them in <code>Meta.fields</code>.</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#error-2-rest_frameworkexceptionsparseerror-malformed-request","title":"Error 2: <code>rest_framework.exceptions.ParseError: Malformed request</code>","text":"<p>Error Message:</p> <pre><code>rest_framework.exceptions.ParseError: Malformed request\n</code></pre> <p>Why This Happens: - Invalid JSON in request body - Missing Content-Type header - Malformed query parameters</p> <p>How to Fix:</p> <pre><code># WRONG - Missing Content-Type header\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -d '{\"title\": \"Task\"}'\n\n# CORRECT - Include Content-Type header\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\"title\": \"Task\"}'\n\n# WRONG - Invalid JSON\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{title: \"Task\"}'  # \u274c Missing quotes around key\n\n# CORRECT - Valid JSON\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Task\"}'  # \u2705 Valid JSON\n</code></pre> <p>Prevention:  - Always include <code>Content-Type: application/json</code> header - Validate JSON syntax before sending - Use proper JSON formatting</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#error-3-djangocoreexceptionsfielderror-cannot-resolve-keyword-title__icontains-into-field","title":"Error 3: <code>django.core.exceptions.FieldError: Cannot resolve keyword 'title__icontains' into field</code>","text":"<p>Error Message:</p> <pre><code>django.core.exceptions.FieldError: Cannot resolve keyword 'title__icontains' into field\n</code></pre> <p>Why This Happens: - Using lookup expression in wrong place - Field doesn't exist in model - Typo in field name</p> <p>How to Fix:</p> <pre><code># WRONG - Using lookup expression directly in filterset_fields\nclass TaskViewSet(viewsets.ModelViewSet):\n    filterset_fields = ['title__icontains']  # \u274c Can't use lookup expressions here\n\n# CORRECT - Use FilterSet with custom field\nclass TaskFilter(django_filters.FilterSet):\n    title = django_filters.CharFilter(lookup_expr='icontains')  # \u2705 Define in FilterSet\n\n    class Meta:\n        model = Task\n        fields = ['title']\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    filterset_class = TaskFilter  # \u2705 Use FilterSet\n</code></pre> <p>Prevention:  - Use <code>filterset_fields</code> only for exact matches - Use <code>FilterSet</code> for advanced lookups (icontains, gte, lte, etc.)</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#error-4-rest_frameworkexceptionsnotfound-invalid-page","title":"Error 4: <code>rest_framework.exceptions.NotFound: Invalid page.</code>","text":"<p>Error Message:</p> <pre><code>rest_framework.exceptions.NotFound: Invalid page.\n</code></pre> <p>Why This Happens: - Requesting page number that doesn't exist - Invalid page parameter format - Page number out of range</p> <p>How to Fix:</p> <pre><code># WRONG - Page number too high (only 5 pages exist, requesting page 10)\ncurl \"http://localhost:8000/api/tasks/?page=10\"\n\n# CORRECT - Check total pages first\ncurl \"http://localhost:8000/api/tasks/\" | jq '.count, .next, .previous'\n\n# WRONG - Invalid page format\ncurl \"http://localhost:8000/api/tasks/?page=abc\"  # \u274c Not a number\n\n# CORRECT - Use valid page number\ncurl \"http://localhost:8000/api/tasks/?page=1\"  # \u2705 Valid\n</code></pre> <p>Prevention:  - Always check response for <code>count</code> and <code>next</code> fields - Handle pagination errors in client code - Validate page numbers before making requests</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#error-5-filtering-not-working-all-results-returned","title":"Error 5: Filtering not working - all results returned","text":"<p>Problem: Filtering doesn't work, returns all results instead of filtered results.</p> <p>Why This Happens: - Filter backend not configured - FilterSet not assigned to view - Field name mismatch</p> <p>How to Fix:</p> <pre><code># WRONG - Missing filter backend\nclass TaskViewSet(viewsets.ModelViewSet):\n    filterset_fields = ['completed']  # \u274c No filter_backends!\n\n# CORRECT - Add filter backend\nclass TaskViewSet(viewsets.ModelViewSet):\n    filter_backends = [DjangoFilterBackend]  # \u2705 Enable filtering\n    filterset_fields = ['completed']\n\n# WRONG - FilterSet not assigned\nclass TaskFilter(django_filters.FilterSet):\n    # ... filter definition ...\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    # filterset_class not set!  # \u274c\n\n# CORRECT - Assign FilterSet\nclass TaskViewSet(viewsets.ModelViewSet):\n    filter_backends = [DjangoFilterBackend]\n    filterset_class = TaskFilter  # \u2705 Use FilterSet\n</code></pre> <p>Prevention:  - Always include filter backend in <code>filter_backends</code> - Assign <code>filterset_class</code> when using FilterSet - Verify filter configuration in view</p>"},{"location":"LEVEL_2B_INTERMEDIATE.html#general-debugging-tips-for-level-2b","title":"General Debugging Tips for Level 2B","text":"<p>1. Test Filters Separately</p> <pre><code># Test each filter individually\ncurl \"http://localhost:8000/api/tasks/?completed=false\"\ncurl \"http://localhost:8000/api/tasks/?created_after=2024-01-01\"\ncurl \"http://localhost:8000/api/tasks/?title=django\"\n</code></pre> <p>2. Check Filter Configuration</p> <pre><code># In view, verify filter setup\nprint(\"Filter backends:\", self.filter_backends)\nprint(\"FilterSet class:\", self.filterset_class)\nprint(\"Search fields:\", self.search_fields)\nprint(\"Ordering fields:\", self.ordering_fields)\n</code></pre> <p>3. Verify Pagination</p> <pre><code># Check pagination settings\nfrom rest_framework.pagination import PageNumberPagination\npagination = PageNumberPagination()\nprint(\"Page size:\", pagination.page_size)\n</code></pre> <p>4. Test Exception Handler</p> <pre><code># Test different error scenarios\n# Invalid data\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"invalid\": \"data\"}'\n\n# Non-existent resource\ncurl http://localhost:8000/api/tasks/99999/\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#add-ons","title":"Add-ons","text":""},{"location":"LEVEL_2B_INTERMEDIATE.html#add-on-1-custom-filter-backend","title":"Add-on 1: Custom Filter Backend","text":"<p>Create a custom filter backend for advanced filtering logic:</p> <pre><code># api/filters.py\nfrom rest_framework.filters import BaseFilterBackend\n\nclass CustomFilterBackend(BaseFilterBackend):\n    \"\"\"\n    Custom filter backend for complex filtering logic.\n    \"\"\"\n    def filter_queryset(self, request, queryset, view):\n        # Add custom filtering logic here\n        if request.query_params.get('my_custom_filter'):\n            queryset = queryset.filter(...)\n        return queryset\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#add-on-2-custom-pagination-class","title":"Add-on 2: Custom Pagination Class","text":"<p>Create a custom pagination class with additional metadata:</p> <pre><code># api/pagination.py\nfrom rest_framework.pagination import PageNumberPagination\n\nclass CustomPageNumberPagination(PageNumberPagination):\n    page_size = 20\n    page_size_query_param = 'page_size'\n    max_page_size = 100\n\n    def get_paginated_response(self, data):\n        response = super().get_paginated_response(data)\n        # Add custom metadata\n        response.data['custom_field'] = 'custom_value'\n        return response\n</code></pre>"},{"location":"LEVEL_2B_INTERMEDIATE.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 2B. You now know:</p> <ul> <li>\u2705 Filtering with django-filter</li> <li>\u2705 Searching across multiple fields</li> <li>\u2705 Ordering and sorting results</li> <li>\u2705 Pagination strategies</li> <li>\u2705 Exception handling</li> <li>\u2705 Testing authenticated APIs</li> </ul> <p>Ready for Level 3? Continue to Level 3A: Advanced - Relationships &amp; Query Optimization to learn about model relationships, nested serializers, and query optimization!</p> <p>Resources: - DRF Filtering - DRF Searching - DRF Pagination - django-filter</p>"},{"location":"LEVEL_3A_ADVANCED.html","title":"Level 3A: Advanced - Relationships &amp; Query Optimization","text":""},{"location":"LEVEL_3A_ADVANCED.html#goal","title":"Goal","text":"<p>Build efficient APIs with model relationships and optimized database queries. Master ForeignKey, ManyToMany, OneToOne relationships, and learn to optimize queries to prevent N+1 problems. By the end of this level, you'll be able to build efficient APIs that handle complex relationships without performance issues.</p>"},{"location":"LEVEL_3A_ADVANCED.html#note-on-examples","title":"Note on Examples","text":"<p>This guide uses Blog API (Post/Comment/Tag) as the primary example to demonstrate relationship patterns and query optimization. The concepts apply to any model with relationships (Task, Book, Product, etc.).</p> <p>Prerequisites: Complete Level 2B first to understand filtering, searching, and pagination.</p>"},{"location":"LEVEL_3A_ADVANCED.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Model Relationships</li> <li>Query Optimization</li> <li>Advanced Query Patterns</li> <li>Exercises</li> <li>Common Errors and Solutions</li> <li>Add-ons</li> </ol>"},{"location":"LEVEL_3A_ADVANCED.html#model-relationships","title":"Model Relationships","text":""},{"location":"LEVEL_3A_ADVANCED.html#foreignkey-many-to-one","title":"ForeignKey (Many-to-One)","text":"<p>One model references another. Example: Many Posts belong to One User.</p> <pre><code># api/models.py\n# Import Django models for database models\nfrom django.db import models\n# Import User model for authentication\nfrom django.contrib.auth.models import User\n\n# Post model - represents a blog post\n# ForeignKey relationship: Many Posts belong to One User (author)\nclass Post(models.Model):\n    # Post title\n    title = models.CharField(max_length=200)\n    # Post content (can be long text)\n    content = models.TextField()\n\n    # ForeignKey: Many-to-One relationship\n    # Many posts can belong to one user (author)\n    # on_delete=models.CASCADE = If user is deleted, delete all their posts\n    # related_name='posts' = Access user's posts via user.posts.all()\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n\n    # Timestamp when post was created\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return self.title\n</code></pre> <p>Access patterns:</p> <pre><code># Get all posts by a user\nuser.posts.all()\n\n# Get author of a post\npost.author\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#onetoonefield-one-to-one","title":"OneToOneField (One-to-One)","text":"<p>One-to-one relationship. Example: One User has One Profile.</p> <pre><code># api/models.py\nclass UserProfile(models.Model):\n    user = models.OneToOneField(User, on_delete=models.CASCADE, related_name='profile')\n    bio = models.TextField(blank=True)\n    phone_number = models.CharField(max_length=15, blank=True)\n</code></pre> <p>Access patterns:</p> <pre><code># Get user's profile\nuser.profile\n\n# Get profile's user\nprofile.user\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#manytomanyfield-many-to-many","title":"ManyToManyField (Many-to-Many)","text":"<p>Many-to-many relationship. Example: Posts can have many Tags, Tags can be on many Posts.</p> <pre><code># api/models.py\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    title = models.CharField(max_length=200)\n    content = models.TextField()\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    tags = models.ManyToManyField(Tag, related_name='posts', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n</code></pre> <p>Access patterns:</p> <pre><code># Add tag to post\npost.tags.add(tag)\n\n# Get all tags for a post\npost.tags.all()\n\n# Get all posts with a tag\ntag.posts.all()\n\n# Remove tag\npost.tags.remove(tag)\n\n# Clear all tags\npost.tags.clear()\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#related-managers","title":"Related Managers","text":"<p>Django automatically creates related managers for relationships:</p> <pre><code># ForeignKey creates reverse manager\nuser.posts.all()  # All posts by user\nuser.posts.filter(title__icontains='django')\n\n# ManyToMany creates manager\npost.tags.all()\npost.tags.add(tag1, tag2)\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#on_delete-options","title":"on_delete Options","text":"<pre><code># CASCADE: Delete related objects\nauthor = models.ForeignKey(User, on_delete=models.CASCADE)\n\n# PROTECT: Prevent deletion if related objects exist\nauthor = models.ForeignKey(User, on_delete=models.PROTECT)\n\n# SET_NULL: Set to NULL (requires null=True)\nauthor = models.ForeignKey(User, on_delete=models.SET_NULL, null=True)\n\n# SET_DEFAULT: Set to default value\nauthor = models.ForeignKey(User, on_delete=models.SET_DEFAULT, default=1)\n\n# DO_NOTHING: Do nothing (not recommended)\nauthor = models.ForeignKey(User, on_delete=models.DO_NOTHING)\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#query-optimization","title":"Query Optimization","text":""},{"location":"LEVEL_3A_ADVANCED.html#the-n1-problem","title":"The N+1 Problem","text":"<p>Problem: Making multiple database queries when one would suffice.</p> <pre><code># BAD: N+1 queries problem\n# This makes 1 query to get all posts, then 1 query per post to get author\n# If you have 100 posts, this makes 101 queries! (1 + 100)\nposts = Post.objects.all()  # Query 1: Get all posts\nfor post in posts:\n    # Query 2, 3, 4, ... N: One query per post to get author\n    # Each post.author access hits the database again!\n    print(post.author.username)  # One query per post! \u274c\n</code></pre> <p>Solution: Use <code>select_related</code> and <code>prefetch_related</code>.</p>"},{"location":"LEVEL_3A_ADVANCED.html#select_related-foreignkey-onetoone","title":"select_related (ForeignKey, OneToOne)","text":"<p>Follows foreign key relationships and fetches related objects in a single query.</p> <pre><code># GOOD: Single query using select_related\n# select_related() follows ForeignKey/OneToOne relationships\n# Fetches related objects in the same query using SQL JOIN\n# This makes only 1 query total (instead of N+1 queries)\nposts = Post.objects.select_related('author').all()  # Query 1: Get posts + authors in one query\nfor post in posts:\n    # No additional queries! Author data already loaded\n    print(post.author.username)  # No additional queries! \u2705\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#prefetch_related-manytomany-reverse-foreignkey","title":"prefetch_related (ManyToMany, Reverse ForeignKey)","text":"<p>Prefetches related objects in a separate query.</p> <pre><code># BAD: Multiple queries for ManyToMany/Reverse ForeignKey\n# This makes 1 query to get posts, then 1 query per post to get tags\n# If you have 100 posts, this makes 101 queries!\nposts = Post.objects.all()  # Query 1: Get all posts\nfor post in posts:\n    # Query 2, 3, 4, ... N: One query per post to get tags\n    print(post.tags.all())  # One query per post! \u274c\n\n# GOOD: Two queries total using prefetch_related\n# prefetch_related() is for ManyToMany and reverse ForeignKey relationships\n# Makes 2 queries: 1 for posts, 1 for all related tags (then Django matches them)\n# If you have 100 posts, this makes only 2 queries!\nposts = Post.objects.prefetch_related('tags').all()  # Query 1: Posts, Query 2: All tags\nfor post in posts:\n    # No additional queries! Tags already loaded and matched\n    print(post.tags.all())  # No additional queries! \u2705\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#combined-optimization","title":"Combined Optimization","text":"<pre><code># Optimize multiple relationships at once\n# Use select_related for ForeignKey/OneToOne (author)\n# Use prefetch_related for ManyToMany/reverse ForeignKey (tags, comments)\n# This makes only 3 queries total: 1 for posts+author, 1 for tags, 1 for comments\nposts = Post.objects.select_related('author').prefetch_related('tags', 'comments').all()\n\n# You can combine with filtering\n# Filtering happens in the database (efficient)\n# Optimization still works - only fetches related data for filtered posts\nposts = Post.objects.select_related('author').prefetch_related('tags').filter(\n    author__is_active=True  # Only get posts from active authors\n).all()\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#only-and-defer","title":"only() and defer()","text":"<p>Fetch only needed fields.</p> <pre><code># Fetch only specific fields (faster, less memory)\n# only() = Fetch only these fields, defer everything else\n# Useful when you don't need all fields (e.g., don't need large text fields)\nposts = Post.objects.only('id', 'title', 'author_id').all()  # Only fetch these 3 fields\n\n# Defer heavy fields (skip expensive fields)\n# defer() = Don't fetch these fields, fetch everything else\n# Useful for large fields (images, long text) that you don't always need\nposts = Post.objects.defer('content').all()  # Don't fetch content field (saves bandwidth/memory)\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#annotate-and-aggregate","title":"annotate() and aggregate()","text":"<p>Add computed fields and aggregations.</p> <pre><code># Import aggregation functions\nfrom django.db.models import Count, Avg\n\n# annotate() = Add computed field to each object in queryset\n# Adds comment_count field to each post (computed in database, not Python)\n# Each post will have a comment_count attribute\nposts = Post.objects.annotate(comment_count=Count('comments')).all()\n# Now you can do: post.comment_count (number of comments for that post)\n\n# aggregate() = Compute a single value across entire queryset\n# Returns a dictionary with the computed value\n# Gets average comment count across ALL posts (single number)\navg_comments = Post.objects.aggregate(avg_comments=Avg('comments__id'))\n# Returns: {'avg_comments': 5.5} (average number of comments per post)\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#using-in-views","title":"Using in Views","text":"<pre><code># api/views.py\n# Import necessary classes\nfrom rest_framework import viewsets\nfrom django.db.models import Count\nfrom .models import Post\n\nclass PostViewSet(viewsets.ModelViewSet):\n    # Override get_queryset() to optimize database queries\n    # This is called for list and retrieve operations\n    def get_queryset(self):\n        return Post.objects.select_related('author').prefetch_related(\n            'tags',  # ManyToMany: prefetch all tags\n            'comments',  # Reverse ForeignKey: prefetch all comments\n            'comments__author'  # Nested: prefetch author of each comment\n        ).annotate(comment_count=Count('comments')).all()  # Add comment_count field\n        # This makes only 4 queries total:\n        # 1. Posts + authors (select_related)\n        # 2. All tags (prefetch_related)\n        # 3. All comments (prefetch_related)\n        # 4. All comment authors (prefetch_related nested)\n        # Instead of potentially hundreds of queries!\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#advanced-query-patterns","title":"Advanced Query Patterns","text":""},{"location":"LEVEL_3A_ADVANCED.html#complex-filtering","title":"Complex Filtering","text":"<pre><code># Import Q object for complex queries and aggregation functions\nfrom django.db.models import Q, Count, Avg\nfrom django.utils import timezone\n\n# OR conditions using Q object\n# | = OR operator\n# Finds tasks that are high priority OR past due date\ntasks = Task.objects.filter(\n    Q(priority='high') | Q(due_date__lt=timezone.now())\n)\n\n# AND conditions using Q object\n# &amp; = AND operator (can also use comma in filter())\n# Finds tasks that are not completed AND high priority\ntasks = Task.objects.filter(\n    Q(completed=False) &amp; Q(priority='high')\n)\n\n# Exclude certain records\n# exclude() = NOT condition\n# Gets all tasks except completed ones\ntasks = Task.objects.exclude(completed=True)\n\n# Annotate with multiple computed fields and filter by annotation\n# Adds comment_count and tag_count to each post\n# Then filters to only posts with 5+ comments\nposts = Post.objects.annotate(\n    comment_count=Count('comments'),  # Count comments per post\n    tag_count=Count('tags')  # Count tags per post\n).filter(comment_count__gte=5)  # Only posts with 5 or more comments\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#exercises","title":"Exercises","text":""},{"location":"LEVEL_3A_ADVANCED.html#exercise-1-optimize-blog-api-queries","title":"Exercise 1: Optimize Blog API Queries","text":"<ol> <li>Create Post, Comment, and Tag models with relationships</li> <li>Identify N+1 query problems in your views</li> <li>Use select_related() to optimize ForeignKey relationships</li> <li>Use prefetch_related() to optimize ManyToMany relationships</li> <li>Use annotate() to add comment counts to posts</li> <li>Measure query count before and after optimization</li> </ol>"},{"location":"LEVEL_3A_ADVANCED.html#exercise-2-complex-relationships","title":"Exercise 2: Complex Relationships","text":"<ol> <li>Create a Task model with ForeignKey to User (assignee)</li> <li>Create a Category model with ManyToMany to Task</li> <li>Create a Priority model with OneToOne to Task</li> <li>Optimize queries to fetch all related data efficiently</li> <li>Test with Django Debug Toolbar to verify optimization</li> </ol>"},{"location":"LEVEL_3A_ADVANCED.html#exercise-3-advanced-query-patterns","title":"Exercise 3: Advanced Query Patterns","text":"<ol> <li>Use Q objects for complex OR/AND conditions</li> <li>Use annotate() to add computed fields</li> <li>Use aggregate() to compute statistics</li> <li>Filter by annotated fields</li> <li>Combine multiple optimizations in a single queryset</li> </ol>"},{"location":"LEVEL_3A_ADVANCED.html#common-errors-and-solutions","title":"Common Errors and Solutions","text":""},{"location":"LEVEL_3A_ADVANCED.html#error-1-n1-query-problem","title":"Error 1: N+1 Query Problem","text":"<p>Problem: Making hundreds of database queries when a few would suffice.</p> <p>Symptoms: - Slow API responses - High database load - Many queries in Django Debug Toolbar</p> <p>How to Fix:</p> <pre><code># BAD: N+1 queries\nposts = Post.objects.all()  # 1 query\nfor post in posts:\n    print(post.author.username)  # N queries (one per post)\n\n# GOOD: Optimized with select_related\nposts = Post.objects.select_related('author').all()  # 1 query total\nfor post in posts:\n    print(post.author.username)  # No additional queries\n</code></pre> <p>Prevention: Always use <code>select_related()</code> for ForeignKey/OneToOne and <code>prefetch_related()</code> for ManyToMany/reverse ForeignKey.</p>"},{"location":"LEVEL_3A_ADVANCED.html#error-2-djangodbutilsoperationalerror-no-such-column","title":"Error 2: <code>django.db.utils.OperationalError: no such column</code>","text":"<p>Error Message:</p> <pre><code>django.db.utils.OperationalError: no such column: api_post.author_id\n</code></pre> <p>Why This Happens: - Model has ForeignKey but migration not run - Database out of sync with models</p> <p>How to Fix:</p> <pre><code># Create migrations\npython manage.py makemigrations\n\n# Apply migrations\npython manage.py migrate\n\n# If still issues, check if model field name matches database column\n</code></pre> <p>Prevention: Always run migrations after adding/changing model relationships.</p>"},{"location":"LEVEL_3A_ADVANCED.html#error-3-relatedobjectdoesnotexist-post-has-no-author","title":"Error 3: <code>RelatedObjectDoesNotExist: Post has no author</code>","text":"<p>Error Message:</p> <pre><code>RelatedObjectDoesNotExist: Post has no author\n</code></pre> <p>Why This Happens: - Accessing ForeignKey that is None - Post created without author - Author deleted but post still exists (if on_delete not CASCADE)</p> <p>How to Fix:</p> <pre><code># Check if related object exists\nif post.author:\n    print(post.author.username)\nelse:\n    print(\"No author\")\n\n# Or use getattr with default\nauthor_name = getattr(post.author, 'username', 'Unknown')\n</code></pre> <p>Prevention:  - Set <code>null=True, blank=True</code> if ForeignKey can be empty - Or ensure related object is always set when creating</p>"},{"location":"LEVEL_3A_ADVANCED.html#error-4-djangocoreexceptionsfielderror-cannot-resolve-keyword","title":"Error 4: <code>django.core.exceptions.FieldError: Cannot resolve keyword</code>","text":"<p>Error Message:</p> <pre><code>django.core.exceptions.FieldError: Cannot resolve keyword 'author__username' into field\n</code></pre> <p>Why This Happens: - Typo in field name - Using double underscore on non-relationship field - Field doesn't exist</p> <p>How to Fix:</p> <pre><code># WRONG - Typo\nposts = Post.objects.filter(authr__username='john')  # \u274c 'authr' should be 'author'\n\n# CORRECT\nposts = Post.objects.filter(author__username='john')  # \u2705\n\n# WRONG - Can't use __ on non-relationship\nposts = Post.objects.filter(title__username='test')  # \u274c title is not a relationship\n\n# CORRECT - Use __ only for relationships\nposts = Post.objects.filter(title__icontains='test')  # \u2705 icontains is a lookup\n</code></pre> <p>Prevention:  - Double-check field names - Use <code>__</code> only for following relationships - Use lookups (icontains, exact, etc.) for filtering</p>"},{"location":"LEVEL_3A_ADVANCED.html#add-ons","title":"Add-ons","text":""},{"location":"LEVEL_3A_ADVANCED.html#add-on-1-django-debug-toolbar","title":"Add-on 1: Django Debug Toolbar","text":"<p>Install Django Debug Toolbar to visualize database queries:</p> <pre><code>pip install django-debug-toolbar\n</code></pre> <pre><code># core/settings.py\nif DEBUG:\n    INSTALLED_APPS += ['debug_toolbar']\n    MIDDLEWARE += ['debug_toolbar.middleware.DebugToolbarMiddleware']\n    INTERNAL_IPS = ['127.0.0.1']\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#add-on-2-query-count-middleware","title":"Add-on 2: Query Count Middleware","text":"<p>Create middleware to log query counts:</p> <pre><code># api/middleware.py\nfrom django.db import connection\n\nclass QueryCountMiddleware:\n    def __init__(self, get_response):\n        self.get_response = get_response\n\n    def __call__(self, request):\n        response = self.get_response(request)\n        print(f\"Total queries: {len(connection.queries)}\")\n        return response\n</code></pre>"},{"location":"LEVEL_3A_ADVANCED.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 3A. You now know:</p> <ul> <li>\u2705 Model relationships (ForeignKey, ManyToMany, OneToOne)</li> <li>\u2705 Query optimization (select_related, prefetch_related)</li> <li>\u2705 Advanced query patterns (Q objects, annotate, aggregate)</li> <li>\u2705 Preventing N+1 query problems</li> </ul> <p>Ready for Level 3B? Continue to Level 3B: Advanced - Serializers &amp; Advanced Patterns to learn about nested serializers, custom serializer fields, validation, Django signals, and background tasks!</p> <p>Resources: - Django Model Relationships - Django Query Optimization - Django Debug Toolbar</p>"},{"location":"LEVEL_3B_ADVANCED.html","title":"Level 3B: Advanced - Serializers &amp; Advanced Patterns","text":""},{"location":"LEVEL_3B_ADVANCED.html#goal","title":"Goal","text":"<p>Build APIs with advanced serializers, custom validation, Django signals, and background tasks. Master nested serializers, custom serializer fields, validation logic, signals, and asynchronous task processing. By the end of this level, you'll be able to build complex APIs with sophisticated data handling and background processing.</p>"},{"location":"LEVEL_3B_ADVANCED.html#note-on-examples","title":"Note on Examples","text":"<p>This guide uses Blog API (Post/Comment/Tag) and Enhanced Task API as examples to demonstrate advanced serializer patterns, validation, signals, and background tasks. The concepts apply to any model and API.</p> <p>Prerequisites: Complete Level 3A first to understand model relationships and query optimization.</p>"},{"location":"LEVEL_3B_ADVANCED.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Nested Serializers</li> <li>SerializerMethodField</li> <li>Custom Serializer Fields</li> <li>Overriding Serializer Methods</li> <li>Validation</li> <li>Django Signals</li> <li>Background Tasks</li> <li>Step-by-Step: Blog API</li> <li>Step-by-Step: Enhanced Task API</li> <li>Soft Delete</li> <li>Exercises</li> <li>Common Errors and Solutions</li> <li>Add-ons</li> </ol>"},{"location":"LEVEL_3B_ADVANCED.html#nested-serializers","title":"Nested Serializers","text":""},{"location":"LEVEL_3B_ADVANCED.html#read-only-nested-serializer","title":"Read-Only Nested Serializer","text":"<p>Display related data but don't allow creation/update through nested data.</p> <pre><code># api/serializers.py\n# Import DRF serializers\nfrom rest_framework import serializers\n# Import models\nfrom .models import Post, User, Tag\n\n# Nested serializer for author (User model)\n# This serializer is used INSIDE PostSerializer to show author details\nclass AuthorSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = User\n        # Fields to include when serializing author\n        fields = ['id', 'username', 'email', 'first_name', 'last_name']\n\n# Main serializer for Post\n# Uses nested AuthorSerializer to include author details in response\nclass PostSerializer(serializers.ModelSerializer):\n    # Nested serializer: Shows full author object in response (read-only)\n    # read_only=True = Can't create/update author through this field\n    author = AuthorSerializer(read_only=True)\n\n    # Separate field for writing (creating/updating posts)\n    # write_only=True = Not included in response, only for input\n    # Client sends author_id (integer), not full author object\n    author_id = serializers.IntegerField(write_only=True)\n\n    class Meta:\n        model = Post\n        # Include both author (nested object) and author_id (for writing)\n        fields = ['id', 'title', 'content', 'author', 'author_id', 'created_at']\n        # These fields are automatically set, can't be changed by client\n        read_only_fields = ['id', 'created_at']\n\n    def create(self, validated_data):\n        # Extract author_id from validated data\n        # pop() removes it from validated_data (we'll set it differently)\n        author_id = validated_data.pop('author_id', None)\n        if author_id:\n            # Set author_id directly (ForeignKey field)\n            validated_data['author_id'] = author_id\n        return Post.objects.create(**validated_data)\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#writable-nested-serializer","title":"Writable Nested Serializer","text":"<p>Allow creating/updating related objects through the parent.</p> <p>\u26a0\ufe0f Important: When using nested serializers with ManyToMany fields, ensure the instance is saved before accessing ManyToMany relationships to avoid <code>AttributeError: 'NoneType' object has no attribute '_meta'</code>.</p> <pre><code># api/serializers.py\nclass TagSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Tag\n        fields = ['id', 'name']\n\nclass CommentSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Comment\n        fields = ['id', 'content', 'author', 'created_at']\n        read_only_fields = ['id', 'created_at']\n\nclass PostSerializer(serializers.ModelSerializer):\n    # Overriding model's ManyToMany 'tags' field with nested serializer\n    tags = TagSerializer(many=True, required=False)\n    comments = CommentSerializer(many=True, read_only=True)\n\n    class Meta:\n        model = Post\n        fields = ['id', 'title', 'content', 'author', 'tags', 'comments', 'created_at']\n        read_only_fields = ['id', 'author', 'created_at']\n\n    def create(self, validated_data):\n        tags_data = validated_data.pop('tags', [])\n        request = self.context.get('request')\n        if not request or not request.user.is_authenticated:\n            raise serializers.ValidationError(\"Authentication required to create posts\")\n        # CRITICAL: Create instance first, then add ManyToMany relationships\n        # Author is read-only, so set it from request\n        post = Post.objects.create(author=request.user, **validated_data)\n\n        # Now safe to add ManyToMany relationships (instance is saved)\n        # tags_data is a list of dicts: [{'name': 'django'}, {'name': 'python'}]\n        for tag_data in tags_data:\n            tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n            post.tags.add(tag)\n\n        return post\n\n    def update(self, instance, validated_data):\n        tags_data = validated_data.pop('tags', None)\n\n        # Update post fields\n        instance.title = validated_data.get('title', instance.title)\n        instance.content = validated_data.get('content', instance.content)\n        # CRITICAL: Save instance before updating ManyToMany\n        instance.save()\n\n        # Update tags if provided (after instance is saved)\n        if tags_data is not None:\n            instance.tags.clear()\n            for tag_data in tags_data:\n                tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n                instance.tags.add(tag)\n\n        return instance\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#nested-serializer-best-practices","title":"Nested Serializer Best Practices","text":"<ol> <li>Use read_only=True for display-only nested data</li> <li>Override create() and update() for writable nested serializers</li> <li>Use get_or_create() to avoid duplicate related objects</li> <li>Handle ManyToMany relationships carefully in update()</li> </ol>"},{"location":"LEVEL_3B_ADVANCED.html#important-manytomany-field-conflicts","title":"Important: ManyToMany Field Conflicts","text":"<p>\u26a0\ufe0f Common Error: When overriding a ManyToMany field with a nested serializer using the same field name, you may encounter:</p> <pre><code>AttributeError: 'NoneType' object has no attribute '_meta'\n</code></pre> <p>Solution Options:</p> <p>Option 1: Separate Read/Write Fields (Recommended) Use different field names for reading (nested serializer) and writing (ID list):</p> <pre><code>class TaskSerializer(serializers.ModelSerializer):\n    # Read: nested serializer for display\n    assigned_to = UserSerializer(many=True, read_only=True)\n    # Write: list of IDs for creation/update\n    assigned_to_ids = serializers.ListField(\n        child=serializers.IntegerField(),\n        write_only=True,\n        required=False\n    )\n\n    def create(self, validated_data):\n        assigned_to_ids = validated_data.pop('assigned_to_ids', [])\n        task = Task.objects.create(**validated_data)\n        if assigned_to_ids:\n            task.assigned_to.set(assigned_to_ids)  # Set after creation\n        return task\n</code></pre> <p>Option 2: Nested Serializer (Use with Caution) If using the same field name, ensure the instance is saved before accessing ManyToMany:</p> <pre><code>class PostSerializer(serializers.ModelSerializer):\n    tags = TagSerializer(many=True, required=False)  # Same name as model field\n\n    def create(self, validated_data):\n        tags_data = validated_data.pop('tags', [])\n        # CRITICAL: Create instance first, then add ManyToMany relationships\n        post = Post.objects.create(**validated_data)\n        # Now safe to add ManyToMany relationships\n        for tag_data in tags_data:\n            tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n            post.tags.add(tag)\n        return post\n</code></pre> <p>Why Option 1 is Better: Avoids field name conflicts and is more explicit about read vs. write operations.</p>"},{"location":"LEVEL_3B_ADVANCED.html#serializermethodfield","title":"SerializerMethodField","text":"<p>Use SerializerMethodField to add computed or custom fields.</p> <pre><code># api/serializers.py\nclass PostSerializer(serializers.ModelSerializer):\n    author_name = serializers.SerializerMethodField()\n    comment_count = serializers.SerializerMethodField()\n    is_author = serializers.SerializerMethodField()\n\n    class Meta:\n        model = Post\n        fields = ['id', 'title', 'content', 'author', 'author_name', \n                  'comment_count', 'is_author', 'created_at']\n\n    def get_author_name(self, obj):\n        return f\"{obj.author.first_name} {obj.author.last_name}\"\n\n    def get_comment_count(self, obj):\n        return obj.comments.count()\n\n    def get_is_author(self, obj):\n        request = self.context.get('request')\n        if request and request.user.is_authenticated:\n            return obj.author == request.user\n        return False\n</code></pre> <p>Important: SerializerMethodField is read-only by default.</p>"},{"location":"LEVEL_3B_ADVANCED.html#custom-serializer-fields","title":"Custom Serializer Fields","text":""},{"location":"LEVEL_3B_ADVANCED.html#creating-custom-fields","title":"Creating Custom Fields","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\n\nclass UppercaseCharField(serializers.CharField):\n    def to_representation(self, value):\n        return super().to_representation(value).upper() if value else value\n\nclass PostSerializer(serializers.ModelSerializer):\n    title = UppercaseCharField()\n    # ...\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#custom-field-with-validation","title":"Custom Field with Validation","text":"<pre><code># api/serializers.py\nclass AgeField(serializers.IntegerField):\n    def to_internal_value(self, data):\n        age = super().to_internal_value(data)\n        if age &lt; 0 or age &gt; 150:\n            raise serializers.ValidationError(\"Age must be between 0 and 150\")\n        return age\n\nclass UserProfileSerializer(serializers.ModelSerializer):\n    age = AgeField()\n    # ...\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#overriding-serializer-methods","title":"Overriding Serializer Methods","text":""},{"location":"LEVEL_3B_ADVANCED.html#override-create","title":"Override create()","text":"<pre><code># api/serializers.py\nclass PostSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Post\n        fields = ['id', 'title', 'content', 'author', 'tags']\n\n    def create(self, validated_data):\n        # Get request user\n        request = self.context.get('request')\n        if not request or not request.user.is_authenticated:\n            raise serializers.ValidationError(\"Authentication required to create posts\")\n\n        # Set author to current user\n        validated_data['author'] = request.user\n\n        # Handle tags - pop before creating instance\n        tags_data = validated_data.pop('tags', [])\n        # CRITICAL: Create instance first, then add ManyToMany relationships\n        post = Post.objects.create(**validated_data)\n\n        # Now safe to add ManyToMany relationships (instance is saved)\n        for tag_data in tags_data:\n            tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n            post.tags.add(tag)\n\n        return post\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#override-update","title":"Override update()","text":"<pre><code># api/serializers.py\nclass PostSerializer(serializers.ModelSerializer):\n    def update(self, instance, validated_data):\n        # Update simple fields\n        instance.title = validated_data.get('title', instance.title)\n        instance.content = validated_data.get('content', instance.content)\n\n        # Handle tags\n        if 'tags' in validated_data:\n            tags_data = validated_data.pop('tags')\n            # CRITICAL: Save instance before updating ManyToMany\n            instance.save()\n            instance.tags.clear()\n            for tag_data in tags_data:\n                tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n                instance.tags.add(tag)\n        else:\n            instance.save()\n\n        return instance\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#override-to_representation","title":"Override to_representation()","text":"<p>Customize how data is serialized.</p> <pre><code># api/serializers.py\nclass PostSerializer(serializers.ModelSerializer):\n    def to_representation(self, instance):\n        representation = super().to_representation(instance)\n\n        # Add custom fields\n        representation['author_full_name'] = f\"{instance.author.first_name} {instance.author.last_name}\"\n        representation['comment_count'] = instance.comments.count()\n\n        # Format dates\n        representation['created_at'] = instance.created_at.strftime('%Y-%m-%d %H:%M:%S')\n\n        return representation\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#validation","title":"Validation","text":""},{"location":"LEVEL_3B_ADVANCED.html#field-level-validation","title":"Field-Level Validation","text":"<pre><code># api/serializers.py\nclass PostSerializer(serializers.ModelSerializer):\n    title = serializers.CharField(max_length=200)\n\n    def validate_title(self, value):\n        if len(value) &lt; 10:\n            raise serializers.ValidationError(\"Title must be at least 10 characters\")\n        if 'spam' in value.lower():\n            raise serializers.ValidationError(\"Title cannot contain spam\")\n        return value\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#object-level-validation","title":"Object-Level Validation","text":"<pre><code># api/serializers.py\nclass PostSerializer(serializers.ModelSerializer):\n    def validate(self, data):\n        # Check if title and content match\n        if 'title' in data and 'content' in data:\n            if data['title'].lower() in data['content'].lower():\n                raise serializers.ValidationError({\n                    'content': 'Content should not repeat the title'\n                })\n        return data\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#custom-validators","title":"Custom Validators","text":"<pre><code># api/validators.py\nfrom rest_framework import serializers\n\ndef validate_no_profanity(value):\n    profanity_words = ['spam', 'badword']\n    if any(word in value.lower() for word in profanity_words):\n        raise serializers.ValidationError(\"Content contains inappropriate words\")\n    return value\n\n# api/serializers.py\nfrom .validators import validate_no_profanity\n\nclass PostSerializer(serializers.ModelSerializer):\n    content = serializers.CharField(validators=[validate_no_profanity])\n    # ...\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#django-signals","title":"Django Signals","text":""},{"location":"LEVEL_3B_ADVANCED.html#what-are-signals","title":"What are Signals?","text":"<p>Signals allow decoupled applications to get notified when certain actions occur.</p>"},{"location":"LEVEL_3B_ADVANCED.html#common-signals","title":"Common Signals","text":"<pre><code># api/signals.py\n# Import Django signals (pre_save, post_save, etc.)\nfrom django.db.models.signals import pre_save, post_save, pre_delete, post_delete\n# Import receiver decorator to connect signal handlers\nfrom django.dispatch import receiver\n# Import slugify to convert text to URL-friendly slugs\nfrom django.utils.text import slugify\n# Import models\nfrom .models import Post\n\n# Connect signal handler to pre_save signal for Post model\n# pre_save = Called before object is saved to database\n@receiver(pre_save, sender=Post)\ndef pre_save_post(sender, instance, **kwargs):\n    \"\"\"Called before Post is saved\"\"\"\n    # Auto-generate slug from title if slug is not provided\n    if not instance.slug:\n        # slugify() converts \"Hello World\" to \"hello-world\" (URL-friendly)\n        instance.slug = slugify(instance.title)\n\n# Connect signal handler to post_save signal for Post model\n# post_save = Called after object is saved to database\n@receiver(post_save, sender=Post)\ndef post_save_post(sender, instance, created, **kwargs):\n    \"\"\"\n    Called after Post is saved.\n    created = True if this is a new object, False if it's an update\n    \"\"\"\n    if created:\n        # This is a new post (not an update)\n        print(f\"New post created: {instance.title}\")\n        # Common use cases:\n        # - Send notification email\n        # - Update search index\n        # - Update cache\n        # - Trigger background tasks\n\n# Connect signal handler to pre_delete signal for Post model\n# pre_delete = Called before object is deleted from database\n@receiver(pre_delete, sender=Post)\ndef pre_delete_post(sender, instance, **kwargs):\n    \"\"\"\n    Called before Post is deleted.\n    Use this for cleanup, backups, logging, etc.\n    \"\"\"\n    # Common use cases:\n    # - Backup data before deletion\n    # - Log deletion for audit trail\n    # - Clean up related files\n    # - Send notification\n    print(f\"Post being deleted: {instance.title}\")\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#register-signals","title":"Register Signals","text":"<pre><code># api/apps.py\n# Import AppConfig to configure the app\nfrom django.apps import AppConfig\n\nclass ApiConfig(AppConfig):\n    # Use BigAutoField as default primary key (Django 3.2+)\n    default_auto_field = 'django.db.models.BigAutoField'\n    # App name\n    name = 'api'\n\n    # ready() is called when Django starts\n    # This is where you should import signals\n    def ready(self):\n        # Import signals module to register signal handlers\n        # This ensures signals are connected when Django starts\n        import api.signals  # Import signals\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#background-tasks","title":"Background Tasks","text":""},{"location":"LEVEL_3B_ADVANCED.html#option-1-celery-production","title":"Option 1: Celery (Production)","text":"<pre><code># Install\npip install celery redis\n</code></pre> <pre><code># core/celery.py\nimport os\nfrom celery import Celery\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'core.settings')\napp = Celery('core')\napp.config_from_object('django.conf:settings', namespace='CELERY')\napp.autodiscover_tasks()\n</code></pre> <pre><code># core/__init__.py\nfrom .celery import app as celery_app\n__all__ = ('celery_app',)\n</code></pre> <pre><code># core/settings.py\nCELERY_BROKER_URL = 'redis://localhost:6379/0'\nCELERY_RESULT_BACKEND = 'redis://localhost:6379/0'\n</code></pre> <pre><code># api/tasks.py\nfrom celery import shared_task\nfrom django.core.mail import send_mail\n\n@shared_task\ndef send_post_notification(post_id):\n    post = Post.objects.get(id=post_id)\n    send_mail(\n        subject=f'New Post: {post.title}',\n        message=post.content,\n        from_email='noreply@example.com',\n        recipient_list=['admin@example.com'],\n    )\n</code></pre> <pre><code># api/views.py\nfrom .tasks import send_post_notification\n\nclass PostViewSet(viewsets.ModelViewSet):\n    def perform_create(self, serializer):\n        post = serializer.save()\n        send_post_notification.delay(post.id)  # Async task\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#option-2-django-q-simpler-alternative","title":"Option 2: Django-Q (Simpler Alternative)","text":"<pre><code>pip install django-q2\n</code></pre> <pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'django_q',\n]\n\nQ_CLUSTER = {\n    'name': 'DjangORM',\n    'workers': 4,\n    'timeout': 90,\n    'retry': 120,\n    'queue_limit': 50,\n    'bulk': 10,\n    'orm': 'default'\n}\n</code></pre> <pre><code># api/views.py\nfrom django_q.tasks import async_task\n\ndef send_notification(post_id):\n    # Your notification logic\n    pass\n\nclass PostViewSet(viewsets.ModelViewSet):\n    def perform_create(self, serializer):\n        post = serializer.save()\n        async_task(send_notification, post.id)  # Async task\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#step-by-step-blog-api","title":"Step-by-Step: Blog API","text":"<p>Let's build a complete Blog API with relationships.</p>"},{"location":"LEVEL_3B_ADVANCED.html#step-1-create-models","title":"Step 1: Create Models","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    title = models.CharField(max_length=200)\n    content = models.TextField()\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    tags = models.ManyToManyField(Tag, related_name='posts', blank=True)\n    published = models.BooleanField(default=False)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        ordering = ['-created_at']\n\nclass Comment(models.Model):\n    post = models.ForeignKey(Post, on_delete=models.CASCADE, related_name='comments')\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='comments')\n    content = models.TextField()\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return f\"Comment by {self.author.username} on {self.post.title}\"\n\n    class Meta:\n        ordering = ['created_at']\n</code></pre> <p>Create migrations:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#step-2-create-serializers","title":"Step 2: Create Serializers","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Post, Comment, Tag\nfrom django.contrib.auth.models import User\n\nclass AuthorSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = User\n        fields = ['id', 'username', 'first_name', 'last_name']\n\nclass TagSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Tag\n        fields = ['id', 'name']\n\nclass CommentSerializer(serializers.ModelSerializer):\n    author = AuthorSerializer(read_only=True)\n    post_id = serializers.IntegerField(write_only=True)\n\n    class Meta:\n        model = Comment\n        fields = ['id', 'content', 'post_id', 'author', 'created_at']\n        read_only_fields = ['id', 'author', 'created_at']\n\nclass PostSerializer(serializers.ModelSerializer):\n    author = AuthorSerializer(read_only=True)\n    # Custom tags field - this overrides the model's ManyToMany 'tags' field\n    # DRF will use this instead of the model field, avoiding the _meta conflict\n    tags = TagSerializer(many=True, required=False)\n    comments = CommentSerializer(many=True, read_only=True)\n    comment_count = serializers.SerializerMethodField()\n\n    class Meta:\n        model = Post\n        fields = ['id', 'title', 'content', 'author', 'tags', 'comments', \n                  'comment_count', 'published', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'author', 'created_at', 'updated_at']\n\n    def get_comment_count(self, obj):\n        return obj.comments.count()\n\n    def create(self, validated_data):\n        tags_data = validated_data.pop('tags', [])\n        request = self.context.get('request')\n        if not request or not request.user.is_authenticated:\n            raise serializers.ValidationError(\"Authentication required to create posts\")\n        # Create post first (without tags)\n        post = Post.objects.create(author=request.user, **validated_data)\n\n        # Handle tags after post is saved (ManyToMany requires saved instance)\n        # tags_data is a list of dicts from TagSerializer (e.g., [{'name': 'django'}, {'name': 'python'}])\n        for tag_data in tags_data:\n            tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n            post.tags.add(tag)\n\n        return post\n\n    def update(self, instance, validated_data):\n        tags_data = validated_data.pop('tags', None)\n\n        instance.title = validated_data.get('title', instance.title)\n        instance.content = validated_data.get('content', instance.content)\n        instance.published = validated_data.get('published', instance.published)\n        instance.save()\n\n        if tags_data is not None:\n            instance.tags.clear()\n            for tag_data in tags_data:\n                tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n                instance.tags.add(tag)\n\n        return instance\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#step-3-create-viewsets","title":"Step 3: Create ViewSets","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets, filters\nfrom rest_framework.permissions import IsAuthenticatedOrReadOnly\nfrom django_filters.rest_framework import DjangoFilterBackend\nfrom django.db.models import Count\nfrom .models import Post, Comment, Tag\nfrom .serializers import PostSerializer, CommentSerializer, TagSerializer\n\nclass PostViewSet(viewsets.ModelViewSet):\n    serializer_class = PostSerializer\n    permission_classes = [IsAuthenticatedOrReadOnly]\n    filter_backends = [DjangoFilterBackend, filters.SearchFilter, filters.OrderingFilter]\n    filterset_fields = ['published', 'author']\n    search_fields = ['title', 'content']\n    ordering_fields = ['created_at', 'title']\n    ordering = ['-created_at']\n\n    def get_queryset(self):\n        return Post.objects.select_related('author').prefetch_related(\n            'tags', 'comments', 'comments__author'\n        ).annotate(comment_count=Count('comments')).all()\n\nclass CommentViewSet(viewsets.ModelViewSet):\n    serializer_class = CommentSerializer\n    permission_classes = [IsAuthenticatedOrReadOnly]\n\n    def get_queryset(self):\n        post_id = self.request.query_params.get('post', None)\n        queryset = Comment.objects.select_related('author', 'post').all()\n        if post_id:\n            queryset = queryset.filter(post_id=post_id)\n        return queryset\n\n    def perform_create(self, serializer):\n        post_id = serializer.validated_data.get('post_id')\n        serializer.save(author=self.request.user, post_id=post_id)\n\nclass TagViewSet(viewsets.ModelViewSet):\n    queryset = Tag.objects.all()\n    serializer_class = TagSerializer\n    permission_classes = [IsAuthenticatedOrReadOnly]\n    filter_backends = [filters.SearchFilter]\n    search_fields = ['name']\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#step-4-configure-urls","title":"Step 4: Configure URLs","text":"<pre><code># api/urls.py\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\nrouter = DefaultRouter()\nrouter.register(r'posts', views.PostViewSet, basename='post')\nrouter.register(r'comments', views.CommentViewSet, basename='comment')\nrouter.register(r'tags', views.TagViewSet, basename='tag')\n\nurlpatterns = [\n    path('', include(router.urls)),\n]\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#step-5-test-blog-api","title":"Step 5: Test Blog API","text":"<pre><code># Create post with tags\ncurl -X POST http://localhost:8000/api/posts/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"title\": \"My First Post\",\n    \"content\": \"This is the content\",\n    \"tags\": [{\"name\": \"django\"}, {\"name\": \"python\"}],\n    \"published\": true\n  }'\n\n# Get post with nested data\ncurl http://localhost:8000/api/posts/1/\n\n# Create comment\ncurl -X POST http://localhost:8000/api/comments/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"post_id\": 1,\n    \"content\": \"Great post!\"\n  }'\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#step-by-step-enhanced-task-api","title":"Step-by-Step: Enhanced Task API","text":"<p>Add relationships to your Task model.</p>"},{"location":"LEVEL_3B_ADVANCED.html#step-1-update-task-model","title":"Step 1: Update Task Model","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Category(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    color = models.CharField(max_length=7, default='#000000')  # Hex color\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return self.name\n\nclass Task(models.Model):\n    PRIORITY_CHOICES = [\n        ('low', 'Low'),\n        ('medium', 'Medium'),\n        ('high', 'High'),\n    ]\n\n    title = models.CharField(max_length=100)\n    desc = models.TextField(null=True, blank=True)\n    completed = models.BooleanField(default=False)\n    priority = models.CharField(max_length=10, choices=PRIORITY_CHOICES, default='medium')\n    due_date = models.DateTimeField(null=True, blank=True)\n    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='tasks')\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True, related_name='tasks')\n    assigned_to = models.ManyToManyField(User, related_name='assigned_tasks', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#step-2-create-serializers_1","title":"Step 2: Create Serializers","text":"<pre><code># api/serializers.py\nclass CategorySerializer(serializers.ModelSerializer):\n    task_count = serializers.SerializerMethodField()\n\n    class Meta:\n        model = Category\n        fields = ['id', 'name', 'color', 'task_count', 'created_at']\n        read_only_fields = ['id', 'created_at']\n\n    def get_task_count(self, obj):\n        return obj.tasks.count()\n\nclass UserSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = User\n        fields = ['id', 'username', 'email']\n\nclass TaskSerializer(serializers.ModelSerializer):\n    owner = UserSerializer(read_only=True)\n    category = CategorySerializer(read_only=True)\n    category_id = serializers.IntegerField(write_only=True, required=False, allow_null=True)\n    assigned_to = UserSerializer(many=True, read_only=True)\n    assigned_to_ids = serializers.ListField(\n        child=serializers.IntegerField(),\n        write_only=True,\n        required=False\n    )\n    is_overdue = serializers.SerializerMethodField()\n\n    class Meta:\n        model = Task\n        fields = ['id', 'title', 'desc', 'completed', 'priority', 'due_date',\n                  'owner', 'category', 'category_id', 'assigned_to', 'assigned_to_ids',\n                  'is_overdue', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'owner', 'created_at', 'updated_at']\n\n    def get_is_overdue(self, obj):\n        if obj.due_date and not obj.completed:\n            from django.utils import timezone\n            return obj.due_date &lt; timezone.now()\n        return False\n\n    def create(self, validated_data):\n        assigned_to_ids = validated_data.pop('assigned_to_ids', [])\n        category_id = validated_data.pop('category_id', None)\n        request = self.context.get('request')\n        if not request or not request.user.is_authenticated:\n            raise serializers.ValidationError(\"Authentication required to create tasks\")\n        # Create task first (without ManyToMany relationships)\n        task = Task.objects.create(owner=request.user, **validated_data)\n\n        # Set ForeignKey after creation if needed\n        if category_id is not None:\n            task.category_id = category_id\n            task.save()\n\n        # Set ManyToMany relationships after instance is saved\n        if assigned_to_ids:\n            task.assigned_to.set(assigned_to_ids)\n\n        return task\n\n    def update(self, instance, validated_data):\n        assigned_to_ids = validated_data.pop('assigned_to_ids', None)\n        category_id = validated_data.pop('category_id', None)\n\n        # Update simple fields\n        instance.title = validated_data.get('title', instance.title)\n        instance.desc = validated_data.get('desc', instance.desc)\n        instance.completed = validated_data.get('completed', instance.completed)\n        instance.priority = validated_data.get('priority', instance.priority)\n        instance.due_date = validated_data.get('due_date', instance.due_date)\n\n        # Update ForeignKey if provided\n        if category_id is not None:\n            instance.category_id = category_id\n\n        # Save instance before updating ManyToMany\n        instance.save()\n\n        # Update ManyToMany relationships after save\n        if assigned_to_ids is not None:\n            instance.assigned_to.set(assigned_to_ids)\n\n        return instance\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#step-3-update-viewset","title":"Step 3: Update ViewSet","text":"<pre><code># api/views.py\nclass TaskViewSet(viewsets.ModelViewSet):\n    serializer_class = TaskSerializer\n    permission_classes = [IsAuthenticated]\n    filter_backends = [DjangoFilterBackend, filters.SearchFilter, filters.OrderingFilter]\n    filterset_fields = ['completed', 'priority', 'category']\n    search_fields = ['title', 'desc']\n    ordering_fields = ['title', 'priority', 'due_date', 'created_at']\n    ordering = ['-created_at']\n\n    def get_queryset(self):\n        queryset = Task.objects.select_related('owner', 'category').prefetch_related(\n            'assigned_to'\n        ).filter(owner=self.request.user)\n\n        # Filter by overdue\n        if self.request.query_params.get('overdue') == 'true':\n            from django.utils import timezone\n            queryset = queryset.filter(due_date__lt=timezone.now(), completed=False)\n\n        return queryset\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#soft-delete","title":"Soft Delete","text":""},{"location":"LEVEL_3B_ADVANCED.html#implement-soft-delete","title":"Implement Soft Delete","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.utils import timezone\n\nclass SoftDeleteManager(models.Manager):\n    def get_queryset(self):\n        return super().get_queryset().filter(deleted_at__isnull=True)\n\nclass Task(models.Model):\n    # ... fields ...\n    deleted_at = models.DateTimeField(null=True, blank=True)\n\n    objects = SoftDeleteManager()\n    all_objects = models.Manager()  # Access deleted items\n\n    def delete(self, using=None, keep_parents=False):\n        self.deleted_at = timezone.now()\n        self.save()\n\n    def restore(self):\n        self.deleted_at = None\n        self.save()\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#exercises","title":"Exercises","text":""},{"location":"LEVEL_3B_ADVANCED.html#exercise-1-nested-serializers","title":"Exercise 1: Nested Serializers","text":"<ol> <li>Create Post and Comment models with ForeignKey relationship</li> <li>Create nested CommentSerializer inside PostSerializer</li> <li>Allow creating comments through nested serializer</li> <li>Test nested serialization with cURL</li> </ol>"},{"location":"LEVEL_3B_ADVANCED.html#exercise-2-custom-validation","title":"Exercise 2: Custom Validation","text":"<ol> <li>Create custom validation method in TaskSerializer</li> <li>Validate that due_date is in the future</li> <li>Validate that priority is one of allowed values</li> <li>Test validation with invalid data</li> </ol>"},{"location":"LEVEL_3B_ADVANCED.html#exercise-3-django-signals","title":"Exercise 3: Django Signals","text":"<ol> <li>Create pre_save signal to auto-generate slug from title</li> <li>Create post_save signal to send email notification</li> <li>Register signals in apps.py</li> <li>Test signals by creating/updating posts</li> </ol>"},{"location":"LEVEL_3B_ADVANCED.html#exercise-4-background-tasks","title":"Exercise 4: Background Tasks","text":"<ol> <li>Install and configure Celery</li> <li>Create background task to send email</li> <li>Trigger task from post_save signal</li> <li>Monitor task execution</li> </ol>"},{"location":"LEVEL_3B_ADVANCED.html#common-errors-and-solutions","title":"Common Errors and Solutions","text":""},{"location":"LEVEL_3B_ADVANCED.html#error-1-nameerror-name-slugify-is-not-defined","title":"Error 1: <code>NameError: name 'slugify' is not defined</code>","text":"<p>Error Message:</p> <pre><code>NameError: name 'slugify' is not defined\n</code></pre> <p>Why This Happens: - Forgot to import slugify - Using slugify in signals without import</p> <p>How to Fix:</p> <pre><code># WRONG - Missing import\nfrom django.db.models.signals import pre_save\nfrom django.dispatch import receiver\n\n@receiver(pre_save, sender=Post)\ndef pre_save_post(sender, instance, **kwargs):\n    instance.slug = slugify(instance.title)  # \u274c slugify not imported\n\n# CORRECT - Import slugify\nfrom django.db.models.signals import pre_save\nfrom django.dispatch import receiver\nfrom django.utils.text import slugify  # \u2705 Import slugify\n\n@receiver(pre_save, sender=Post)\ndef pre_save_post(sender, instance, **kwargs):\n    instance.slug = slugify(instance.title)  # \u2705 Now works\n</code></pre> <p>Prevention: Always import <code>slugify</code> from <code>django.utils.text</code> when using it.</p>"},{"location":"LEVEL_3B_ADVANCED.html#error-2-rest_frameworkexceptionsvalidationerror-invalid-data","title":"Error 2: <code>rest_framework.exceptions.ValidationError: Invalid data</code>","text":"<p>Error Message:</p> <pre><code>rest_framework.exceptions.ValidationError: Invalid data\n</code></pre> <p>Why This Happens: - Custom validation failing - Validation method raising ValidationError - Invalid data format</p> <p>How to Fix:</p> <pre><code># Check validation method\ndef validate_due_date(self, value):\n    if value &lt; timezone.now().date():\n        raise serializers.ValidationError(\"Due date must be in the future\")\n    return value\n\n# Test with valid data\n# Test with invalid data to see specific error message\n</code></pre> <p>Prevention:  - Provide clear error messages in validation - Test validation with both valid and invalid data - Check serializer.is_valid() before saving</p>"},{"location":"LEVEL_3B_ADVANCED.html#error-3-signals-not-firing","title":"Error 3: Signals not firing","text":"<p>Problem: Signal handlers not being called.</p> <p>Why This Happens: - Signals not imported in apps.py - ready() method not calling import - Signal handler not registered</p> <p>How to Fix:</p> <pre><code># api/apps.py\nclass ApiConfig(AppConfig):\n    def ready(self):\n        import api.signals  # \u2705 Must import signals here\n</code></pre> <p>Prevention: Always import signals in <code>apps.py</code> <code>ready()</code> method.</p>"},{"location":"LEVEL_3B_ADVANCED.html#add-ons","title":"Add-ons","text":""},{"location":"LEVEL_3B_ADVANCED.html#add-on-1-custom-serializer-field","title":"Add-on 1: Custom Serializer Field","text":"<p>Create a custom serializer field for special formatting:</p> <pre><code># api/serializers.py\nfrom rest_framework import serializers\n\nclass CustomDateField(serializers.Field):\n    def to_representation(self, value):\n        return value.strftime('%Y-%m-%d')\n\n    def to_internal_value(self, data):\n        return datetime.strptime(data, '%Y-%m-%d')\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#add-on-2-signal-decorators","title":"Add-on 2: Signal Decorators","text":"<p>Use signal decorators for cleaner code:</p> <pre><code># api/signals.py\nfrom django.db.models.signals import post_save\nfrom django.dispatch import receiver\nfrom .models import Post\n\n@receiver(post_save, sender=Post)\ndef handle_post_save(sender, instance, created, **kwargs):\n    if created:\n        # Handle new post\n        pass\n</code></pre>"},{"location":"LEVEL_3B_ADVANCED.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 3B. You now know:</p> <ul> <li>\u2705 Nested serializers for related data</li> <li>\u2705 Custom serializer fields and methods</li> <li>\u2705 Advanced validation</li> <li>\u2705 Django signals for decoupled logic</li> <li>\u2705 Background tasks with Celery</li> <li>\u2705 Soft delete patterns</li> </ul> <p>Ready for Level 4? Continue to Level 4: Scalable to learn about caching, versioning, API documentation, and building scalable APIs!</p> <p>Resources: - DRF Serializers - Django Signals - Celery Documentation</p>"},{"location":"LEVEL_4_SCALABLE.html","title":"Level 4: Scalable API Design - Caching, Versioning &amp; Advanced Features","text":""},{"location":"LEVEL_4_SCALABLE.html#goal","title":"Goal","text":"<p>Learn to build APIs that scale and integrate with external services. Master caching, API versioning, file uploads, async views, and API documentation. By the end of this level, you'll be able to build production-ready, scalable APIs.</p>"},{"location":"LEVEL_4_SCALABLE.html#note-on-examples","title":"Note on Examples","text":"<p>This guide primarily uses the Task API as the main example throughout, building on the Task API from Levels 2 and 3:</p> <ul> <li>Task API: Used as the primary example because:</li> <li>It's familiar from previous levels (Levels 2 and 3)</li> <li>Demonstrates scalable features well (caching, versioning, file uploads)</li> <li>Shows real-world production patterns</li> <li> <p>Allows incremental learning (building on what you know)</p> </li> <li> <p>Other examples: Some sections may reference Book API or other models when demonstrating specific patterns that are better illustrated with different examples.</p> </li> </ul> <p>Why Task API? - Continuity: Builds on your existing knowledge from Levels 2-3 - Practical: Task management is a common real-world use case - Scalable: Tasks demonstrate caching, versioning, and file uploads naturally - Progressive: You can see how a simple API evolves into a production-ready system</p> <p>All concepts apply to any API (Book, Product, Post, etc.). The patterns are universal.</p>"},{"location":"LEVEL_4_SCALABLE.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Custom Middleware</li> <li>Caching Strategies</li> <li>Rate Limiting</li> <li>API Versioning</li> <li>Pagination Strategies</li> <li>File Uploads</li> <li>Third-Party API Integration</li> <li>Async Views</li> <li>API Documentation</li> <li>Testing</li> <li>Step-by-Step: Task Management API</li> <li>Performance Monitoring</li> <li>Exercises</li> <li>Add-ons</li> </ol>"},{"location":"LEVEL_4_SCALABLE.html#custom-middleware","title":"Custom Middleware","text":""},{"location":"LEVEL_4_SCALABLE.html#what-is-middleware","title":"What is Middleware?","text":"<p>Middleware is a framework of hooks into Django's request/response processing. It's a lightweight plugin system for globally altering input or output.</p>"},{"location":"LEVEL_4_SCALABLE.html#creating-custom-middleware","title":"Creating Custom Middleware","text":"<pre><code># api/middleware.py\nimport time\nfrom django.utils.deprecation import MiddlewareMixin\n\nclass RequestLoggingMiddleware(MiddlewareMixin):\n    \"\"\"Log all API requests\"\"\"\n\n    def process_request(self, request):\n        request.start_time = time.time()\n        return None\n\n    def process_response(self, request, response):\n        if hasattr(request, 'start_time'):\n            duration = time.time() - request.start_time\n            print(f\"{request.method} {request.path} - {response.status_code} - {duration:.2f}s\")\n        return response\n\nclass CustomHeaderMiddleware(MiddlewareMixin):\n    \"\"\"Add custom headers to responses\"\"\"\n\n    def process_response(self, request, response):\n        response['X-API-Version'] = '1.0'\n        response['X-Powered-By'] = 'Django REST Framework'\n        return response\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#register-middleware","title":"Register Middleware","text":"<pre><code># core/settings.py\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n    'api.middleware.RequestLoggingMiddleware',  # Add custom middleware\n    'api.middleware.CustomHeaderMiddleware',\n]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#caching-strategies","title":"Caching Strategies","text":""},{"location":"LEVEL_4_SCALABLE.html#django-cache-framework","title":"Django Cache Framework","text":"<p>Django provides a robust caching framework.</p>"},{"location":"LEVEL_4_SCALABLE.html#redis-setup","title":"Redis Setup","text":"<pre><code># Install Redis (Linux)\nsudo apt install redis-server\n\n# Install Redis (macOS)\nbrew install redis\n\n# Start Redis\nredis-server\n\n# Install Python Redis client\npip install django-redis\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#configure-redis-cache","title":"Configure Redis Cache","text":"<pre><code># core/settings.py\nCACHES = {\n    'default': {\n        'BACKEND': 'django_redis.cache.RedisCache',\n        'LOCATION': 'redis://127.0.0.1:6379/1',\n        'OPTIONS': {\n            'CLIENT_CLASS': 'django_redis.client.DefaultClient',\n        },\n        'KEY_PREFIX': 'rest_api',\n        'TIMEOUT': 300,  # 5 minutes default\n    }\n}\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#per-view-caching","title":"Per-View Caching","text":"<pre><code># api/views.py\nfrom django.views.decorators.cache import cache_page\nfrom django.utils.decorators import method_decorator\nfrom rest_framework import viewsets\n\n@method_decorator(cache_page(60 * 15), name='dispatch')  # Cache for 15 minutes\nclass BookViewSet(viewsets.ModelViewSet):\n    # ...\n    pass\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#template-fragment-caching","title":"Template Fragment Caching","text":"<pre><code># In templates\n{% load cache %}\n{% cache 500 sidebar %}\n    &lt;!-- Sidebar content --&gt;\n{% endcache %}\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#low-level-cache-api","title":"Low-Level Cache API","text":"<pre><code># api/views.py\nfrom django.core.cache import cache\n\nclass BookViewSet(viewsets.ModelViewSet):\n    def list(self, request, *args, **kwargs):\n        cache_key = 'books_list'\n        cached_data = cache.get(cache_key)\n\n        if cached_data is None:\n            queryset = self.filter_queryset(self.get_queryset())\n            serializer = self.get_serializer(queryset, many=True)\n            cached_data = serializer.data\n            cache.set(cache_key, cached_data, 300)  # Cache for 5 minutes\n\n        return Response(cached_data)\n\n    def create(self, request, *args, **kwargs):\n        response = super().create(request, *args, **kwargs)\n        cache.delete('books_list')  # Invalidate cache\n        return response\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#cache-decorators","title":"Cache Decorators","text":"<pre><code># api/views.py\nfrom django.views.decorators.cache import cache_page\nfrom django.views.decorators.vary import vary_on_headers\n\n@cache_page(60 * 15)\n@vary_on_headers('Authorization')\ndef my_view(request):\n    # ...\n    pass\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#rate-limiting","title":"Rate Limiting","text":""},{"location":"LEVEL_4_SCALABLE.html#drf-throttling","title":"DRF Throttling","text":"<pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'rest_framework.throttling.AnonRateThrottle',\n        'rest_framework.throttling.UserRateThrottle'\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'anon': '100/hour',\n        'user': '1000/hour',\n        'create': '10/hour',  # Custom rate\n    }\n}\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#custom-throttle-classes","title":"Custom Throttle Classes","text":"<pre><code># api/throttles.py\nfrom rest_framework.throttling import UserRateThrottle\n\nclass CreateThrottle(UserRateThrottle):\n    rate = '10/hour'\n\nclass BurstThrottle(UserRateThrottle):\n    rate = '100/hour'\n\nclass SustainedThrottle(UserRateThrottle):\n    rate = '1000/day'\n</code></pre> <pre><code># api/views.py\nfrom .throttles import CreateThrottle, BurstThrottle\n\nclass BookViewSet(viewsets.ModelViewSet):\n    throttle_classes = [BurstThrottle]\n    throttle_scope = 'create'\n\n    def get_throttles(self):\n        if self.action == 'create':\n            return [CreateThrottle()]\n        return [BurstThrottle()]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#scoped-rate-throttling","title":"Scoped Rate Throttling","text":"<pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'rest_framework.throttling.ScopedRateThrottle',\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'books': '100/hour',\n        'tasks': '200/hour',\n    }\n}\n</code></pre> <pre><code># api/views.py\nclass BookViewSet(viewsets.ModelViewSet):\n    throttle_scope = 'books'\n    # ...\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#api-versioning","title":"API Versioning","text":""},{"location":"LEVEL_4_SCALABLE.html#url-versioning","title":"URL Versioning","text":"<pre><code># core/urls.py\nfrom django.urls import path, include\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('api/v1/', include('api.v1.urls')),\n    path('api/v2/', include('api.v2.urls')),\n]\n</code></pre> <pre><code># api/v1/urls.py\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\nrouter = DefaultRouter()\nrouter.register(r'books', views.BookViewSet, basename='book')\n\nurlpatterns = [\n    path('', include(router.urls)),\n]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#namespace-versioning","title":"Namespace Versioning","text":"<pre><code># core/urls.py\nurlpatterns = [\n    path('api/v1/', include(('api.urls', 'api'), namespace='v1')),\n    path('api/v2/', include(('api.urls', 'api'), namespace='v2')),\n]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#header-versioning","title":"Header Versioning","text":"<pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_VERSIONING_CLASS': 'rest_framework.versioning.AcceptHeaderVersioning',\n    'DEFAULT_VERSION': '1.0',\n    'ALLOWED_VERSIONS': ['1.0', '2.0'],\n    'VERSION_PARAM': 'version',\n}\n</code></pre> <pre><code># api/views.py\nfrom rest_framework.versioning import AcceptHeaderVersioning\n\nclass BookViewSet(viewsets.ModelViewSet):\n    versioning_class = AcceptHeaderVersioning\n    # ...\n</code></pre> <p>Usage:</p> <pre><code>curl -H \"Accept: application/json; version=2.0\" \\\n  http://localhost:8000/api/books/\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#query-parameter-versioning","title":"Query Parameter Versioning","text":"<pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_VERSIONING_CLASS': 'rest_framework.versioning.QueryParameterVersioning',\n    'DEFAULT_VERSION': '1.0',\n    'ALLOWED_VERSIONS': ['1.0', '2.0'],\n}\n</code></pre> <p>Usage:</p> <pre><code>curl http://localhost:8000/api/books/?version=2.0\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#versioning-in-views","title":"Versioning in Views","text":"<pre><code># api/views.py\nclass BookViewSet(viewsets.ModelViewSet):\n    def get_serializer_class(self):\n        if self.request.version == '2.0':\n            return BookV2Serializer\n        return BookSerializer\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#pagination-strategies","title":"Pagination Strategies","text":""},{"location":"LEVEL_4_SCALABLE.html#pagenumberpagination","title":"PageNumberPagination","text":"<pre><code># api/pagination.py\nfrom rest_framework.pagination import PageNumberPagination\n\nclass StandardResultsSetPagination(PageNumberPagination):\n    page_size = 20\n    page_size_query_param = 'page_size'\n    max_page_size = 100\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#limitoffsetpagination","title":"LimitOffsetPagination","text":"<pre><code># api/pagination.py\nfrom rest_framework.pagination import LimitOffsetPagination\n\nclass LargeResultsSetPagination(LimitOffsetPagination):\n    default_limit = 50\n    limit_query_param = 'limit'\n    offset_query_param = 'offset'\n    max_limit = 1000\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#cursorpagination","title":"CursorPagination","text":"<pre><code># api/pagination.py\nfrom rest_framework.pagination import CursorPagination\n\nclass TaskCursorPagination(CursorPagination):\n    page_size = 25\n    ordering = '-created_at'\n    cursor_query_param = 'cursor'\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#custom-pagination","title":"Custom Pagination","text":"<pre><code># api/pagination.py\nfrom rest_framework.pagination import PageNumberPagination\nfrom rest_framework.response import Response\n\nclass CustomPagination(PageNumberPagination):\n    page_size = 20\n\n    def get_paginated_response(self, data):\n        return Response({\n            'links': {\n                'next': self.get_next_link(),\n                'previous': self.get_previous_link()\n            },\n            'count': self.page.paginator.count,\n            'total_pages': self.page.paginator.num_pages,\n            'current_page': self.page.number,\n            'results': data\n        })\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#file-uploads","title":"File Uploads","text":""},{"location":"LEVEL_4_SCALABLE.html#basic-file-upload","title":"Basic File Upload","text":"<pre><code># api/models.py\nfrom django.db import models\n\nclass TaskAttachment(models.Model):\n    task = models.ForeignKey(Task, on_delete=models.CASCADE, related_name='attachments')\n    file = models.FileField(upload_to='attachments/')\n    name = models.CharField(max_length=200)\n    uploaded_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return self.name\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#configure-media-settings","title":"Configure Media Settings","text":"<pre><code># core/settings.py\nMEDIA_URL = '/media/'\nMEDIA_ROOT = BASE_DIR / 'media'\n</code></pre> <pre><code># core/urls.py\nfrom django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = [\n    # ... your URLs ...\n]\n\nif settings.DEBUG:\n    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#file-upload-serializer","title":"File Upload Serializer","text":"<pre><code># api/serializers.py\nclass TaskAttachmentSerializer(serializers.ModelSerializer):\n    file_size = serializers.SerializerMethodField()\n    file_type = serializers.SerializerMethodField()\n\n    class Meta:\n        model = TaskAttachment\n        fields = ['id', 'task', 'file', 'name', 'file_size', 'file_type', 'uploaded_at']\n        read_only_fields = ['id', 'uploaded_at']\n\n    def get_file_size(self, obj):\n        if obj.file:\n            return obj.file.size\n        return None\n\n    def get_file_type(self, obj):\n        if obj.file:\n            return obj.file.name.split('.')[-1].upper()\n        return None\n\n    def validate_file(self, value):\n        max_size = 10 * 1024 * 1024  # 10MB\n        if value.size &gt; max_size:\n            raise serializers.ValidationError(\"File size cannot exceed 10MB\")\n\n        allowed_types = ['pdf', 'doc', 'docx', 'jpg', 'jpeg', 'png']\n        file_ext = value.name.split('.')[-1].lower()\n        if file_ext not in allowed_types:\n            raise serializers.ValidationError(f\"File type not allowed. Allowed: {allowed_types}\")\n\n        return value\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#file-upload-view","title":"File Upload View","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets, status\nfrom rest_framework.decorators import action\nfrom rest_framework.response import Response\nfrom .models import TaskAttachment\nfrom .serializers import TaskAttachmentSerializer\n\nclass TaskAttachmentViewSet(viewsets.ModelViewSet):\n    queryset = TaskAttachment.objects.all()\n    serializer_class = TaskAttachmentSerializer\n    permission_classes = [IsAuthenticated]\n\n    @action(detail=False, methods=['post'], url_path='upload')\n    def upload_file(self, request):\n        serializer = self.get_serializer(data=request.data)\n        serializer.is_valid(raise_exception=True)\n        serializer.save()\n        return Response(serializer.data, status=status.HTTP_201_CREATED)\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#image-upload-with-pillow","title":"Image Upload with Pillow","text":"<pre><code>pip install Pillow\n</code></pre> <pre><code># api/models.py\nfrom django.db import models\n\nclass Task(models.Model):\n    # ... fields ...\n    image = models.ImageField(upload_to='task_images/', blank=True, null=True)\n</code></pre> <pre><code># api/serializers.py\nclass TaskSerializer(serializers.ModelSerializer):\n    # ... fields ...\n\n    def validate_image(self, value):\n        if value:\n            if value.size &gt; 5 * 1024 * 1024:  # 5MB\n                raise serializers.ValidationError(\"Image size cannot exceed 5MB\")\n            # Validate image format\n            from PIL import Image\n            try:\n                img = Image.open(value)\n                img.verify()\n            except Exception:\n                raise serializers.ValidationError(\"Invalid image format\")\n        return value\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#third-party-api-integration","title":"Third-Party API Integration","text":""},{"location":"LEVEL_4_SCALABLE.html#using-requests-library","title":"Using requests Library","text":"<pre><code>pip install requests\n</code></pre> <pre><code># api/services.py\nimport requests\nfrom django.conf import settings\n\nclass ExternalAPIService:\n    def __init__(self):\n        self.base_url = 'https://api.example.com'\n        self.api_key = settings.EXTERNAL_API_KEY\n\n    def get_data(self, endpoint):\n        headers = {\n            'Authorization': f'Bearer {self.api_key}',\n            'Content-Type': 'application/json'\n        }\n        response = requests.get(\n            f'{self.base_url}/{endpoint}',\n            headers=headers,\n            timeout=10\n        )\n        response.raise_for_status()\n        return response.json()\n\n    def post_data(self, endpoint, data):\n        headers = {\n            'Authorization': f'Bearer {self.api_key}',\n            'Content-Type': 'application/json'\n        }\n        response = requests.post(\n            f'{self.base_url}/{endpoint}',\n            headers=headers,\n            json=data,\n            timeout=10\n        )\n        response.raise_for_status()\n        return response.json()\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#using-in-views","title":"Using in Views","text":"<pre><code># api/views.py\nfrom .services import ExternalAPIService\nfrom rest_framework.decorators import action\nfrom rest_framework.response import Response\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    # ... existing code ...\n\n    @action(detail=True, methods=['post'])\n    def sync_external(self, request, pk=None):\n        task = self.get_object()\n        service = ExternalAPIService()\n\n        try:\n            data = service.post_data('tasks', {\n                'title': task.title,\n                'description': task.desc,\n            })\n            return Response({'status': 'synced', 'external_id': data['id']})\n        except requests.exceptions.RequestException as e:\n            return Response({'error': str(e)}, status=status.HTTP_500_INTERNAL_SERVER_ERROR)\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#error-handling","title":"Error Handling","text":"<pre><code># api/services.py\nimport requests\nimport logging\n\nlogger = logging.getLogger(__name__)\n\nclass ExternalAPIService:\n    def get_data(self, endpoint):\n        try:\n            response = requests.get(f'{self.base_url}/{endpoint}', timeout=10)\n            response.raise_for_status()\n            return response.json()\n        except requests.exceptions.Timeout:\n            logger.error(f\"Timeout calling {endpoint}\")\n            raise\n        except requests.exceptions.HTTPError as e:\n            logger.error(f\"HTTP error calling {endpoint}: {e}\")\n            raise\n        except requests.exceptions.RequestException as e:\n            logger.error(f\"Request error calling {endpoint}: {e}\")\n            raise\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#async-views","title":"Async Views","text":""},{"location":"LEVEL_4_SCALABLE.html#async-function-based-views","title":"Async Function-Based Views","text":"<pre><code># api/views.py\nfrom django.http import JsonResponse\nimport asyncio\nimport aiohttp\n\nasync def async_external_api_call():\n    async with aiohttp.ClientSession() as session:\n        async with session.get('https://api.example.com/data') as response:\n            return await response.json()\n\nasync def async_task_list(request):\n    data = await async_external_api_call()\n    return JsonResponse(data)\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#async-class-based-views","title":"Async Class-Based Views","text":"<pre><code># api/views.py\nfrom django.views import View\nfrom django.utils.decorators import method_decorator\nfrom django.views.decorators.csrf import csrf_exempt\nimport json\n\n@method_decorator(csrf_exempt, name='dispatch')\nclass AsyncTaskView(View):\n    async def get(self, request):\n        data = await async_external_api_call()\n        return JsonResponse(data)\n\n    async def post(self, request):\n        body = json.loads(request.body)\n        # Process async\n        return JsonResponse({'status': 'created'})\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#async-in-drf-django-41","title":"Async in DRF (Django 4.1+)","text":"<pre><code># api/views.py\nfrom rest_framework.views import APIView\nfrom rest_framework.response import Response\nimport asyncio\n\nclass AsyncBookView(APIView):\n    async def get(self, request):\n        # Async operations\n        data = await asyncio.gather(\n            self.fetch_books(),\n            self.fetch_authors(),\n        )\n        return Response({'books': data[0], 'authors': data[1]})\n\n    async def fetch_books(self):\n        # Simulate async operation\n        await asyncio.sleep(1)\n        return list(Book.objects.values())\n\n    async def fetch_authors(self):\n        await asyncio.sleep(1)\n        return list(Author.objects.values())\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#api-documentation","title":"API Documentation","text":""},{"location":"LEVEL_4_SCALABLE.html#drf-spectacular-openapi-30","title":"drf-spectacular (OpenAPI 3.0)","text":"<pre><code>pip install drf-spectacular\n</code></pre> <pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'drf_spectacular',\n]\n\nREST_FRAMEWORK = {\n    'DEFAULT_SCHEMA_CLASS': 'drf_spectacular.openapi.AutoSchema',\n}\n\nSPECTACULAR_SETTINGS = {\n    'TITLE': 'Your API',\n    'DESCRIPTION': 'Your API description',\n    'VERSION': '1.0.0',\n    'SERVE_INCLUDE_SCHEMA': False,\n}\n</code></pre> <pre><code># core/urls.py\nfrom drf_spectacular.views import SpectacularAPIView, SpectacularSwaggerView, SpectacularRedocView\n\nurlpatterns = [\n    # ... existing URLs ...\n    path('api/schema/', SpectacularAPIView.as_view(), name='schema'),\n    path('api/docs/', SpectacularSwaggerView.as_view(url_name='schema'), name='swagger-ui'),\n    path('api/redoc/', SpectacularRedocView.as_view(url_name='schema'), name='redoc'),\n]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#custom-schema","title":"Custom Schema","text":"<pre><code># api/serializers.py\nfrom drf_spectacular.utils import extend_schema, OpenApiParameter\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    @extend_schema(\n        summary=\"List tasks\",\n        description=\"Get a list of all tasks\",\n        parameters=[\n            OpenApiParameter(name='completed', description='Filter by completion status', required=False, type=bool),\n        ],\n        responses={200: TaskSerializer(many=True)}\n    )\n    def list(self, request):\n        return super().list(request)\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#testing","title":"Testing","text":""},{"location":"LEVEL_4_SCALABLE.html#pytest-setup","title":"pytest Setup","text":"<pre><code>pip install pytest pytest-django pytest-cov\n</code></pre> <pre><code># pytest.ini\n[pytest]\nDJANGO_SETTINGS_MODULE = core.settings\npython_files = tests.py test_*.py *_tests.py\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#basic-tests","title":"Basic Tests","text":"<pre><code># api/tests.py\nimport pytest\nfrom django.contrib.auth.models import User\nfrom rest_framework.test import APIClient\nfrom .models import Task\n\n@pytest.fixture\ndef api_client():\n    return APIClient()\n\n@pytest.fixture\ndef user():\n    return User.objects.create_user(username='testuser', password='testpass123')\n\n@pytest.fixture\ndef task(user):\n    return Task.objects.create(title='Test Task', owner=user)\n\n@pytest.mark.django_db\ndef test_create_task(api_client, user):\n    api_client.force_authenticate(user=user)\n    response = api_client.post('/api/tasks/', {\n        'title': 'New Task',\n        'desc': 'Description',\n        'completed': False\n    })\n    assert response.status_code == 201\n    assert Task.objects.count() == 1\n\n@pytest.mark.django_db\ndef test_list_tasks(api_client, user, task):\n    api_client.force_authenticate(user=user)\n    response = api_client.get('/api/tasks/')\n    assert response.status_code == 200\n    assert len(response.data) == 1\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#run-tests","title":"Run Tests","text":"<pre><code># Run all tests\npytest\n\n# Run with coverage\npytest --cov=api --cov-report=html\n\n# Run specific test\npytest api/tests.py::test_create_task\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#step-by-step-task-management-api","title":"Step-by-Step: Task Management API","text":"<p>Let's build a complete Task Management API with all advanced features.</p>"},{"location":"LEVEL_4_SCALABLE.html#step-1-update-models","title":"Step 1: Update Models","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass TaskAttachment(models.Model):\n    task = models.ForeignKey(Task, on_delete=models.CASCADE, related_name='attachments')\n    file = models.FileField(upload_to='attachments/')\n    name = models.CharField(max_length=200)\n    uploaded_at = models.DateTimeField(auto_now_add=True)\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#step-2-create-serializers","title":"Step 2: Create Serializers","text":"<pre><code># api/serializers.py\nclass TaskAttachmentSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = TaskAttachment\n        fields = ['id', 'task', 'file', 'name', 'uploaded_at']\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#step-3-create-viewset-with-caching","title":"Step 3: Create ViewSet with Caching","text":"<pre><code># api/views.py\nfrom django.core.cache import cache\nfrom rest_framework import viewsets\nfrom .models import Task, TaskAttachment\nfrom .serializers import TaskSerializer, TaskAttachmentSerializer\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    serializer_class = TaskSerializer\n    permission_classes = [IsAuthenticated]\n\n    def get_queryset(self):\n        cache_key = f'tasks_user_{self.request.user.id}'\n        queryset = cache.get(cache_key)\n\n        if queryset is None:\n            queryset = Task.objects.filter(owner=self.request.user)\n            cache.set(cache_key, queryset, 300)  # Cache for 5 minutes\n\n        return queryset\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)\n        cache.delete(f'tasks_user_{self.request.user.id}')  # Invalidate cache\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#step-4-add-file-upload-endpoint","title":"Step 4: Add File Upload Endpoint","text":"<pre><code># api/views.py\nclass TaskAttachmentViewSet(viewsets.ModelViewSet):\n    queryset = TaskAttachment.objects.all()\n    serializer_class = TaskAttachmentSerializer\n    permission_classes = [IsAuthenticated]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#step-5-configure-urls-with-versioning","title":"Step 5: Configure URLs with Versioning","text":"<pre><code># api/v1/urls.py\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\nrouter = DefaultRouter()\nrouter.register(r'tasks', views.TaskViewSet, basename='task')\nrouter.register(r'attachments', views.TaskAttachmentViewSet, basename='attachment')\n\nurlpatterns = [\n    path('', include(router.urls)),\n]\n</code></pre> <pre><code># core/urls.py\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('api/v1/', include('api.v1.urls')),\n]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#performance-monitoring","title":"Performance Monitoring","text":""},{"location":"LEVEL_4_SCALABLE.html#django-debug-toolbar-development","title":"Django Debug Toolbar (Development)","text":"<pre><code>pip install django-debug-toolbar\n</code></pre> <pre><code># core/settings.py\nif DEBUG:\n    INSTALLED_APPS += ['debug_toolbar']\n    MIDDLEWARE += ['debug_toolbar.middleware.DebugToolbarMiddleware']\n    INTERNAL_IPS = ['127.0.0.1']\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#logging","title":"Logging","text":"<pre><code># core/settings.py\nLOGGING = {\n    'version': 1,\n    'disable_existing_loggers': False,\n    'handlers': {\n        'file': {\n            'level': 'INFO',\n            'class': 'logging.FileHandler',\n            'filename': 'api.log',\n        },\n    },\n    'loggers': {\n        'api': {\n            'handlers': ['file'],\n            'level': 'INFO',\n        },\n    },\n}\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#exercises","title":"Exercises","text":""},{"location":"LEVEL_4_SCALABLE.html#exercise-1-complete-task-management-api","title":"Exercise 1: Complete Task Management API","text":"<ol> <li>Add file upload functionality</li> <li>Implement caching</li> <li>Add API versioning</li> <li>Create API documentation</li> <li>Write tests</li> </ol>"},{"location":"LEVEL_4_SCALABLE.html#exercise-2-external-api-integration","title":"Exercise 2: External API Integration","text":"<ol> <li>Integrate with a third-party API</li> <li>Handle errors gracefully</li> <li>Add retry logic</li> <li>Cache external API responses</li> </ol>"},{"location":"LEVEL_4_SCALABLE.html#exercise-3-performance-optimization","title":"Exercise 3: Performance Optimization","text":"<ol> <li>Implement query optimization</li> <li>Add caching layers</li> <li>Monitor performance</li> <li>Optimize slow endpoints</li> </ol>"},{"location":"LEVEL_4_SCALABLE.html#add-ons","title":"Add-ons","text":""},{"location":"LEVEL_4_SCALABLE.html#add-on-1-custom-caching-strategy","title":"Add-on 1: Custom Caching Strategy","text":"<p>Implement cache invalidation patterns.</p>"},{"location":"LEVEL_4_SCALABLE.html#add-on-2-api-rate-limiting-dashboard","title":"Add-on 2: API Rate Limiting Dashboard","text":"<p>Create a dashboard to monitor API usage.</p>"},{"location":"LEVEL_4_SCALABLE.html#add-on-3-file-processing","title":"Add-on 3: File Processing","text":"<p>Add background processing for uploaded files.</p>"},{"location":"LEVEL_4_SCALABLE.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 4. You now know:</p> <ul> <li>\u2705 Custom middleware</li> <li>\u2705 Caching strategies (Redis)</li> <li>\u2705 Rate limiting</li> <li>\u2705 API versioning</li> <li>\u2705 File uploads</li> <li>\u2705 Third-party API integration</li> <li>\u2705 Async views</li> <li>\u2705 API documentation</li> <li>\u2705 Testing</li> </ul> <p>Ready for Level 5? Continue to Level 5: Expert to learn about GraphQL, WebSockets, CI/CD, and production deployment!</p> <p>Resources: - DRF Caching - DRF Versioning - drf-spectacular - Django File Uploads</p>"},{"location":"LEVEL_5_EXPERT.html","title":"Level 5: Expert - Production, Performance &amp; Advanced Patterns","text":""},{"location":"LEVEL_5_EXPERT.html#goal","title":"Goal","text":"<p>Build enterprise-grade, production-ready Django APIs. Master GraphQL, WebSockets, advanced testing, CI/CD, monitoring, and deployment. By the end of this level, you'll be able to build and deploy scalable, observable APIs.</p>"},{"location":"LEVEL_5_EXPERT.html#note-on-examples","title":"Note on Examples","text":"<p>This guide uses a mix of Task and Book API examples depending on which best illustrates each expert-level concept:</p> <ul> <li>Task API: Used for:</li> <li>Analytics and aggregation examples (task statistics)</li> <li>Real-time features (WebSocket task updates)</li> <li>Production deployment patterns</li> <li> <p>Monitoring and observability</p> </li> <li> <p>Book API: Used for:</p> </li> <li>GraphQL examples (book queries/mutations)</li> <li>Some async patterns</li> <li>When a simpler model better demonstrates the concept</li> </ul> <p>Why mixed examples? - Best fit: Each example is chosen to best illustrate the specific expert concept - Flexibility: Shows that patterns work with any model - Real-world: Different APIs have different needs - this reflects reality - Learning: Understanding concepts with different models reinforces learning</p> <p>Important: All expert-level patterns (GraphQL, WebSockets, CI/CD, deployment) apply to any API. The examples are just illustrations - you can use these patterns with Task, Book, Product, Post, or any other model.</p>"},{"location":"LEVEL_5_EXPERT.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Async Django</li> <li>GraphQL Integration</li> <li>WebSockets with Django Channels</li> <li>Advanced Query Optimization</li> <li>Advanced Testing</li> <li>CI/CD Setup</li> <li>Monitoring and Logging</li> <li>Deployment Best Practices</li> <li>Step-by-Step: Analytics API</li> <li>AI API Integration</li> <li>Observability</li> <li>Exercises</li> <li>Add-ons</li> </ol>"},{"location":"LEVEL_5_EXPERT.html#async-django","title":"Async Django","text":""},{"location":"LEVEL_5_EXPERT.html#async-views-in-django-31","title":"Async Views in Django 3.1+","text":"<pre><code># api/views.py\nfrom django.http import JsonResponse\nimport asyncio\nimport aiohttp\n\nasync def async_book_list(request):\n    async with aiohttp.ClientSession() as session:\n        async with session.get('https://api.example.com/books') as response:\n            data = await response.json()\n    return JsonResponse(data)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#async-orm-operations-django-41","title":"Async ORM Operations (Django 4.1+)","text":"<pre><code># api/views.py\nfrom django.db import models\nfrom asgiref.sync import sync_to_async\n\nasync def async_task_list(request):\n    tasks = await sync_to_async(list)(Task.objects.all())\n    return JsonResponse({'tasks': [task.title for task in tasks]})\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#async-database-queries","title":"Async Database Queries","text":"<pre><code># api/views.py\nfrom asgiref.sync import sync_to_async\nfrom django.db import transaction\n\n@sync_to_async\ndef get_tasks():\n    return list(Task.objects.select_related('owner').all())\n\nasync def async_task_view(request):\n    tasks = await get_tasks()\n    return JsonResponse({'tasks': [t.title for t in tasks]})\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#graphql-integration","title":"GraphQL Integration","text":""},{"location":"LEVEL_5_EXPERT.html#strawberry-django-setup","title":"Strawberry-Django Setup","text":"<pre><code>pip install strawberry-graphql-django\n</code></pre> <pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'strawberry.django',\n]\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#define-graphql-schema","title":"Define GraphQL Schema","text":"<pre><code># api/schema.py\nimport strawberry\nfrom strawberry.django import DjangoModelType\nfrom .models import Task, Book\nfrom django.contrib.auth.models import User\n\n@strawberry.django.type(Task)\nclass TaskType(DjangoModelType):\n    class Meta:\n        model = Task\n        fields = ['id', 'title', 'desc', 'completed', 'created_at']\n\n@strawberry.django.type(Book)\nclass BookType(DjangoModelType):\n    class Meta:\n        model = Book\n        fields = ['id', 'title', 'author', 'published_date']\n\n@strawberry.type\nclass Query:\n    @strawberry.field\n    def tasks(self) -&gt; list[TaskType]:\n        return Task.objects.all()\n\n    @strawberry.field\n    def task(self, id: int) -&gt; TaskType:\n        return Task.objects.get(id=id)\n\n    @strawberry.field\n    def books(self) -&gt; list[BookType]:\n        return Book.objects.all()\n\n@strawberry.type\nclass Mutation:\n    @strawberry.mutation\n    def create_task(self, title: str, desc: str = None) -&gt; TaskType:\n        task = Task.objects.create(title=title, desc=desc)\n        return task\n\n    @strawberry.mutation\n    def update_task(self, id: int, completed: bool) -&gt; TaskType:\n        task = Task.objects.get(id=id)\n        task.completed = completed\n        task.save()\n        return task\n\nschema = strawberry.Schema(query=Query, mutation=Mutation)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#configure-graphql-urls","title":"Configure GraphQL URLs","text":"<pre><code># core/urls.py\nfrom strawberry.django.views import GraphQLView\nfrom api.schema import schema\n\nurlpatterns = [\n    # ... existing URLs ...\n    path('graphql/', GraphQLView.as_view(schema=schema)),\n]\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#graphql-with-authentication","title":"GraphQL with Authentication","text":"<pre><code># api/schema.py\nfrom strawberry.django.auth import login, logout\nfrom strawberry.types import Info\n\n@strawberry.type\nclass Mutation:\n    @strawberry.mutation\n    def login(self, info: Info, username: str, password: str) -&gt; bool:\n        from django.contrib.auth import authenticate\n        user = authenticate(username=username, password=password)\n        if user:\n            login(info.context.request, user)\n            return True\n        return False\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#test-graphql","title":"Test GraphQL","text":"<pre><code># Query\ncurl -X POST http://localhost:8000/graphql/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"query\": \"query { tasks { id title completed } }\"\n  }'\n\n# Mutation\ncurl -X POST http://localhost:8000/graphql/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"query\": \"mutation { createTask(title: \\\"New Task\\\") { id title } }\"\n  }'\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#websockets-with-django-channels","title":"WebSockets with Django Channels","text":""},{"location":"LEVEL_5_EXPERT.html#install-channels","title":"Install Channels","text":"<pre><code>pip install channels channels-redis\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#configure-channels","title":"Configure Channels","text":"<pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'channels',\n    'channels_redis',\n]\n\nASGI_APPLICATION = 'core.asgi.application'\n\nCHANNEL_LAYERS = {\n    'default': {\n        'BACKEND': 'channels_redis.core.RedisChannelLayer',\n        'CONFIG': {\n            \"hosts\": [('127.0.0.1', 6379)],\n        },\n    },\n}\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#update-asgi-configuration","title":"Update ASGI Configuration","text":"<pre><code># core/asgi.py\nimport os\nfrom django.core.asgi import get_asgi_application\nfrom channels.routing import ProtocolTypeRouter, URLRouter\nfrom channels.auth import AuthMiddlewareStack\nimport api.routing\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'core.settings')\n\napplication = ProtocolTypeRouter({\n    \"http\": get_asgi_application(),\n    \"websocket\": AuthMiddlewareStack(\n        URLRouter(\n            api.routing.websocket_urlpatterns\n        )\n    ),\n})\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#create-websocket-consumer","title":"Create WebSocket Consumer","text":"<pre><code># api/consumers.py\nfrom channels.generic.websocket import AsyncWebsocketConsumer\nimport json\n\nclass TaskConsumer(AsyncWebsocketConsumer):\n    async def connect(self):\n        self.room_group_name = 'tasks'\n\n        await self.channel_layer.group_add(\n            self.room_group_name,\n            self.channel_name\n        )\n\n        await self.accept()\n\n    async def disconnect(self, close_code):\n        await self.channel_layer.group_discard(\n            self.room_group_name,\n            self.channel_name\n        )\n\n    async def receive(self, text_data):\n        text_data_json = json.loads(text_data)\n        message = text_data_json['message']\n\n        await self.channel_layer.group_send(\n            self.room_group_name,\n            {\n                'type': 'task_message',\n                'message': message\n            }\n        )\n\n    async def task_message(self, event):\n        message = event['message']\n\n        await self.send(text_data=json.dumps({\n            'message': message\n        }))\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#configure-websocket-routing","title":"Configure WebSocket Routing","text":"<pre><code># api/routing.py\nfrom django.urls import re_path\nfrom . import consumers\n\nwebsocket_urlpatterns = [\n    re_path(r'ws/tasks/$', consumers.TaskConsumer.as_asgi()),\n]\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#send-messages-from-views","title":"Send Messages from Views","text":"<pre><code># api/views.py\nfrom channels.layers import get_channel_layer\nfrom asgiref.sync import async_to_sync\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    def perform_create(self, serializer):\n        task = serializer.save()\n\n        # Send WebSocket message\n        channel_layer = get_channel_layer()\n        async_to_sync(channel_layer.group_send)(\n            'tasks',\n            {\n                'type': 'task_message',\n                'message': f'New task created: {task.title}'\n            }\n        )\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#advanced-query-optimization","title":"Advanced Query Optimization","text":""},{"location":"LEVEL_5_EXPERT.html#raw-sql-queries","title":"Raw SQL Queries","text":"<pre><code># api/views.py\nfrom django.db import connection\n\ndef get_tasks_with_raw_sql():\n    with connection.cursor() as cursor:\n        cursor.execute(\"\"\"\n            SELECT t.id, t.title, u.username\n            FROM api_task t\n            JOIN auth_user u ON t.owner_id = u.id\n            WHERE t.completed = %s\n        \"\"\", [False])\n        return cursor.fetchall()\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#database-specific-features","title":"Database-Specific Features","text":"<pre><code># PostgreSQL-specific: Full-text search\nfrom django.contrib.postgres.search import SearchVector\n\ntasks = Task.objects.annotate(\n    search=SearchVector('title', 'desc')\n).filter(search='django')\n\n# Aggregations\nfrom django.db.models import Count, Avg, Sum\n\nstats = Task.objects.aggregate(\n    total=Count('id'),\n    completed=Count('id', filter=Q(completed=True)),\n    avg_priority=Avg('priority')\n)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#query-analysis","title":"Query Analysis","text":"<pre><code># api/views.py\nfrom django.db import connection\nfrom django.db import reset_queries\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    def list(self, request, *args, **kwargs):\n        reset_queries()\n        response = super().list(request, *args, **kwargs)\n\n        # Log queries\n        queries = connection.queries\n        print(f\"Total queries: {len(queries)}\")\n        for query in queries:\n            print(query['sql'])\n\n        return response\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#index-optimization","title":"Index Optimization","text":"<pre><code># api/models.py\nclass Task(models.Model):\n    # ... fields ...\n\n    class Meta:\n        indexes = [\n            models.Index(fields=['owner', 'completed']),\n            models.Index(fields=['-created_at']),\n            models.Index(fields=['title'], name='title_idx'),\n        ]\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#advanced-testing","title":"Advanced Testing","text":""},{"location":"LEVEL_5_EXPERT.html#integration-tests","title":"Integration Tests","text":"<pre><code># api/tests/test_integration.py\nimport pytest\nfrom django.test import TestCase\nfrom django.contrib.auth.models import User\nfrom rest_framework.test import APIClient\nfrom .models import Task\n\nclass TaskIntegrationTest(TestCase):\n    def setUp(self):\n        self.client = APIClient()\n        self.user = User.objects.create_user(\n            username='testuser',\n            password='testpass123'\n        )\n        self.client.force_authenticate(user=self.user)\n\n    def test_task_workflow(self):\n        # Create task\n        response = self.client.post('/api/tasks/', {\n            'title': 'Test Task',\n            'desc': 'Description'\n        })\n        self.assertEqual(response.status_code, 201)\n        task_id = response.data['id']\n\n        # Update task\n        response = self.client.patch(f'/api/tasks/{task_id}/', {\n            'completed': True\n        })\n        self.assertEqual(response.status_code, 200)\n\n        # Delete task\n        response = self.client.delete(f'/api/tasks/{task_id}/')\n        self.assertEqual(response.status_code, 204)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#test-coverage","title":"Test Coverage","text":"<pre><code># Install coverage\npip install coverage\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\ncoverage html  # Generate HTML report\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#mocking-external-apis","title":"Mocking External APIs","text":"<pre><code># api/tests/test_external_api.py\nfrom unittest.mock import patch, Mock\nimport pytest\n\n@patch('api.services.requests.get')\ndef test_external_api_integration(mock_get):\n    mock_response = Mock()\n    mock_response.json.return_value = {'data': 'test'}\n    mock_response.status_code = 200\n    mock_get.return_value = mock_response\n\n    service = ExternalAPIService()\n    result = service.get_data('endpoint')\n\n    assert result == {'data': 'test'}\n    mock_get.assert_called_once()\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#performance-tests","title":"Performance Tests","text":"<pre><code># api/tests/test_performance.py\nimport time\nfrom django.test import TestCase\n\nclass PerformanceTest(TestCase):\n    def test_query_performance(self):\n        start = time.time()\n        tasks = Task.objects.select_related('owner').all()\n        list(tasks)  # Force evaluation\n        duration = time.time() - start\n\n        self.assertLess(duration, 0.1)  # Should complete in &lt; 100ms\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#cicd-setup","title":"CI/CD Setup","text":""},{"location":"LEVEL_5_EXPERT.html#github-actions","title":"GitHub Actions","text":"<pre><code># .github/workflows/django.yml\nname: Django CI\n\non:\n  push:\n    branches: [ main, develop ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n\n    services:\n      postgres:\n        image: postgres:15\n        env:\n          POSTGRES_PASSWORD: postgres\n          POSTGRES_DB: test_db\n        options: &gt;-\n          --health-cmd pg_isready\n          --health-interval 10s\n          --health-timeout 5s\n          --health-retries 5\n        ports:\n          - 5432:5432\n\n    steps:\n    - uses: actions/checkout@v3\n\n    - name: Set up Python\n      uses: actions/setup-python@v4\n      with:\n        python-version: '3.11'\n\n    - name: Install dependencies\n      run: |\n        pip install -r requirements.txt\n\n    - name: Run tests\n      env:\n        DATABASE_URL: postgresql://postgres:postgres@localhost:5432/test_db\n        SECRET_KEY: test-secret-key\n      run: |\n        python manage.py test\n\n    - name: Run coverage\n      run: |\n        coverage run --source='.' manage.py test\n        coverage report\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#docker-setup","title":"Docker Setup","text":"<pre><code># Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy project\nCOPY . .\n\n# Run migrations and start server\nCMD python manage.py migrate &amp;&amp; python manage.py runserver 0.0.0.0:8000\n</code></pre> <pre><code># docker-compose.yml\nversion: '3.8'\n\nservices:\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: rest_api_db\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: postgres\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  web:\n    build: .\n    command: python manage.py runserver 0.0.0.0:8000\n    volumes:\n      - .:/app\n    ports:\n      - \"8000:8000\"\n    depends_on:\n      - db\n    environment:\n      DATABASE_URL: postgresql://postgres:postgres@db:5432/rest_api_db\n\nvolumes:\n  postgres_data:\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#monitoring-and-logging","title":"Monitoring and Logging","text":""},{"location":"LEVEL_5_EXPERT.html#sentry-integration","title":"Sentry Integration","text":"<pre><code>pip install sentry-sdk\n</code></pre> <pre><code># core/settings.py\nimport sentry_sdk\nfrom sentry_sdk.integrations.django import DjangoIntegration\n\nsentry_sdk.init(\n    dsn=\"YOUR_SENTRY_DSN\",\n    integrations=[DjangoIntegration()],\n    traces_sample_rate=1.0,\n    send_default_pii=True\n)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#structured-logging","title":"Structured Logging","text":"<pre><code># core/settings.py\nLOGGING = {\n    'version': 1,\n    'disable_existing_loggers': False,\n    'formatters': {\n        'verbose': {\n            'format': '{levelname} {asctime} {module} {message}',\n            'style': '{',\n        },\n        'json': {\n            '()': 'pythonjsonlogger.jsonlogger.JsonFormatter',\n        },\n    },\n    'handlers': {\n        'file': {\n            'level': 'INFO',\n            'class': 'logging.FileHandler',\n            'filename': 'api.log',\n            'formatter': 'json',\n        },\n        'console': {\n            'level': 'DEBUG',\n            'class': 'logging.StreamHandler',\n            'formatter': 'verbose',\n        },\n    },\n    'loggers': {\n        'api': {\n            'handlers': ['file', 'console'],\n            'level': 'INFO',\n        },\n    },\n}\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#custom-logging","title":"Custom Logging","text":"<pre><code># api/views.py\nimport logging\n\nlogger = logging.getLogger('api')\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    def create(self, request, *args, **kwargs):\n        logger.info(f'Task creation requested by user {request.user.id}')\n        try:\n            response = super().create(request, *args, **kwargs)\n            logger.info(f'Task created: {response.data[\"id\"]}')\n            return response\n        except Exception as e:\n            logger.error(f'Task creation failed: {str(e)}', exc_info=True)\n            raise\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#deployment-best-practices","title":"Deployment Best Practices","text":""},{"location":"LEVEL_5_EXPERT.html#environment-variables","title":"Environment Variables","text":"<pre><code># core/settings.py\nfrom decouple import config\n\nSECRET_KEY = config('SECRET_KEY')\nDEBUG = config('DEBUG', default=False, cast=bool)\nALLOWED_HOSTS = config('ALLOWED_HOSTS', default='', cast=lambda v: [s.strip() for s in v.split(',')])\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.postgresql',\n        'NAME': config('DB_NAME'),\n        'USER': config('DB_USER'),\n        'PASSWORD': config('DB_PASSWORD'),\n        'HOST': config('DB_HOST'),\n        'PORT': config('DB_PORT', default='5432'),\n    }\n}\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#gunicorn-configuration","title":"Gunicorn Configuration","text":"<pre><code># gunicorn_config.py\nbind = \"0.0.0.0:8000\"\nworkers = 4\nworker_class = \"sync\"\ntimeout = 120\nkeepalive = 5\nmax_requests = 1000\nmax_requests_jitter = 50\n</code></pre> <pre><code># Run with Gunicorn\ngunicorn core.wsgi:application --config gunicorn_config.py\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#nginx-configuration","title":"Nginx Configuration","text":"<pre><code># /etc/nginx/sites-available/rest_api\nserver {\n    listen 80;\n    server_name api.example.com;\n\n    location / {\n        proxy_pass http://127.0.0.1:8000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n\n    location /static/ {\n        alias /path/to/static/;\n    }\n\n    location /media/ {\n        alias /path/to/media/;\n    }\n}\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#security-checklist","title":"Security Checklist","text":"<pre><code># core/settings.py\n# Security settings for production\nSECURE_SSL_REDIRECT = True\nSESSION_COOKIE_SECURE = True\nCSRF_COOKIE_SECURE = True\nSECURE_BROWSER_XSS_FILTER = True\nSECURE_CONTENT_TYPE_NOSNIFF = True\nX_FRAME_OPTIONS = 'DENY'\nSECURE_HSTS_SECONDS = 31536000\nSECURE_HSTS_INCLUDE_SUBDOMAINS = True\nSECURE_HSTS_PRELOAD = True\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#step-by-step-analytics-api","title":"Step-by-Step: Analytics API","text":"<p>Build an analytics API with aggregation, background tasks, and GraphQL.</p>"},{"location":"LEVEL_5_EXPERT.html#step-1-create-analytics-models","title":"Step 1: Create Analytics Models","text":"<pre><code># api/models.py\nclass Analytics(models.Model):\n    date = models.DateField()\n    total_tasks = models.IntegerField(default=0)\n    completed_tasks = models.IntegerField(default=0)\n    created_at = models.DateTimeField(auto_now_add=True)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#step-2-create-analytics-view","title":"Step 2: Create Analytics View","text":"<pre><code># api/views.py\nfrom django.db.models import Count, Q\nfrom django.utils import timezone\nfrom datetime import timedelta\n\nclass AnalyticsViewSet(viewsets.ViewSet):\n    permission_classes = [IsAuthenticated]\n\n    def list(self, request):\n        # Aggregate data\n        stats = Task.objects.aggregate(\n            total=Count('id'),\n            completed=Count('id', filter=Q(completed=True)),\n            pending=Count('id', filter=Q(completed=False))\n        )\n\n        # Time-based stats\n        last_7_days = timezone.now() - timedelta(days=7)\n        recent_stats = Task.objects.filter(\n            created_at__gte=last_7_days\n        ).aggregate(\n            created=Count('id')\n        )\n\n        return Response({\n            'overall': stats,\n            'recent': recent_stats\n        })\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#step-3-add-graphql-schema","title":"Step 3: Add GraphQL Schema","text":"<pre><code># api/schema.py\n@strawberry.type\nclass AnalyticsType:\n    total: int\n    completed: int\n    pending: int\n\n@strawberry.type\nclass Query:\n    @strawberry.field\n    def analytics(self) -&gt; AnalyticsType:\n        stats = Task.objects.aggregate(\n            total=Count('id'),\n            completed=Count('id', filter=Q(completed=True)),\n            pending=Count('id', filter=Q(completed=False))\n        )\n        return AnalyticsType(**stats)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#ai-api-integration","title":"AI API Integration","text":""},{"location":"LEVEL_5_EXPERT.html#openai-integration","title":"OpenAI Integration","text":"<pre><code>pip install openai\n</code></pre> <pre><code># api/services.py\nimport openai\nfrom django.conf import settings\n\nclass AIService:\n    def __init__(self):\n        openai.api_key = settings.OPENAI_API_KEY\n\n    def generate_task_suggestion(self, user_tasks):\n        prompt = f\"Based on these tasks: {user_tasks}, suggest a new task.\"\n        response = openai.Completion.create(\n            engine=\"text-davinci-003\",\n            prompt=prompt,\n            max_tokens=100\n        )\n        return response.choices[0].text.strip()\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#use-in-views","title":"Use in Views","text":"<pre><code># api/views.py\nfrom .services import AIService\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    @action(detail=False, methods=['post'])\n    def ai_suggest(self, request):\n        user_tasks = Task.objects.filter(owner=request.user).values_list('title', flat=True)\n        ai_service = AIService()\n        suggestion = ai_service.generate_task_suggestion(list(user_tasks))\n        return Response({'suggestion': suggestion})\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#observability","title":"Observability","text":""},{"location":"LEVEL_5_EXPERT.html#metrics-collection","title":"Metrics Collection","text":"<pre><code># api/middleware.py\nfrom prometheus_client import Counter, Histogram\nimport time\n\nrequest_count = Counter('api_requests_total', 'Total API requests', ['method', 'endpoint'])\nrequest_duration = Histogram('api_request_duration_seconds', 'API request duration')\n\nclass MetricsMiddleware:\n    def __init__(self, get_response):\n        self.get_response = get_response\n\n    def __call__(self, request):\n        start_time = time.time()\n        response = self.get_response(request)\n        duration = time.time() - start_time\n\n        request_count.labels(method=request.method, endpoint=request.path).inc()\n        request_duration.observe(duration)\n\n        return response\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#distributed-tracing","title":"Distributed Tracing","text":"<pre><code># Install\npip install opentelemetry-api opentelemetry-sdk opentelemetry-instrumentation-django\n\n# Configure\nfrom opentelemetry import trace\nfrom opentelemetry.sdk.trace import TracerProvider\n\ntrace.set_tracer_provider(TracerProvider())\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#exercises","title":"Exercises","text":""},{"location":"LEVEL_5_EXPERT.html#exercise-1-complete-analytics-api","title":"Exercise 1: Complete Analytics API","text":"<ol> <li>Create analytics models</li> <li>Implement aggregation queries</li> <li>Add GraphQL endpoint</li> <li>Set up background report generation</li> <li>Deploy to production</li> </ol>"},{"location":"LEVEL_5_EXPERT.html#exercise-2-full-cicd-pipeline","title":"Exercise 2: Full CI/CD Pipeline","text":"<ol> <li>Set up GitHub Actions</li> <li>Configure Docker</li> <li>Add automated testing</li> <li>Set up deployment pipeline</li> </ol>"},{"location":"LEVEL_5_EXPERT.html#exercise-3-production-deployment","title":"Exercise 3: Production Deployment","text":"<ol> <li>Configure Gunicorn + Nginx</li> <li>Set up monitoring (Sentry)</li> <li>Configure logging</li> <li>Implement security best practices</li> </ol>"},{"location":"LEVEL_5_EXPERT.html#add-ons","title":"Add-ons","text":""},{"location":"LEVEL_5_EXPERT.html#add-on-1-api-gateway","title":"Add-on 1: API Gateway","text":"<p>Implement API gateway pattern for microservices.</p>"},{"location":"LEVEL_5_EXPERT.html#add-on-2-multi-tenancy","title":"Add-on 2: Multi-tenancy","text":"<p>Add multi-tenant support to your API.</p>"},{"location":"LEVEL_5_EXPERT.html#add-on-3-real-time-dashboard","title":"Add-on 3: Real-time Dashboard","text":"<p>Build a real-time analytics dashboard using WebSockets.</p>"},{"location":"LEVEL_5_EXPERT.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 5. You now know:</p> <ul> <li>\u2705 Async Django</li> <li>\u2705 GraphQL integration</li> <li>\u2705 WebSockets with Django Channels</li> <li>\u2705 Advanced query optimization</li> <li>\u2705 Advanced testing</li> <li>\u2705 CI/CD setup</li> <li>\u2705 Monitoring and logging</li> <li>\u2705 Production deployment</li> </ul> <p>You're now an expert in Django REST Framework! \ud83c\udf89</p> <p>Continue learning by: - Contributing to open-source Django projects - Building your own production APIs - Reading Django and DRF source code - Following Django community updates</p> <p>Resources: - Django Channels - Strawberry GraphQL - Django Deployment Checklist - Two Scoops of Django</p>"},{"location":"POSTGRESQL_SETUP.html","title":"PostgreSQL Setup Guide for Django","text":""},{"location":"POSTGRESQL_SETUP.html#overview","title":"Overview","text":"<p>This guide will help you set up PostgreSQL for your Django REST Framework project. While Django works with SQLite by default, PostgreSQL is recommended for production and provides better performance, advanced features, and scalability.</p>"},{"location":"POSTGRESQL_SETUP.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Installation</li> <li>Creating Database and User</li> <li>Django Configuration</li> <li>Migration from SQLite</li> <li>Connection Pooling</li> <li>Backup and Restore</li> <li>Optimization Tips</li> <li>Environment Variables</li> <li>Troubleshooting</li> </ol>"},{"location":"POSTGRESQL_SETUP.html#installation","title":"Installation","text":""},{"location":"POSTGRESQL_SETUP.html#linux-ubuntudebian","title":"Linux (Ubuntu/Debian)","text":"<pre><code># Update package list\nsudo apt update\n\n# Install PostgreSQL\nsudo apt install postgresql postgresql-contrib\n\n# Install Python PostgreSQL adapter\npip install psycopg2-binary\n\n# Start PostgreSQL service\nsudo systemctl start postgresql\nsudo systemctl enable postgresql\n\n# Verify installation\npsql --version\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#macos","title":"macOS","text":"<pre><code># Using Homebrew\nbrew install postgresql@15\n\n# Start PostgreSQL service\nbrew services start postgresql@15\n\n# Install Python adapter\npip install psycopg2-binary\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#windows","title":"Windows","text":"<ol> <li>Download PostgreSQL from postgresql.org/download/windows/</li> <li>Run the installer and follow the setup wizard</li> <li>Remember the password you set for the <code>postgres</code> user</li> <li>Install Python adapter:    <code>bash    pip install psycopg2-binary</code></li> </ol>"},{"location":"POSTGRESQL_SETUP.html#creating-database-and-user","title":"Creating Database and User","text":""},{"location":"POSTGRESQL_SETUP.html#step-1-access-postgresql","title":"Step 1: Access PostgreSQL","text":"<pre><code># Switch to postgres user (Linux/macOS)\nsudo -u postgres psql\n\n# Or on Windows, use psql from the PostgreSQL bin directory\n# Usually: C:\\Program Files\\PostgreSQL\\15\\bin\\psql.exe\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-2-create-database","title":"Step 2: Create Database","text":"<pre><code>-- Create a new database\nCREATE DATABASE rest_api_db;\n\n-- Create a user with password\nCREATE USER rest_api_user WITH PASSWORD 'your_secure_password_here';\n\n-- Grant privileges\nGRANT ALL PRIVILEGES ON DATABASE rest_api_db TO rest_api_user;\n\n-- For PostgreSQL 15+, also grant schema privileges\n\\c rest_api_db\nGRANT ALL ON SCHEMA public TO rest_api_user;\n\n-- Exit psql\n\\q\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-3-verify-connection","title":"Step 3: Verify Connection","text":"<pre><code># Test connection\npsql -U rest_api_user -d rest_api_db -h localhost\n\n# If prompted for password, enter the password you set\n# Type \\q to exit\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#django-configuration","title":"Django Configuration","text":""},{"location":"POSTGRESQL_SETUP.html#step-1-install-required-packages","title":"Step 1: Install Required Packages","text":"<pre><code>pip install psycopg2-binary python-decouple\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-2-update-settingspy","title":"Step 2: Update settings.py","text":"<p>Update your <code>core/settings.py</code>:</p> <pre><code>from pathlib import Path\nfrom decouple import config\n\nBASE_DIR = Path(__file__).resolve().parent.parent\n\n# Database configuration\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.postgresql',\n        'NAME': config('DB_NAME', default='rest_api_db'),\n        'USER': config('DB_USER', default='rest_api_user'),\n        'PASSWORD': config('DB_PASSWORD', default=''),\n        'HOST': config('DB_HOST', default='localhost'),\n        'PORT': config('DB_PORT', default='5432'),\n        'OPTIONS': {\n            'connect_timeout': 10,\n        },\n    }\n}\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-3-create-env-file","title":"Step 3: Create .env File","text":"<p>Create a <code>.env</code> file in your project root (same level as <code>manage.py</code>):</p> <pre><code># Database Configuration\nDB_NAME=rest_api_db\nDB_USER=rest_api_user\nDB_PASSWORD=your_secure_password_here\nDB_HOST=localhost\nDB_PORT=5432\n\n# Django Secret Key (keep this secret!)\nSECRET_KEY=your-secret-key-here\nDEBUG=True\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-4-update-settingspy-to-use-env","title":"Step 4: Update settings.py to Use .env","text":"<pre><code>from pathlib import Path\nfrom decouple import config\n\nBASE_DIR = Path(__file__).resolve().parent.parent\n\nSECRET_KEY = config('SECRET_KEY')\nDEBUG = config('DEBUG', default=False, cast=bool)\n\n# ... other settings ...\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.postgresql',\n        'NAME': config('DB_NAME'),\n        'USER': config('DB_USER'),\n        'PASSWORD': config('DB_PASSWORD'),\n        'HOST': config('DB_HOST'),\n        'PORT': config('DB_PORT'),\n    }\n}\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-5-add-env-to-gitignore","title":"Step 5: Add .env to .gitignore","text":"<p>Create or update <code>.gitignore</code>:</p> <pre><code>.env\n*.pyc\n__pycache__/\ndb.sqlite3\nvenv/\n*.log\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#migration-from-sqlite","title":"Migration from SQLite","text":"<p>If you've been using SQLite and want to migrate to PostgreSQL:</p>"},{"location":"POSTGRESQL_SETUP.html#step-1-export-data-from-sqlite","title":"Step 1: Export Data from SQLite","text":"<pre><code># Create a data dump\npython manage.py dumpdata &gt; data.json\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-2-update-database-settings","title":"Step 2: Update Database Settings","text":"<p>Switch to PostgreSQL in <code>settings.py</code> (as shown above).</p>"},{"location":"POSTGRESQL_SETUP.html#step-3-create-new-database-schema","title":"Step 3: Create New Database Schema","text":"<pre><code># Create migrations (if needed)\npython manage.py makemigrations\n\n# Apply migrations to PostgreSQL\npython manage.py migrate\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-4-load-data-into-postgresql","title":"Step 4: Load Data into PostgreSQL","text":"<pre><code># Load the data\npython manage.py loaddata data.json\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-5-verify-migration","title":"Step 5: Verify Migration","text":"<pre><code># Check data\npython manage.py shell\n</code></pre> <pre><code>from api.models import Task\nprint(Task.objects.count())  # Should match your SQLite count\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#connection-pooling","title":"Connection Pooling","text":"<p>For production applications, use connection pooling to improve performance:</p>"},{"location":"POSTGRESQL_SETUP.html#option-1-django-db-connection-pool","title":"Option 1: django-db-connection-pool","text":"<pre><code>pip install django-db-connection-pool\n</code></pre> <p>Update <code>settings.py</code>:</p> <pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'dj_db_conn_pool.backends.postgresql',\n        'NAME': config('DB_NAME'),\n        'USER': config('DB_USER'),\n        'PASSWORD': config('DB_PASSWORD'),\n        'HOST': config('DB_HOST'),\n        'PORT': config('DB_PORT'),\n        'POOL_OPTIONS': {\n            'POOL_SIZE': 10,\n            'MAX_OVERFLOW': 20,\n            'RECYCLE': 3600,\n        }\n    }\n}\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#option-2-pgbouncer-advanced","title":"Option 2: PgBouncer (Advanced)","text":"<p>For high-traffic applications, consider using PgBouncer as a connection pooler.</p>"},{"location":"POSTGRESQL_SETUP.html#backup-and-restore","title":"Backup and Restore","text":""},{"location":"POSTGRESQL_SETUP.html#backup-database","title":"Backup Database","text":"<pre><code># Using pg_dump\npg_dump -U rest_api_user -d rest_api_db -F c -f backup.dump\n\n# Or as SQL file\npg_dump -U rest_api_user -d rest_api_db &gt; backup.sql\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#restore-database","title":"Restore Database","text":"<pre><code># From custom format\npg_restore -U rest_api_user -d rest_api_db backup.dump\n\n# From SQL file\npsql -U rest_api_user -d rest_api_db &lt; backup.sql\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#automated-backups","title":"Automated Backups","text":"<p>Create a backup script <code>backup_db.sh</code>:</p> <pre><code>#!/bin/bash\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_DIR=\"/path/to/backups\"\nDB_NAME=\"rest_api_db\"\nDB_USER=\"rest_api_user\"\n\npg_dump -U $DB_USER -d $DB_NAME -F c -f $BACKUP_DIR/backup_$DATE.dump\n\n# Keep only last 7 days of backups\nfind $BACKUP_DIR -name \"backup_*.dump\" -mtime +7 -delete\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#optimization-tips","title":"Optimization Tips","text":""},{"location":"POSTGRESQL_SETUP.html#1-indexes","title":"1. Indexes","text":"<p>Add indexes for frequently queried fields:</p> <pre><code># In your models.py\nclass Task(models.Model):\n    title = models.CharField(max_length=100, db_index=True)\n    completed = models.BooleanField(default=False, db_index=True)\n    created_at = models.DateTimeField(auto_now_add=True, db_index=True)\n\n    class Meta:\n        indexes = [\n            models.Index(fields=['completed', 'created_at']),\n        ]\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#2-query-optimization","title":"2. Query Optimization","text":"<p>Use <code>select_related</code> and <code>prefetch_related</code>:</p> <pre><code># Instead of\ntasks = Task.objects.all()\n\n# Use\ntasks = Task.objects.select_related('user').prefetch_related('tags').all()\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#3-connection-settings","title":"3. Connection Settings","text":"<pre><code>DATABASES = {\n    'default': {\n        # ... other settings ...\n        'CONN_MAX_AGE': 600,  # Reuse connections for 10 minutes\n        'OPTIONS': {\n            'connect_timeout': 10,\n            'options': '-c statement_timeout=30000',  # 30 seconds\n        }\n    }\n}\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#4-postgresql-configuration","title":"4. PostgreSQL Configuration","text":"<p>Edit <code>/etc/postgresql/15/main/postgresql.conf</code> (adjust path for your version):</p> <pre><code># Memory settings\nshared_buffers = 256MB\neffective_cache_size = 1GB\nwork_mem = 16MB\n\n# Connection settings\nmax_connections = 100\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#environment-variables","title":"Environment Variables","text":""},{"location":"POSTGRESQL_SETUP.html#development-env","title":"Development (.env)","text":"<pre><code>DB_NAME=rest_api_db\nDB_USER=rest_api_user\nDB_PASSWORD=dev_password\nDB_HOST=localhost\nDB_PORT=5432\nDEBUG=True\nSECRET_KEY=dev-secret-key\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#production","title":"Production","text":"<p>Use environment variables or a secrets manager:</p> <pre><code># Set environment variables\nexport DB_NAME=production_db\nexport DB_USER=prod_user\nexport DB_PASSWORD=secure_production_password\nexport DB_HOST=db.example.com\nexport DB_PORT=5432\nexport DEBUG=False\nexport SECRET_KEY=production-secret-key\n</code></pre> <p>Or use a <code>.env.production</code> file (never commit this):</p> <pre><code>DB_NAME=production_db\nDB_USER=prod_user\nDB_PASSWORD=secure_production_password\nDB_HOST=db.example.com\nDB_PORT=5432\nDEBUG=False\nSECRET_KEY=production-secret-key\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"POSTGRESQL_SETUP.html#common-issues","title":"Common Issues","text":""},{"location":"POSTGRESQL_SETUP.html#1-connection-refused","title":"1. Connection Refused","text":"<pre><code># Check if PostgreSQL is running\nsudo systemctl status postgresql\n\n# Start if not running\nsudo systemctl start postgresql\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#2-authentication-failed","title":"2. Authentication Failed","text":"<ul> <li>Verify username and password in <code>.env</code></li> <li>Check PostgreSQL user exists: <code>\\du</code> in psql</li> <li>Verify user has database privileges</li> </ul>"},{"location":"POSTGRESQL_SETUP.html#3-database-does-not-exist","title":"3. Database Does Not Exist","text":"<pre><code>-- List databases\n\\l\n\n-- Create if missing\nCREATE DATABASE rest_api_db;\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#4-permission-denied","title":"4. Permission Denied","text":"<pre><code>-- Grant privileges\nGRANT ALL PRIVILEGES ON DATABASE rest_api_db TO rest_api_user;\n\\c rest_api_db\nGRANT ALL ON SCHEMA public TO rest_api_user;\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#5-port-already-in-use","title":"5. Port Already in Use","text":"<pre><code># Check what's using port 5432\nsudo lsof -i :5432\n\n# Or change PostgreSQL port in postgresql.conf\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#testing-connection","title":"Testing Connection","text":"<pre><code># In Django shell\npython manage.py shell\n</code></pre> <pre><code>from django.db import connection\n\n# Test connection\nconnection.ensure_connection()\nprint(\"Connection successful!\")\n\n# Check database name\nfrom django.conf import settings\nprint(settings.DATABASES['default']['NAME'])\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#next-steps","title":"Next Steps","text":"<p>Now that PostgreSQL is set up:</p> <ol> <li>Update your Django settings (as shown above)</li> <li>Run migrations: <code>python manage.py migrate</code></li> <li>Create a superuser: <code>python manage.py createsuperuser</code></li> <li>Start building your API!</li> </ol> <p>For more information, refer to: - Django Database Documentation - PostgreSQL Documentation - psycopg2 Documentation</p> <p>Ready to continue? Return to Level 1: Foundations to start building your API!</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html","title":"Postman Beginner Guide - Part 1: Basics","text":""},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#goal","title":"Goal","text":"<p>Learn how to use Postman to test, debug, and interact with REST APIs. This first part covers installation, interface navigation, basic requests, collections, and environments. By the end of Part 1, you'll be able to efficiently test your Django REST Framework APIs and organize your requests.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>What is Postman?</li> <li>Installation and Setup</li> <li>Understanding the Postman Interface</li> <li>Sending Your First Request</li> <li>HTTP Methods Explained</li> <li>Working with Request Headers</li> <li>Request Body and Data Types</li> <li>Organizing Requests with Collections</li> <li>Using Environments and Variables</li> <li>Next Steps</li> </ol>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#what-is-postman","title":"What is Postman?","text":"<p>Postman is a powerful API development and testing tool that provides a user-friendly interface for making HTTP requests, testing APIs, and organizing your API workflows.</p> <p>Why use Postman?</p> <ul> <li>Visual Interface: Easy-to-use GUI instead of command-line tools</li> <li>Request Organization: Group related requests into collections</li> <li>Environment Management: Switch between dev, staging, and production easily</li> <li>Automated Testing: Write tests to validate API responses</li> <li>Team Collaboration: Share collections and work together</li> <li>Documentation: Auto-generate API documentation</li> <li>Mock Servers: Test frontend without backend ready</li> </ul> <p>Postman vs cURL</p> Feature Postman cURL Interface Graphical (GUI) Command-line Learning Curve Easier for beginners Requires terminal knowledge Organization Collections and folders Scripts and files Testing Built-in test scripts Manual validation Collaboration Built-in sharing Manual file sharing Automation Collection Runner, Newman Shell scripts <p>When to use Postman: - Testing APIs during development - Exploring and learning new APIs - Sharing API requests with team - Automated API testing - API documentation</p> <p>When to use cURL: - CI/CD pipelines - Quick terminal testing - Scripting and automation - Server environments without GUI</p> <p>Both tools are valuable - use Postman for development and exploration, cURL for automation and scripts.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#installation-and-setup","title":"Installation and Setup","text":""},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#windows-installation","title":"Windows Installation","text":"<p>Method 1: Direct Download (Recommended)</p> <ol> <li>Visit the Postman Download Page</li> <li>Click the \"Download for Windows\" button</li> <li>Run the downloaded <code>.exe</code> installer</li> <li>Follow the installation wizard</li> <li>Launch Postman from the Start menu</li> </ol> <p>Method 2: Using Chocolatey</p> <p>If you have Chocolatey package manager installed:</p> <pre><code>choco install postman\n</code></pre> <p>Method 3: Using Winget</p> <pre><code>winget install Postman.Postman\n</code></pre> <p>Verification:</p> <p>After installation, open Postman. You should see the welcome screen.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#linux-installation","title":"Linux Installation","text":"<p>Method 1: Using Snap (Recommended for Ubuntu/Debian)</p> <pre><code># Install snapd if not already installed\nsudo apt update\nsudo apt install snapd\n\n# Install Postman\nsudo snap install postman\n</code></pre> <p>Method 2: Using Tarball (All Linux Distributions)</p> <ol> <li>Download the Linux tarball from Postman Download Page</li> <li>Extract the archive:</li> </ol> <pre><code># Extract to a directory\ntar -xzf Postman-linux-x64-*.tar.gz\n\n# Move to /opt for system-wide access\nsudo mv Postman /opt/\n\n# Create a symbolic link for easy access\nsudo ln -s /opt/Postman/Postman /usr/local/bin/postman\n</code></pre> <ol> <li>Create a desktop entry (optional):</li> </ol> <pre><code># Create desktop entry file\ncat &gt; ~/.local/share/applications/postman.desktop &lt;&lt; EOF\n[Desktop Entry]\nName=Postman\nExec=/opt/Postman/Postman\nIcon=/opt/Postman/app/resources/app/assets/icon.png\nTerminal=false\nType=Application\nCategories=Development;\nEOF\n</code></pre> <p>Method 3: Using AppImage</p> <ol> <li>Download the AppImage from the Postman website</li> <li>Make it executable:</li> </ol> <pre><code>chmod +x Postman-*.AppImage\n./Postman-*.AppImage\n</code></pre> <p>Verification:</p> <p>Launch Postman from terminal:</p> <pre><code>postman\n</code></pre> <p>Or from applications menu if desktop entry was created.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#creating-a-postman-account","title":"Creating a Postman Account","text":"<p>Why create an account?</p> <ul> <li>Sync Across Devices: Access your collections from any computer</li> <li>Team Collaboration: Share collections with teammates</li> <li>Cloud Backup: Your work is saved automatically</li> <li>Advanced Features: Access to team workspaces and integrations</li> </ul> <p>Steps to Create Account:</p> <ol> <li>Open Postman</li> <li>Click \"Sign Up\" or \"Create Account\"</li> <li>Enter your email address</li> <li>Choose a password</li> <li>Verify your email (check inbox)</li> <li>Sign in to Postman</li> </ol> <p>Note: You can use Postman without an account, but you'll miss out on syncing and collaboration features.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#initial-setup-and-preferences","title":"Initial Setup and Preferences","text":"<p>Accessing Settings:</p> <ul> <li>Windows/Linux: Click the gear icon (\u2699\ufe0f) in the top-right corner</li> <li>Or go to: File \u2192 Settings (or Postman \u2192 Preferences on Linux)</li> </ul> <p>Important Settings to Configure:</p> <ol> <li>Theme: Choose Light or Dark theme (Settings \u2192 Theme)</li> <li>Editor Font Size: Adjust for readability (Settings \u2192 Editor)</li> <li>Request Timeout: Set default timeout (Settings \u2192 General)</li> <li>SSL Certificate Verification: Keep enabled for security (Settings \u2192 General)</li> <li>Send Cookies: Enable to maintain session (Settings \u2192 General)</li> </ol> <p>Keyboard Shortcuts:</p> <ul> <li>Ctrl+N (Windows/Linux): New request</li> <li>Ctrl+S: Save request</li> <li>Ctrl+Enter: Send request</li> <li>Ctrl+/: Toggle comment</li> <li>Ctrl+B: Toggle sidebar</li> </ul>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#understanding-the-postman-interface","title":"Understanding the Postman Interface","text":""},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#main-components","title":"Main Components","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Postman                                 [\u2699\ufe0f] [\u2601\ufe0f] [\ud83d\udc64]     \u2502  \u2190 Top Bar\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502          \u2502  GET  [URL Bar]                    [Send]       \u2502  \u2190 Request Builder\n\u2502 Sidebar  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502          \u2502  \u2502 Params \u2502 Authorization \u2502 Headers \u2502 Body   \u2502   \u2502\n\u2502          \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502          \u2502                                                  \u2502\n\u2502          \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502          \u2502  \u2502 Response                                \u2502   \u2502  \u2190 Response Viewer\n\u2502          \u2502  \u2502 Status: 200 OK                          \u2502   \u2502\n\u2502          \u2502  \u2502 Body \u2502 Headers \u2502 Cookies \u2502 Test Results \u2502   \u2502\n\u2502          \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#sidebar-components","title":"Sidebar Components","text":"<p>1. Collections - Organize related requests into folders - Share collections with team - Run multiple requests in sequence</p> <p>2. APIs - Define API schemas - Generate documentation - Create mock servers</p> <p>3. Environments - Store variables for different environments - Switch between dev/staging/production - Manage configuration values</p> <p>4. History - View all requests you've sent - Re-run previous requests - Save requests to collections</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#request-builder","title":"Request Builder","text":"<p>1. HTTP Method Dropdown - Select GET, POST, PUT, PATCH, DELETE, etc. - Custom methods also supported</p> <p>2. URL Bar - Enter the API endpoint URL - Supports variables: <code>{{base_url}}/api/tasks/</code> - Auto-complete for saved URLs</p> <p>3. Tabs - Params: Query parameters (e.g., <code>?page=1&amp;limit=10</code>) - Authorization: Authentication settings - Headers: HTTP headers - Body: Request body (for POST, PUT, PATCH) - Pre-request Script: JavaScript code before request - Tests: JavaScript code to test response</p> <p>4. Send Button - Executes the request - Shows response below</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#response-viewer","title":"Response Viewer","text":"<p>1. Status Code - Shows HTTP status (200, 404, 500, etc.) - Color-coded (green = success, red = error)</p> <p>2. Response Time - How long the request took - Useful for performance testing</p> <p>3. Response Size - Size of the response body - Helps identify large responses</p> <p>4. Tabs - Body: Response content (JSON, XML, HTML, etc.) - Headers: Response headers - Cookies: Set cookies - Test Results: Results of test scripts</p> <p>5. Body View Options - Pretty: Formatted JSON/XML - Raw: Unformatted text - Preview: Rendered HTML - Visualize: Custom visualization</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#console","title":"Console","text":"<p>Access: Click \"Console\" button at bottom or press Ctrl+Alt+C</p> <p>What it shows: - All HTTP requests and responses - Console.log() output from scripts - Errors and warnings - Network request details</p> <p>Why it's useful: - Debug request issues - See exact headers sent - View script execution logs - Troubleshoot problems</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#sending-your-first-request","title":"Sending Your First Request","text":""},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#step-by-step-your-first-get-request","title":"Step-by-Step: Your First GET Request","text":"<p>Let's test a public API to get started:</p> <p>1. Create a New Request</p> <ul> <li>Click \"New\" button (top-left)</li> <li>Select \"HTTP Request\"</li> <li>Or press Ctrl+N</li> </ul> <p>2. Set the Request</p> <ul> <li>Method: Select GET (default)</li> <li>URL: Enter <code>https://jsonplaceholder.typicode.com/posts/1</code></li> <li>Click \"Send\"</li> </ul> <p>3. View the Response</p> <p>You should see: - Status: <code>200 OK</code> - Body: JSON data with post information - Time: Response time in milliseconds</p> <p>Congratulations! You've sent your first API request.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#testing-your-local-django-api","title":"Testing Your Local Django API","text":"<p>Prerequisites: - Django server running on <code>http://localhost:8000</code> - An API endpoint (e.g., <code>/api/tasks/</code>)</p> <p>Steps:</p> <ol> <li>Create New Request</li> <li> <p>Click \"New\" \u2192 \"HTTP Request\"</p> </li> <li> <p>Configure Request</p> </li> <li>Method: GET</li> <li>URL: <code>http://localhost:8000/api/tasks/</code></li> <li> <p>Click \"Send\"</p> </li> <li> <p>View Response</p> </li> <li>If server is running: You'll see your API data</li> <li>If server is not running: Connection error</li> </ol> <p>Common First Request Issues:</p> Issue Solution \"Could not get response\" Check if Django server is running \"Connection refused\" Verify URL and port (usually 8000) \"404 Not Found\" Check URL path matches your Django URLs \"CORS error\" Add CORS headers in Django settings"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#http-methods-explained","title":"HTTP Methods Explained","text":""},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#get-retrieve-data","title":"GET - Retrieve Data","text":"<p>Purpose: Fetch data from the server</p> <p>When to use: - List all items: <code>GET /api/tasks/</code> - Get single item: <code>GET /api/tasks/1/</code> - Search/filter: <code>GET /api/tasks/?completed=true</code></p> <p>Example in Postman:</p> <pre><code>Method: GET\nURL: http://localhost:8000/api/tasks/\n</code></pre> <p>No body required - data comes in URL or query parameters.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#post-create-new-resource","title":"POST - Create New Resource","text":"<p>Purpose: Create a new item on the server</p> <p>When to use: - Create new task: <code>POST /api/tasks/</code> - Register user: <code>POST /api/register/</code> - Submit form data</p> <p>Example in Postman:</p> <pre><code>Method: POST\nURL: http://localhost:8000/api/tasks/\nBody (raw JSON):\n{\n  \"title\": \"Learn Postman\",\n  \"description\": \"Complete the Postman guide\",\n  \"completed\": false\n}\n</code></pre> <p>Important: Set Content-Type header to <code>application/json</code></p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#put-full-update","title":"PUT - Full Update","text":"<p>Purpose: Replace entire resource with new data</p> <p>When to use: - Update all fields of an item - Replace existing resource completely</p> <p>Example in Postman:</p> <pre><code>Method: PUT\nURL: http://localhost:8000/api/tasks/1/\nBody (raw JSON):\n{\n  \"title\": \"Updated Task\",\n  \"description\": \"Updated description\",\n  \"completed\": true\n}\n</code></pre> <p>Note: PUT requires ALL fields, even if unchanged.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#patch-partial-update","title":"PATCH - Partial Update","text":"<p>Purpose: Update only specific fields</p> <p>When to use: - Update single field: <code>PATCH /api/tasks/1/</code> with <code>{\"completed\": true}</code> - Update multiple fields without sending all data</p> <p>Example in Postman:</p> <pre><code>Method: PATCH\nURL: http://localhost:8000/api/tasks/1/\nBody (raw JSON):\n{\n  \"completed\": true\n}\n</code></pre> <p>Note: PATCH only updates provided fields.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#delete-remove-resource","title":"DELETE - Remove Resource","text":"<p>Purpose: Delete an item from the server</p> <p>When to use: - Delete task: <code>DELETE /api/tasks/1/</code> - Remove user account - Delete any resource</p> <p>Example in Postman:</p> <pre><code>Method: DELETE\nURL: http://localhost:8000/api/tasks/1/\n</code></pre> <p>No body required - item ID is in URL.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#summary-table","title":"Summary Table","text":"Method Purpose Body Required? Idempotent? GET Read data No Yes POST Create new Yes No PUT Full update Yes Yes PATCH Partial update Yes No DELETE Delete No Yes <p>Idempotent = Can be called multiple times with same result.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#working-with-request-headers","title":"Working with Request Headers","text":""},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#what-are-headers","title":"What are Headers?","text":"<p>Headers are metadata sent with HTTP requests that provide additional information about the request or response.</p> <p>Common Headers:</p> <ul> <li>Content-Type: Type of data being sent (JSON, form-data, etc.)</li> <li>Authorization: Authentication credentials</li> <li>Accept: What response format you want</li> <li>User-Agent: Information about the client</li> </ul>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#adding-headers-in-postman","title":"Adding Headers in Postman","text":"<p>Method 1: Headers Tab</p> <ol> <li>Click \"Headers\" tab in request builder</li> <li>Click \"Add Header\" or use key-value fields</li> <li>Enter header name (e.g., <code>Content-Type</code>)</li> <li>Enter header value (e.g., <code>application/json</code>)</li> <li>Postman auto-completes common headers</li> </ol> <p>Method 2: Bulk Edit</p> <ol> <li>Click \"Bulk Edit\" in Headers tab</li> <li>Paste headers in format:</li> </ol> <pre><code>Content-Type: application/json\nAccept: application/json\nAuthorization: Bearer token123\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#common-headers-for-drf-apis","title":"Common Headers for DRF APIs","text":"<p>Content-Type</p> <pre><code>Content-Type: application/json\n</code></pre> <p>Why: Tells server you're sending JSON data. Required for POST/PUT/PATCH with JSON body.</p> <p>Accept</p> <pre><code>Accept: application/json\n</code></pre> <p>Why: Tells server you want JSON response. DRF returns JSON by default, but good practice to specify.</p> <p>Authorization (Bearer Token)</p> <pre><code>Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGc...\n</code></pre> <p>Why: Authenticates requests. Used with JWT or token authentication.</p> <p>Authorization (Basic Auth)</p> <pre><code>Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=\n</code></pre> <p>Why: Basic username/password authentication (base64 encoded).</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#preset-headers","title":"Preset Headers","text":"<p>Postman provides preset headers for common scenarios:</p> <ol> <li>Click \"Presets\" dropdown in Headers tab</li> <li>Select from:</li> <li>JSON: Sets <code>Content-Type: application/json</code></li> <li>XML: Sets <code>Content-Type: application/xml</code></li> <li>Form URL Encoded: Sets appropriate content type</li> <li>Multipart Form: For file uploads</li> </ol>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#managing-headers","title":"Managing Headers","text":"<p>Disable Header Temporarily: - Uncheck the checkbox next to header - Header stays but won't be sent</p> <p>Delete Header: - Hover over header row - Click \"X\" icon</p> <p>Duplicate Header: - Right-click header - Select \"Duplicate\"</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#request-body-and-data-types","title":"Request Body and Data Types","text":""},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#when-to-use-request-body","title":"When to Use Request Body","text":"<p>Request body is used with: - POST: Creating new resources - PUT: Full updates - PATCH: Partial updates</p> <p>GET and DELETE don't use request body - data goes in URL or headers.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#body-types-in-postman","title":"Body Types in Postman","text":"<p>Postman supports multiple body formats:</p> <p>1. none - No body (for GET, DELETE requests) - Default for GET requests</p> <p>2. form-data - HTML form submission - Key-value pairs - Supports file uploads</p> <p>3. x-www-form-urlencoded - URL-encoded form data - Similar to form-data but encoded differently - No file upload support</p> <p>4. raw - Send raw data (JSON, XML, text, etc.) - Most common for REST APIs - Choose format from dropdown (JSON, XML, HTML, Text)</p> <p>5. binary - Upload binary files (images, PDFs, etc.) - Select file from computer</p> <p>6. GraphQL - For GraphQL queries and mutations - Advanced feature</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#json-body-most-common","title":"JSON Body (Most Common)","text":"<p>When to use: Most DRF APIs use JSON</p> <p>Steps:</p> <ol> <li>Select \"Body\" tab</li> <li>Choose \"raw\"</li> <li>Select \"JSON\" from dropdown (or \"Text\" and type JSON)</li> <li>Enter JSON data:</li> </ol> <pre><code>{\n  \"title\": \"My Task\",\n  \"description\": \"Task description\",\n  \"completed\": false\n}\n</code></pre> <p>Example: Creating a Task</p> <pre><code>Method: POST\nURL: http://localhost:8000/api/tasks/\nHeaders:\n  Content-Type: application/json\nBody (raw JSON):\n{\n  \"title\": \"Learn Postman\",\n  \"description\": \"Complete Postman guide\",\n  \"completed\": false\n}\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#form-data","title":"Form Data","text":"<p>When to use: HTML forms, file uploads</p> <p>Steps:</p> <ol> <li>Select \"Body\" tab</li> <li>Choose \"form-data\"</li> <li>Add key-value pairs:</li> <li>Key: <code>title</code></li> <li>Value: <code>My Task</code></li> <li>For files, change type to \"File\" and select file</li> </ol> <p>Example:</p> <pre><code>Method: POST\nURL: http://localhost:8000/api/tasks/\nBody (form-data):\n  title: \"My Task\"\n  description: \"Task description\"\n  file: [Select File]\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#url-encoded-form","title":"URL-Encoded Form","text":"<p>When to use: Traditional form submissions</p> <p>Steps:</p> <ol> <li>Select \"Body\" tab</li> <li>Choose \"x-www-form-urlencoded\"</li> <li>Add key-value pairs</li> </ol> <p>Example:</p> <pre><code>Method: POST\nURL: http://localhost:8000/api/tasks/\nBody (x-www-form-urlencoded):\n  title: My Task\n  description: Task description\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#binary-body","title":"Binary Body","text":"<p>When to use: Uploading files directly</p> <p>Steps:</p> <ol> <li>Select \"Body\" tab</li> <li>Choose \"binary\"</li> <li>Click \"Select File\"</li> <li>Choose file from computer</li> </ol> <p>Example:</p> <pre><code>Method: POST\nURL: http://localhost:8000/api/tasks/1/upload/\nBody (binary):\n  [Select PDF file]\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#json-formatting-tips","title":"JSON Formatting Tips","text":"<p>Valid JSON:</p> <pre><code>{\n  \"title\": \"Task\",\n  \"completed\": false,\n  \"tags\": [\"work\", \"urgent\"]\n}\n</code></pre> <p>Invalid JSON (Common Mistakes):</p> <pre><code>// \u274c Trailing comma\n{\n  \"title\": \"Task\",\n  \"completed\": false,  // \u2190 Remove this comma\n}\n\n// \u274c Single quotes (use double quotes)\n{\n  'title': 'Task'  // \u274c Wrong\n}\n\n// \u274c Missing quotes around keys\n{\n  title: \"Task\"  // \u274c Wrong\n}\n</code></pre> <p>Postman Auto-Formatting:</p> <ul> <li>Postman validates JSON as you type</li> <li>Red underline = syntax error</li> <li>Click \"Beautify\" to format JSON nicely</li> </ul>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#organizing-requests-with-collections","title":"Organizing Requests with Collections","text":""},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#what-are-collections","title":"What are Collections?","text":"<p>Collections are groups of related API requests. Think of them as folders for organizing your API testing.</p> <p>Why use Collections?</p> <ul> <li>Organization: Group related requests together</li> <li>Sharing: Share entire collection with team</li> <li>Automation: Run all requests in sequence</li> <li>Documentation: Auto-generate API docs</li> <li>Version Control: Export/import collections</li> </ul>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#creating-a-collection","title":"Creating a Collection","text":"<p>Method 1: New Collection Button</p> <ol> <li>Click \"New\" button (top-left)</li> <li>Select \"Collection\"</li> <li>Enter collection name (e.g., \"DRF Task API\")</li> <li>(Optional) Add description</li> <li>Click \"Create\"</li> </ol> <p>Method 2: From Request</p> <ol> <li>Create or open a request</li> <li>Click \"Save\" button</li> <li>Click \"+ Create Collection\"</li> <li>Enter name and create</li> <li>Save request to new collection</li> </ol> <p>Method 3: Sidebar</p> <ol> <li>Right-click in sidebar</li> <li>Select \"New Collection\"</li> <li>Enter name and create</li> </ol>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#adding-requests-to-collection","title":"Adding Requests to Collection","text":"<p>Method 1: Save Existing Request</p> <ol> <li>Create or modify a request</li> <li>Click \"Save\" button</li> <li>Select collection from dropdown</li> <li>(Optional) Change request name</li> <li>Click \"Save\"</li> </ol> <p>Method 2: Drag and Drop</p> <ol> <li>Find request in History</li> <li>Drag it to collection in sidebar</li> <li>Drop to add</li> </ol> <p>Method 3: Create in Collection</p> <ol> <li>Right-click collection</li> <li>Select \"Add Request\"</li> <li>Configure request</li> <li>It's automatically saved to collection</li> </ol>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#organizing-with-folders","title":"Organizing with Folders","text":"<p>Create Folder:</p> <ol> <li>Right-click collection</li> <li>Select \"Add Folder\"</li> <li>Enter folder name (e.g., \"Authentication\", \"Tasks\", \"Users\")</li> </ol> <p>Organize Requests:</p> <ul> <li>Drag requests into folders</li> <li>Create nested folders for better organization</li> </ul> <p>Example Structure:</p> <pre><code>DRF API Collection\n\u251c\u2500\u2500 Authentication\n\u2502   \u251c\u2500\u2500 Login\n\u2502   \u251c\u2500\u2500 Register\n\u2502   \u2514\u2500\u2500 Refresh Token\n\u251c\u2500\u2500 Tasks\n\u2502   \u251c\u2500\u2500 List Tasks\n\u2502   \u251c\u2500\u2500 Create Task\n\u2502   \u251c\u2500\u2500 Get Task\n\u2502   \u251c\u2500\u2500 Update Task\n\u2502   \u2514\u2500\u2500 Delete Task\n\u2514\u2500\u2500 Users\n    \u251c\u2500\u2500 List Users\n    \u2514\u2500\u2500 Get Profile\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#collection-settings","title":"Collection Settings","text":"<p>Access: Right-click collection \u2192 \"Edit\"</p> <p>Settings:</p> <ol> <li>Name: Collection name</li> <li>Description: What this collection is for</li> <li>Authorization: Set auth for all requests (can override per request)</li> <li>Pre-request Script: Run before each request</li> <li>Tests: Run after each request</li> <li>Variables: Collection-level variables</li> </ol>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#collection-variables","title":"Collection Variables","text":"<p>Why: Store values used across multiple requests in the collection.</p> <p>Example: Base URL for all requests</p> <p>Set Collection Variable:</p> <ol> <li>Right-click collection \u2192 \"Edit\"</li> <li>Go to \"Variables\" tab</li> <li>Add variable:</li> <li>Variable: <code>base_url</code></li> <li>Initial Value: <code>http://localhost:8000</code></li> <li>Current Value: <code>http://localhost:8000</code></li> <li>Click \"Save\"</li> </ol> <p>Use in Requests:</p> <p>In URL bar, use: <code>{{base_url}}/api/tasks/</code></p> <p>Postman replaces <code>{{base_url}}</code> with the actual value.</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#running-collections","title":"Running Collections","text":"<p>Collection Runner:</p> <ol> <li>Right-click collection</li> <li>Select \"Run collection\"</li> <li>Configure run settings:</li> <li>Select requests to run</li> <li>Set iterations (how many times)</li> <li>Set delay between requests</li> <li>Click \"Run DRF API Collection\"</li> <li>View results</li> </ol> <p>Use Cases:</p> <ul> <li>Test all endpoints after code changes</li> <li>Verify API still works</li> <li>Run automated tests</li> <li>Performance testing</li> </ul>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#sharing-collections","title":"Sharing Collections","text":"<p>Export Collection:</p> <ol> <li>Right-click collection</li> <li>Select \"Export\"</li> <li>Choose format (Collection v2.1 recommended)</li> <li>Save file</li> <li>Share file with team</li> </ol> <p>Import Collection:</p> <ol> <li>Click \"Import\" button (top-left)</li> <li>Select \"File\" or \"Link\"</li> <li>Choose collection file or paste link</li> <li>Click \"Import\"</li> </ol> <p>Share via Link (Postman Account Required):</p> <ol> <li>Right-click collection</li> <li>Select \"Share Collection\"</li> <li>Choose visibility (Team, Public, Private)</li> <li>Copy link and share</li> </ol>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#using-environments-and-variables","title":"Using Environments and Variables","text":""},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#what-are-environments","title":"What are Environments?","text":"<p>Environments are sets of variables that you can switch between easily. Common use cases:</p> <ul> <li>Development: <code>http://localhost:8000</code></li> <li>Staging: <code>https://staging-api.example.com</code></li> <li>Production: <code>https://api.example.com</code></li> </ul> <p>Why use Environments?</p> <ul> <li>Quick Switching: Change base URL with one click</li> <li>No Manual Editing: Don't change URLs in every request</li> <li>Team Consistency: Everyone uses same environment values</li> <li>Security: Store sensitive data (API keys) securely</li> </ul>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#creating-an-environment","title":"Creating an Environment","text":"<p>Steps:</p> <ol> <li>Click \"Environments\" in sidebar (or eye icon in top-right)</li> <li>Click \"+\" button or \"Create Environment\"</li> <li>Enter environment name (e.g., \"Development\")</li> <li>Add variables:</li> <li>Variable: <code>base_url</code></li> <li>Initial Value: <code>http://localhost:8000</code></li> <li>Current Value: <code>http://localhost:8000</code></li> <li>Click \"Save\"</li> </ol> <p>Example Environment Variables:</p> Variable Initial Value Current Value <code>base_url</code> <code>http://localhost:8000</code> <code>http://localhost:8000</code> <code>api_key</code> <code>dev_key_123</code> <code>dev_key_123</code> <code>token</code> (leave empty) (will be set dynamically)"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#switching-environments","title":"Switching Environments","text":"<p>Method 1: Dropdown</p> <ol> <li>Click environment dropdown (top-right, shows \"No Environment\")</li> <li>Select environment (e.g., \"Development\")</li> <li>All <code>{{variable}}</code> references update automatically</li> </ol> <p>Method 2: Quick Switch</p> <ul> <li>Use keyboard shortcut (if configured)</li> <li>Or click environment name in top-right</li> </ul>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#using-variables-in-requests","title":"Using Variables in Requests","text":"<p>Syntax: <code>{{variable_name}}</code></p> <p>Example:</p> <pre><code>URL: {{base_url}}/api/tasks/\n</code></pre> <p>When \"Development\" environment is selected and <code>base_url = http://localhost:8000</code>, the actual URL becomes:</p> <pre><code>http://localhost:8000/api/tasks/\n</code></pre> <p>Where Variables Work:</p> <ul> <li>URL: <code>{{base_url}}/api/tasks/</code></li> <li>Headers: <code>Authorization: Bearer {{token}}</code></li> <li>Body: <code>{\"user_id\": {{user_id}}}</code></li> <li>Query Params: <code>?page={{page_number}}</code></li> </ul>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#variable-scopes","title":"Variable Scopes","text":"<p>Variables have different scopes (priority order):</p> <ol> <li>Local Variables (highest priority)</li> <li>Set in scripts</li> <li>Only available in current request</li> <li> <p>Example: <code>pm.variables.set(\"temp_id\", \"123\")</code></p> </li> <li> <p>Environment Variables</p> </li> <li>Defined in environment</li> <li>Available to all requests when environment is active</li> <li> <p>Example: <code>{{base_url}}</code></p> </li> <li> <p>Collection Variables</p> </li> <li>Defined in collection settings</li> <li>Available to all requests in collection</li> <li> <p>Example: <code>{{api_version}}</code></p> </li> <li> <p>Global Variables (lowest priority)</p> </li> <li>Available everywhere</li> <li>Use sparingly</li> <li>Example: <code>{{global_timeout}}</code></li> </ol> <p>Resolution Order: Local \u2192 Environment \u2192 Collection \u2192 Global</p>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#dynamic-variables","title":"Dynamic Variables","text":"<p>Postman provides built-in dynamic variables:</p> <p>Random Values:</p> <ul> <li><code>{{$randomInt}}</code>: Random integer (0-1000)</li> <li><code>{{$randomFirstName}}</code>: Random first name</li> <li><code>{{$randomLastName}}</code>: Random last name</li> <li><code>{{$randomEmail}}</code>: Random email</li> <li><code>{{$randomUUID}}</code>: Random UUID</li> </ul> <p>Example:</p> <pre><code>{\n  \"name\": \"{{$randomFirstName}} {{$randomLastName}}\",\n  \"email\": \"{{$randomEmail}}\",\n  \"age\": {{$randomInt}}\n}\n</code></pre> <p>Timestamp:</p> <ul> <li><code>{{$timestamp}}</code>: Current Unix timestamp</li> <li><code>{{$isoTimestamp}}</code>: ISO 8601 timestamp</li> </ul> <p>Example:</p> <pre><code>{\n  \"created_at\": \"{{$isoTimestamp}}\"\n}\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#setting-variables-from-response","title":"Setting Variables from Response","text":"<p>Why: Extract data from response and use in next request.</p> <p>Example: Save JWT Token</p> <ol> <li>Login Request (POST <code>/api/token/</code>)</li> </ol> <p>In Tests tab:</p> <pre><code>// Parse response\nconst response = pm.response.json();\n\n// Save token to environment variable\npm.environment.set(\"access_token\", response.access);\npm.environment.set(\"refresh_token\", response.refresh);\n</code></pre> <ol> <li>Use Token in Next Request</li> </ol> <p>In Authorization tab: - Type: Bearer Token - Token: <code>{{access_token}}</code></p> <p>Or in Headers:</p> <pre><code>Authorization: Bearer {{access_token}}\n</code></pre> <p>Common Use Cases:</p> <ul> <li>Save authentication tokens</li> <li>Extract IDs from created resources</li> <li>Store pagination tokens</li> <li>Capture session data</li> </ul>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#environment-best-practices","title":"Environment Best Practices","text":"<p>1. Use Descriptive Names</p> <pre><code>\u2705 Good: base_url, api_key, user_id\n\u274c Bad: url, key, id\n</code></pre> <p>2. Separate Environments</p> <ul> <li>Don't mix dev and prod values</li> <li>Create separate environments for each</li> </ul> <p>3. Use Initial Values</p> <ul> <li>Set default/example values</li> <li>Team members can override with Current Value</li> </ul> <p>4. Secure Sensitive Data</p> <ul> <li>Don't commit environment files with real API keys</li> <li>Use Postman's built-in secret management</li> <li>Rotate keys regularly</li> </ul> <p>5. Document Variables</p> <ul> <li>Add descriptions in environment</li> <li>Document what each variable is for</li> <li>Note any special requirements</li> </ul>"},{"location":"POSTMAN_GUIDE_PART1_BASICS.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Part 1 of the Postman guide. You now know how to:</p> <ul> <li>\u2705 Install Postman on Windows and Linux</li> <li>\u2705 Navigate the Postman interface</li> <li>\u2705 Send basic HTTP requests (GET, POST, PUT, PATCH, DELETE)</li> <li>\u2705 Work with headers and request bodies</li> <li>\u2705 Organize requests into collections</li> <li>\u2705 Use environments and variables</li> </ul> <p>Continue to Part 2 to learn: - Authentication (JWT, Token, OAuth) - Writing tests and scripts - Automation and collection runner - Mock servers and documentation - Advanced DRF API testing examples - Troubleshooting common issues</p> <p>Practice Exercises:</p> <ol> <li>Create a collection for your DRF API</li> <li>Set up Development and Production environments</li> <li>Create requests for all CRUD operations</li> <li>Use variables for base URL and authentication</li> <li>Organize requests into logical folders</li> </ol> <p>Ready for more? Continue to Postman Guide - Part 2: Advanced Features</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html","title":"Postman Beginner Guide - Part 2: Advanced Features","text":""},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#goal","title":"Goal","text":"<p>Master advanced Postman features including authentication, automated testing, scripting, mock servers, and comprehensive DRF API testing. By the end of Part 2, you'll be able to build robust API test suites and automate your testing workflow.</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Authentication in Postman</li> <li>Writing Tests and Scripts</li> <li>Pre-request Scripts</li> <li>Running Collections and Automation</li> <li>Mock Servers</li> <li>API Documentation</li> <li>Testing DRF APIs - Step by Step</li> <li>Common Errors and Solutions</li> <li>Best Practices</li> <li>Exercises</li> </ol>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#authentication-in-postman","title":"Authentication in Postman","text":""},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#why-authentication-matters","title":"Why Authentication Matters","text":"<p>Most APIs require authentication to: - Protect data: Only authorized users can access - Track usage: Know who made which requests - Enforce permissions: Control what users can do - Security: Prevent unauthorized access</p> <p>Real-world analogy: Authentication is like showing ID at a bank - you need to prove who you are before accessing your account.</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#authentication-types-in-postman","title":"Authentication Types in Postman","text":"<p>Postman supports multiple authentication methods:</p> <ol> <li>No Auth: Public APIs (no authentication)</li> <li>Bearer Token: JWT tokens, API keys</li> <li>Basic Auth: Username and password</li> <li>API Key: Custom API key authentication</li> <li>OAuth 2.0: Advanced authentication protocol</li> <li>Digest Auth: Challenge-response authentication</li> </ol>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#bearer-token-authentication-jwt","title":"Bearer Token Authentication (JWT)","text":"<p>Most common for DRF APIs - Used with JWT (JSON Web Tokens) or simple token authentication.</p> <p>How it works: 1. User logs in \u2192 Server returns JWT token 2. Client stores token 3. Client sends token in <code>Authorization</code> header: <code>Bearer &lt;token&gt;</code> 4. Server validates token and grants access</p> <p>Setting up in Postman:</p> <p>Method 1: Authorization Tab</p> <ol> <li>Open request</li> <li>Go to \"Authorization\" tab</li> <li>Type: Select \"Bearer Token\"</li> <li>Token: Enter your token (or use variable: <code>{{access_token}}</code>)</li> <li>Click \"Send\"</li> </ol> <p>Method 2: Headers Tab</p> <ol> <li>Go to \"Headers\" tab</li> <li>Add header:</li> <li>Key: <code>Authorization</code></li> <li>Value: <code>Bearer your_token_here</code></li> <li>Or: <code>Bearer {{access_token}}</code></li> </ol> <p>Example: DRF JWT Authentication</p> <p>Step 1: Get Token (Login Request)</p> <pre><code>Method: POST\nURL: {{base_url}}/api/token/\nHeaders:\n  Content-Type: application/json\nBody (raw JSON):\n{\n  \"username\": \"admin\",\n  \"password\": \"password123\"\n}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"access\": \"eyJ0eXAiOiJKV1QiLCJhbGc...\",\n  \"refresh\": \"eyJ0eXAiOiJKV1QiLCJhbGc...\"\n}\n</code></pre> <p>Step 2: Save Token to Environment</p> <p>In Tests tab of login request:</p> <pre><code>// Parse response\nconst response = pm.response.json();\n\n// Save tokens to environment\npm.environment.set(\"access_token\", response.access);\npm.environment.set(\"refresh_token\", response.refresh);\n\n// Optional: Set token expiration time\npm.environment.set(\"token_expires_at\", Date.now() + 3600000); // 1 hour\n</code></pre> <p>Step 3: Use Token in Protected Requests</p> <p>In Authorization tab: - Type: Bearer Token - Token: <code>{{access_token}}</code></p> <p>Now all requests will automatically include: <code>Authorization: Bearer &lt;token&gt;</code></p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#basic-authentication","title":"Basic Authentication","text":"<p>When to use: Simple username/password authentication.</p> <p>Setting up:</p> <ol> <li>Go to \"Authorization\" tab</li> <li>Type: Select \"Basic Auth\"</li> <li>Username: Enter username</li> <li>Password: Enter password</li> <li>Postman automatically encodes credentials</li> </ol> <p>How it works: - Postman encodes <code>username:password</code> in base64 - Sends as: <code>Authorization: Basic &lt;encoded_credentials&gt;</code></p> <p>Example:</p> <pre><code>Username: admin\nPassword: secret123\n</code></pre> <p>Postman sends: <code>Authorization: Basic YWRtaW46c2VjcmV0MTIz</code></p> <p>Using Variables:</p> <pre><code>Username: {{username}}\nPassword: {{password}}\n</code></pre> <p>Store credentials in environment variables for security.</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#api-key-authentication","title":"API Key Authentication","text":"<p>When to use: Custom API key authentication (not standard Bearer Token).</p> <p>Setting up:</p> <ol> <li>Go to \"Authorization\" tab</li> <li>Type: Select \"API Key\"</li> <li>Key: Header name (e.g., <code>X-API-Key</code>)</li> <li>Value: Your API key</li> <li>Add to: Choose where to add (Header, Query Params)</li> </ol> <p>Example:</p> <pre><code>Key: X-API-Key\nValue: {{api_key}}\nAdd to: Header\n</code></pre> <p>This adds header: <code>X-API-Key: your_api_key_here</code></p> <p>Common API Key Patterns:</p> <ul> <li>Header: <code>X-API-Key: &lt;key&gt;</code></li> <li>Header: <code>Authorization: ApiKey &lt;key&gt;</code></li> <li>Query Param: <code>?api_key=&lt;key&gt;</code></li> </ul>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#oauth-20-authentication","title":"OAuth 2.0 Authentication","text":"<p>When to use: Advanced authentication with access tokens, refresh tokens, and scopes.</p> <p>OAuth 2.0 Flow:</p> <ol> <li>Authorization Request: Get authorization code</li> <li>Token Request: Exchange code for access token</li> <li>Access Resource: Use access token for API calls</li> <li>Refresh Token: Get new access token when expired</li> </ol> <p>Setting up in Postman:</p> <ol> <li>Go to \"Authorization\" tab</li> <li>Type: Select \"OAuth 2.0\"</li> <li>Configure:</li> <li>Grant Type: Authorization Code, Client Credentials, etc.</li> <li>Auth URL: Authorization endpoint</li> <li>Access Token URL: Token endpoint</li> <li>Client ID: Your OAuth client ID</li> <li>Client Secret: Your OAuth client secret</li> <li>Scope: Requested permissions</li> <li>Click \"Get New Access Token\"</li> <li>Click \"Use Token\"</li> </ol> <p>For DRF with OAuth:</p> <p>Most DRF APIs use JWT (Bearer Token) instead of full OAuth 2.0. Use Bearer Token method above.</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#digest-authentication","title":"Digest Authentication","text":"<p>When to use: Challenge-response authentication (less common).</p> <p>Setting up:</p> <ol> <li>Go to \"Authorization\" tab</li> <li>Type: Select \"Digest Auth\"</li> <li>Enter Username and Password</li> <li>Postman handles the challenge-response automatically</li> </ol>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#collection-level-authentication","title":"Collection-Level Authentication","text":"<p>Why: Set authentication once for entire collection.</p> <p>Setting up:</p> <ol> <li>Right-click collection \u2192 \"Edit\"</li> <li>Go to \"Authorization\" tab</li> <li>Select authentication type</li> <li>Configure credentials</li> <li>All requests in collection inherit this auth</li> </ol> <p>Override per Request:</p> <ul> <li>Individual requests can override collection auth</li> <li>Set different auth in request's Authorization tab</li> </ul> <p>Example Collection Auth:</p> <pre><code>Type: Bearer Token\nToken: {{access_token}}\n</code></pre> <p>All requests in collection automatically use this token.</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#token-refresh-flow","title":"Token Refresh Flow","text":"<p>Problem: JWT tokens expire. Need to refresh automatically.</p> <p>Solution: Pre-request script to check and refresh token.</p> <p>Step 1: Check Token Expiration</p> <p>In Pre-request Script tab of protected requests:</p> <pre><code>// Get token expiration time\nconst tokenExpiresAt = pm.environment.get(\"token_expires_at\");\nconst now = Date.now();\n\n// If token expired or expires in next 5 minutes, refresh it\nif (!tokenExpiresAt || now &gt;= (tokenExpiresAt - 300000)) {\n    // Token expired or expiring soon, refresh it\n    pm.sendRequest({\n        url: pm.environment.get(\"base_url\") + \"/api/token/refresh/\",\n        method: \"POST\",\n        header: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: {\n            mode: \"raw\",\n            raw: JSON.stringify({\n                refresh: pm.environment.get(\"refresh_token\")\n            })\n        }\n    }, function (err, res) {\n        if (!err &amp;&amp; res.code === 200) {\n            const response = res.json();\n            pm.environment.set(\"access_token\", response.access);\n            pm.environment.set(\"token_expires_at\", Date.now() + 3600000);\n        }\n    });\n}\n</code></pre> <p>Step 2: Use Token</p> <p>Token is automatically refreshed before request, so it's always valid.</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#writing-tests-and-scripts","title":"Writing Tests and Scripts","text":""},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#why-write-tests","title":"Why Write Tests?","text":"<p>Benefits: - Automated Validation: Check if API works correctly - Catch Bugs Early: Find issues before production - Documentation: Tests show expected behavior - Regression Testing: Ensure changes don't break existing features - CI/CD Integration: Run tests in automated pipelines</p> <p>Real-world analogy: Tests are like quality checks - you verify the product works before shipping.</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#test-scripts-tab","title":"Test Scripts Tab","text":"<p>Location: \"Tests\" tab in request builder</p> <p>When tests run: After response is received</p> <p>Language: JavaScript (Postman uses a JavaScript runtime)</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#basic-test-examples","title":"Basic Test Examples","text":"<p>Test 1: Check Status Code</p> <pre><code>pm.test(\"Status code is 200\", function () {\n    pm.response.to.have.status(200);\n});\n</code></pre> <p>Test 2: Check Response Time</p> <pre><code>pm.test(\"Response time is less than 500ms\", function () {\n    pm.expect(pm.response.responseTime).to.be.below(500);\n});\n</code></pre> <p>Test 3: Check Response Body Contains Data</p> <pre><code>pm.test(\"Response has tasks array\", function () {\n    const response = pm.response.json();\n    pm.expect(response).to.have.property(\"results\");\n    pm.expect(response.results).to.be.an(\"array\");\n});\n</code></pre> <p>Test 4: Check Specific Field Value</p> <pre><code>pm.test(\"Task has title field\", function () {\n    const response = pm.response.json();\n    pm.expect(response).to.have.property(\"title\");\n    pm.expect(response.title).to.be.a(\"string\");\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#common-test-assertions","title":"Common Test Assertions","text":"<p>Status Code Tests:</p> <pre><code>pm.test(\"Status is 200\", () =&gt; pm.response.to.have.status(200));\npm.test(\"Status is 201\", () =&gt; pm.response.to.have.status(201));\npm.test(\"Status is not 404\", () =&gt; pm.expect(pm.response.code).to.not.equal(404));\npm.test(\"Status is success\", () =&gt; pm.response.to.be.success);\npm.test(\"Status is client error\", () =&gt; pm.response.to.be.clientError);\npm.test(\"Status is server error\", () =&gt; pm.response.to.be.serverError);\n</code></pre> <p>Response Time Tests:</p> <pre><code>pm.test(\"Response time &lt; 200ms\", () =&gt; {\n    pm.expect(pm.response.responseTime).to.be.below(200);\n});\n</code></pre> <p>Header Tests:</p> <pre><code>pm.test(\"Content-Type is JSON\", () =&gt; {\n    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n</code></pre> <p>Body Tests:</p> <pre><code>pm.test(\"Response is JSON\", () =&gt; {\n    pm.response.to.be.json;\n});\n\npm.test(\"Response has property\", () =&gt; {\n    const json = pm.response.json();\n    pm.expect(json).to.have.property(\"id\");\n});\n\npm.test(\"Property value matches\", () =&gt; {\n    const json = pm.response.json();\n    pm.expect(json.completed).to.be.false;\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#advanced-test-examples","title":"Advanced Test Examples","text":"<p>Test: Validate JSON Schema</p> <pre><code>pm.test(\"Response matches schema\", function () {\n    const schema = {\n        type: \"object\",\n        properties: {\n            id: { type: \"number\" },\n            title: { type: \"string\" },\n            completed: { type: \"boolean\" }\n        },\n        required: [\"id\", \"title\", \"completed\"]\n    };\n\n    pm.response.to.have.jsonSchema(schema);\n});\n</code></pre> <p>Test: Check Array Length</p> <pre><code>pm.test(\"Returns at least 5 tasks\", function () {\n    const response = pm.response.json();\n    pm.expect(response.results).to.have.length.of.at.least(5);\n});\n</code></pre> <p>Test: Validate All Items in Array</p> <pre><code>pm.test(\"All tasks have required fields\", function () {\n    const response = pm.response.json();\n    response.results.forEach(function(task) {\n        pm.expect(task).to.have.property(\"id\");\n        pm.expect(task).to.have.property(\"title\");\n        pm.expect(task.id).to.be.a(\"number\");\n    });\n});\n</code></pre> <p>Test: Save Data for Next Request</p> <pre><code>pm.test(\"Save task ID for next request\", function () {\n    const response = pm.response.json();\n    pm.environment.set(\"task_id\", response.id);\n    pm.collectionVariables.set(\"last_created_task_id\", response.id);\n});\n</code></pre> <p>Test: Compare with Previous Response</p> <pre><code>pm.test(\"Task count increased\", function () {\n    const currentCount = pm.response.json().count;\n    const previousCount = pm.environment.get(\"previous_task_count\") || 0;\n    pm.expect(currentCount).to.be.above(previousCount);\n    pm.environment.set(\"previous_task_count\", currentCount);\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#test-organization","title":"Test Organization","text":"<p>Multiple Tests in One Request:</p> <pre><code>// Test 1: Status\npm.test(\"Status is 200\", () =&gt; pm.response.to.have.status(200));\n\n// Test 2: Response time\npm.test(\"Fast response\", () =&gt; {\n    pm.expect(pm.response.responseTime).to.be.below(300);\n});\n\n// Test 3: Data validation\npm.test(\"Valid task data\", () =&gt; {\n    const task = pm.response.json();\n    pm.expect(task).to.have.property(\"id\");\n    pm.expect(task).to.have.property(\"title\");\n    pm.expect(task.completed).to.be.a(\"boolean\");\n});\n</code></pre> <p>Descriptive Test Names:</p> <pre><code>// \u274c Bad\npm.test(\"Test 1\", () =&gt; {});\n\n// \u2705 Good\npm.test(\"GET /api/tasks/ returns 200 status\", () =&gt; {\n    pm.response.to.have.status(200);\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#collection-level-tests","title":"Collection-Level Tests","text":"<p>Why: Run tests after every request in collection.</p> <p>Setting up:</p> <ol> <li>Right-click collection \u2192 \"Edit\"</li> <li>Go to \"Tests\" tab</li> <li>Add tests that run after each request</li> </ol> <p>Example Collection Test:</p> <pre><code>// Log all requests\nconsole.log(\"Request:\", pm.request.url.toString());\n\n// Check if request was successful\npm.test(\"Request completed\", () =&gt; {\n    pm.expect(pm.response.code).to.be.oneOf([200, 201, 204]);\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#pre-request-scripts","title":"Pre-request Scripts","text":""},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#what-are-pre-request-scripts","title":"What are Pre-request Scripts?","text":"<p>Scripts that run before the request is sent. Useful for: - Setting dynamic headers - Generating tokens - Calculating values - Preparing request data</p> <p>When they run: Just before sending the request</p> <p>Location: \"Pre-request Script\" tab</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#common-use-cases","title":"Common Use Cases","text":"<p>1. Set Timestamp Header</p> <pre><code>// Set current timestamp\npm.environment.set(\"timestamp\", Date.now());\n\n// Or ISO format\npm.environment.set(\"iso_timestamp\", new Date().toISOString());\n</code></pre> <p>2. Generate Random Data</p> <pre><code>// Generate random email\nconst randomEmail = `user${Math.floor(Math.random() * 10000)}@example.com`;\npm.environment.set(\"random_email\", randomEmail);\n\n// Generate random ID\nconst randomId = Math.floor(Math.random() * 1000);\npm.variables.set(\"random_id\", randomId);\n</code></pre> <p>3. Calculate Hash/Signature</p> <pre><code>// Example: Calculate HMAC signature\nconst crypto = require('crypto-js');\nconst message = pm.request.url.toString() + pm.request.body;\nconst secret = pm.environment.get(\"api_secret\");\nconst signature = crypto.HmacSHA256(message, secret).toString();\npm.environment.set(\"signature\", signature);\n</code></pre> <p>4. Refresh Token if Expired</p> <pre><code>// Check if token is expired\nconst tokenExpiresAt = pm.environment.get(\"token_expires_at\");\nconst now = Date.now();\n\nif (!tokenExpiresAt || now &gt;= tokenExpiresAt) {\n    // Refresh token\n    pm.sendRequest({\n        url: pm.environment.get(\"base_url\") + \"/api/token/refresh/\",\n        method: \"POST\",\n        header: { \"Content-Type\": \"application/json\" },\n        body: {\n            mode: \"raw\",\n            raw: JSON.stringify({\n                refresh: pm.environment.get(\"refresh_token\")\n            })\n        }\n    }, function (err, res) {\n        if (!err &amp;&amp; res.code === 200) {\n            const response = res.json();\n            pm.environment.set(\"access_token\", response.access);\n            pm.environment.set(\"token_expires_at\", Date.now() + 3600000);\n        }\n    });\n}\n</code></pre> <p>5. Set Dynamic Headers</p> <pre><code>// Set custom header with timestamp\npm.request.headers.add({\n    key: \"X-Request-ID\",\n    value: pm.variables.replaceIn(\"{{$randomUUID}}\")\n});\n\n// Set authorization header dynamically\nconst token = pm.environment.get(\"access_token\");\nif (token) {\n    pm.request.headers.add({\n        key: \"Authorization\",\n        value: \"Bearer \" + token\n    });\n}\n</code></pre> <p>6. Modify Request Body</p> <pre><code>// Get current body\nconst body = JSON.parse(pm.request.body.raw);\n\n// Modify it\nbody.created_at = new Date().toISOString();\nbody.user_id = pm.environment.get(\"user_id\");\n\n// Update request body\npm.request.body.raw = JSON.stringify(body);\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#collection-level-pre-request-scripts","title":"Collection-Level Pre-request Scripts","text":"<p>Why: Run script before every request in collection.</p> <p>Setting up:</p> <ol> <li>Right-click collection \u2192 \"Edit\"</li> <li>Go to \"Pre-request Script\" tab</li> <li>Add script</li> </ol> <p>Example: Set Common Headers</p> <pre><code>// Set common headers for all requests\npm.request.headers.add({\n    key: \"X-API-Version\",\n    value: \"v1\"\n});\n\npm.request.headers.add({\n    key: \"X-Client-ID\",\n    value: pm.environment.get(\"client_id\")\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#running-collections-and-automation","title":"Running Collections and Automation","text":""},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#collection-runner","title":"Collection Runner","text":"<p>What it does: Runs multiple requests in sequence automatically.</p> <p>Use cases: - Test entire API workflow - Regression testing - Performance testing - Automated test suites</p> <p>How to use:</p> <ol> <li>Right-click collection \u2192 \"Run collection\"</li> <li>Configure settings:</li> <li>Iterations: How many times to run (e.g., 1, 5, 10)</li> <li>Delay: Milliseconds between requests</li> <li>Data File: CSV/JSON with test data</li> <li>Select Requests: Choose which requests to run</li> <li>Click \"Run \" <li>View results</li>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#collection-runner-settings","title":"Collection Runner Settings","text":"<p>Iterations: - Run collection multiple times - Useful for load testing - Example: 10 iterations = run all requests 10 times</p> <p>Delay: - Wait time between requests (milliseconds) - Prevents overwhelming server - Example: 1000ms = 1 second delay</p> <p>Data File: - CSV or JSON file with test data - Each iteration uses different row - Example: Test with different users</p> <p>Request Order: - Drag requests to reorder - Run in specific sequence - Example: Login \u2192 Create \u2192 Read \u2192 Update \u2192 Delete</p> <p>Stop on Error: - Stop if any request fails - Useful for debugging - Or continue and report all errors</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#viewing-results","title":"Viewing Results","text":"<p>Summary: - Total requests run - Passed/Failed count - Average response time</p> <p>Request Details: - Individual request results - Test results for each - Response data</p> <p>Export Results: - Save as JSON/HTML - Share with team - Include in reports</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#newman-command-line-runner","title":"Newman - Command Line Runner","text":"<p>What is Newman? Postman's command-line collection runner.</p> <p>Why use it? - Run in CI/CD pipelines - Automated testing - No GUI required - Integrate with scripts</p> <p>Installation:</p> <pre><code># Using npm\nnpm install -g newman\n\n# Using yarn\nyarn global add newman\n\n# Verify installation\nnewman --version\n</code></pre> <p>Basic Usage:</p> <pre><code># Export collection from Postman first\n# Then run:\nnewman run collection.json\n</code></pre> <p>With Environment:</p> <pre><code>newman run collection.json -e environment.json\n</code></pre> <p>Generate HTML Report:</p> <pre><code># Install reporter\nnpm install -g newman-reporter-html\n\n# Run with HTML report\nnewman run collection.json -r html --reporter-html-export report.html\n</code></pre> <p>Common Options:</p> <pre><code># Run with iterations\nnewman run collection.json -n 5\n\n# Run with delay\nnewman run collection.json -d 1000\n\n# Stop on first error\nnewman run collection.json --bail\n\n# Verbose output\nnewman run collection.json --verbose\n</code></pre> <p>CI/CD Integration Example (GitHub Actions):</p> <pre><code>name: API Tests\n\non: [push]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - name: Setup Node.js\n        uses: actions/setup-node@v2\n        with:\n          node-version: '16'\n      - name: Install Newman\n        run: npm install -g newman\n      - name: Run API Tests\n        run: newman run collection.json -e environment.json\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#mock-servers","title":"Mock Servers","text":""},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#what-are-mock-servers","title":"What are Mock Servers?","text":"<p>Mock servers simulate your API without needing the actual backend running.</p> <p>Why use them? - Frontend Development: Test frontend before backend is ready - Team Collaboration: Backend and frontend teams work in parallel - Testing: Test error scenarios easily - Documentation: Show API behavior</p> <p>Real-world analogy: Mock server is like a practice dummy - you can practice without the real thing.</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#creating-a-mock-server","title":"Creating a Mock Server","text":"<p>Method 1: From Collection</p> <ol> <li>Right-click collection \u2192 \"Mock Collection\"</li> <li>Enter mock server name</li> <li>Select environment (optional)</li> <li>Click \"Create Mock Server\"</li> <li>Copy mock server URL</li> </ol> <p>Method 2: From Request</p> <ol> <li>Open request</li> <li>Click \"Examples\" tab</li> <li>Click \"Add Example\"</li> <li>Set example response</li> <li>Save example</li> <li>Create mock server from collection</li> </ol>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#setting-up-example-responses","title":"Setting Up Example Responses","text":"<p>Why: Mock server uses examples to return responses.</p> <p>Steps:</p> <ol> <li>Open request in collection</li> <li>Click \"Examples\" tab (next to Params, Headers, etc.)</li> <li>Click \"Add Example\"</li> <li>Name example (e.g., \"Success Response\")</li> <li>Set response:</li> <li>Status Code: 200</li> <li>Body: JSON response</li> <li>Click \"Save\"</li> </ol> <p>Example: Task List Response</p> <pre><code>Status: 200 OK\nBody (raw JSON):\n{\n  \"count\": 2,\n  \"next\": null,\n  \"previous\": null,\n  \"results\": [\n    {\n      \"id\": 1,\n      \"title\": \"Example Task 1\",\n      \"completed\": false\n    },\n    {\n      \"id\": 2,\n      \"title\": \"Example Task 2\",\n      \"completed\": true\n    }\n  ]\n}\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#using-mock-server","title":"Using Mock Server","text":"<p>Get Mock URL:</p> <p>After creating mock server, you'll get a URL like:</p> <pre><code>https://abc123.mock.pstmn.io\n</code></pre> <p>Use in Requests:</p> <p>Replace your base URL with mock URL:</p> <pre><code>https://abc123.mock.pstmn.io/api/tasks/\n</code></pre> <p>Benefits:</p> <ul> <li>Works even if backend is down</li> <li>Consistent responses for testing</li> <li>Fast responses</li> <li>No database needed</li> </ul>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#advanced-mock-server-features","title":"Advanced Mock Server Features","text":"<p>Multiple Examples:</p> <p>Create different examples for different scenarios: - \"Success Response\" - 200 OK - \"Not Found\" - 404 - \"Unauthorized\" - 401 - \"Server Error\" - 500</p> <p>Conditional Responses:</p> <p>Use pre-request scripts to return different responses based on request data.</p> <p>Private Mock Servers:</p> <ul> <li>Only accessible with API key</li> <li>More secure</li> <li>For team use only</li> </ul>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#api-documentation","title":"API Documentation","text":""},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#auto-generate-documentation","title":"Auto-Generate Documentation","text":"<p>Postman can automatically generate API documentation from your collections.</p> <p>Why: - Always Up-to-date: Documentation matches your API - Easy Sharing: Share with team or public - Interactive: Try requests directly from docs - Professional: Looks polished</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#generating-documentation","title":"Generating Documentation","text":"<p>Steps:</p> <ol> <li>Open collection</li> <li>Click \"View Documentation\" (or right-click \u2192 \"View Documentation\")</li> <li>Click \"Publish\" (if not published)</li> <li>Configure:</li> <li>Visibility: Public, Team, or Private</li> <li>Description: Add overview</li> <li>Custom Domain: Use your domain (optional)</li> <li>Click \"Publish\"</li> <li>Copy documentation URL</li> </ol>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#documenting-requests","title":"Documenting Requests","text":"<p>Add Descriptions:</p> <ol> <li>Open request</li> <li>Click request name to edit</li> <li>Add description in markdown:</li> </ol> <pre><code>## Get Task List\n\nRetrieves a list of all tasks for the authenticated user.\n\n### Parameters\n\n- `page` (optional): Page number for pagination\n- `limit` (optional): Number of items per page\n\n### Response\n\nReturns a paginated list of tasks.\n</code></pre> <p>Add Examples:</p> <ol> <li>Go to \"Examples\" tab</li> <li>Add multiple examples:</li> <li>Success response</li> <li>Error responses</li> <li>Edge cases</li> </ol> <p>Add Request/Response Schemas:</p> <p>Document the expected request and response structure.</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#sharing-documentation","title":"Sharing Documentation","text":"<p>Public Documentation:</p> <ul> <li>Anyone with link can view</li> <li>Great for public APIs</li> <li>Searchable</li> </ul> <p>Team Documentation:</p> <ul> <li>Only team members can view</li> <li>Requires Postman account</li> <li>Can comment and collaborate</li> </ul> <p>Private Documentation:</p> <ul> <li>Only you can view</li> <li>For personal use</li> <li>Still accessible via link</li> </ul>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#testing-drf-apis-step-by-step","title":"Testing DRF APIs - Step by Step","text":""},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#complete-workflow-example","title":"Complete Workflow Example","text":"<p>Let's test a complete DRF Task API workflow.</p> <p>Prerequisites: - Django server running on <code>http://localhost:8000</code> - Task API with authentication - User account created</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#step-1-setup-environment","title":"Step 1: Setup Environment","text":"<p>Create Environment Variables:</p> <ol> <li>Create \"Development\" environment</li> <li>Add variables:</li> <li><code>base_url</code>: <code>http://localhost:8000</code></li> <li><code>username</code>: <code>admin</code></li> <li><code>password</code>: <code>password123</code></li> <li><code>access_token</code>: (leave empty)</li> <li><code>refresh_token</code>: (leave empty)</li> </ol>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#step-2-create-collection","title":"Step 2: Create Collection","text":"<p>Create \"DRF Task API\" Collection</p> <p>Organize requests in folders: - Authentication - Tasks (CRUD operations)</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#step-3-login-request","title":"Step 3: Login Request","text":"<p>Request Configuration:</p> <pre><code>Method: POST\nURL: {{base_url}}/api/token/\nHeaders:\n  Content-Type: application/json\nBody (raw JSON):\n{\n  \"username\": \"{{username}}\",\n  \"password\": \"{{password}}\"\n}\n</code></pre> <p>Tests:</p> <pre><code>// Check status\npm.test(\"Status is 200\", () =&gt; {\n    pm.response.to.have.status(200);\n});\n\n// Save tokens\nconst response = pm.response.json();\npm.environment.set(\"access_token\", response.access);\npm.environment.set(\"refresh_token\", response.refresh);\n\n// Verify tokens exist\npm.test(\"Access token received\", () =&gt; {\n    pm.expect(response).to.have.property(\"access\");\n    pm.expect(response.access).to.be.a(\"string\");\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#step-4-list-tasks","title":"Step 4: List Tasks","text":"<p>Request Configuration:</p> <pre><code>Method: GET\nURL: {{base_url}}/api/tasks/\nAuthorization:\n  Type: Bearer Token\n  Token: {{access_token}}\n</code></pre> <p>Tests:</p> <pre><code>pm.test(\"Status is 200\", () =&gt; {\n    pm.response.to.have.status(200);\n});\n\npm.test(\"Response is JSON\", () =&gt; {\n    pm.response.to.be.json;\n});\n\npm.test(\"Has results array\", () =&gt; {\n    const response = pm.response.json();\n    pm.expect(response).to.have.property(\"results\");\n    pm.expect(response.results).to.be.an(\"array\");\n});\n\npm.test(\"Fast response\", () =&gt; {\n    pm.expect(pm.response.responseTime).to.be.below(500);\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#step-5-create-task","title":"Step 5: Create Task","text":"<p>Request Configuration:</p> <pre><code>Method: POST\nURL: {{base_url}}/api/tasks/\nAuthorization:\n  Type: Bearer Token\n  Token: {{access_token}}\nHeaders:\n  Content-Type: application/json\nBody (raw JSON):\n{\n  \"title\": \"Test Task from Postman\",\n  \"description\": \"Created via Postman\",\n  \"completed\": false\n}\n</code></pre> <p>Tests:</p> <pre><code>pm.test(\"Status is 201\", () =&gt; {\n    pm.response.to.have.status(201);\n});\n\npm.test(\"Task created with ID\", () =&gt; {\n    const response = pm.response.json();\n    pm.expect(response).to.have.property(\"id\");\n    pm.environment.set(\"created_task_id\", response.id);\n});\n\npm.test(\"Task has correct data\", () =&gt; {\n    const response = pm.response.json();\n    pm.expect(response.title).to.equal(\"Test Task from Postman\");\n    pm.expect(response.completed).to.be.false;\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#step-6-get-single-task","title":"Step 6: Get Single Task","text":"<p>Request Configuration:</p> <pre><code>Method: GET\nURL: {{base_url}}/api/tasks/{{created_task_id}}/\nAuthorization:\n  Type: Bearer Token\n  Token: {{access_token}}\n</code></pre> <p>Tests:</p> <pre><code>pm.test(\"Status is 200\", () =&gt; {\n    pm.response.to.have.status(200);\n});\n\npm.test(\"Returns correct task\", () =&gt; {\n    const response = pm.response.json();\n    pm.expect(response.id).to.equal(parseInt(pm.environment.get(\"created_task_id\")));\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#step-7-update-task","title":"Step 7: Update Task","text":"<p>Request Configuration:</p> <pre><code>Method: PATCH\nURL: {{base_url}}/api/tasks/{{created_task_id}}/\nAuthorization:\n  Type: Bearer Token\n  Token: {{access_token}}\nHeaders:\n  Content-Type: application/json\nBody (raw JSON):\n{\n  \"completed\": true\n}\n</code></pre> <p>Tests:</p> <pre><code>pm.test(\"Status is 200\", () =&gt; {\n    pm.response.to.have.status(200);\n});\n\npm.test(\"Task updated\", () =&gt; {\n    const response = pm.response.json();\n    pm.expect(response.completed).to.be.true;\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#step-8-delete-task","title":"Step 8: Delete Task","text":"<p>Request Configuration:</p> <pre><code>Method: DELETE\nURL: {{base_url}}/api/tasks/{{created_task_id}}/\nAuthorization:\n  Type: Bearer Token\n  Token: {{access_token}}\n</code></pre> <p>Tests:</p> <pre><code>pm.test(\"Status is 204\", () =&gt; {\n    pm.response.to.have.status(204);\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#step-9-test-error-cases","title":"Step 9: Test Error Cases","text":"<p>Test 401 Unauthorized:</p> <pre><code>Method: GET\nURL: {{base_url}}/api/tasks/\nAuthorization: (remove or use invalid token)\n</code></pre> <p>Tests:</p> <pre><code>pm.test(\"Status is 401\", () =&gt; {\n    pm.response.to.have.status(401);\n});\n</code></pre> <p>Test 404 Not Found:</p> <pre><code>Method: GET\nURL: {{base_url}}/api/tasks/99999/\nAuthorization:\n  Type: Bearer Token\n  Token: {{access_token}}\n</code></pre> <p>Tests:</p> <pre><code>pm.test(\"Status is 404\", () =&gt; {\n    pm.response.to.have.status(404);\n});\n</code></pre>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#step-10-run-collection","title":"Step 10: Run Collection","text":"<ol> <li>Right-click collection \u2192 \"Run collection\"</li> <li>Ensure requests are in correct order:</li> <li>Login</li> <li>List Tasks</li> <li>Create Task</li> <li>Get Task</li> <li>Update Task</li> <li>Delete Task</li> <li>Click \"Run\"</li> <li>Review results</li> </ol>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#common-errors-and-solutions","title":"Common Errors and Solutions","text":""},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#error-could-not-get-response","title":"Error: \"Could not get response\"","text":"<p>Causes: - Server not running - Wrong URL - Network issues - Firewall blocking</p> <p>Solutions: 1. Check if Django server is running: <code>python manage.py runserver</code> 2. Verify URL is correct 3. Check network connection 4. Try <code>http://localhost:8000</code> in browser first</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#error-401-unauthorized","title":"Error: \"401 Unauthorized\"","text":"<p>Causes: - Missing authentication - Invalid token - Expired token</p> <p>Solutions: 1. Check Authorization tab is configured 2. Verify token is valid (not expired) 3. Re-login to get new token 4. Check token format: <code>Bearer &lt;token&gt;</code></p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#error-404-not-found","title":"Error: \"404 Not Found\"","text":"<p>Causes: - Wrong URL path - API endpoint doesn't exist - Typo in URL</p> <p>Solutions: 1. Verify URL matches Django URLs configuration 2. Check if endpoint exists: <code>python manage.py show_urls</code> 3. Test URL in browser first 4. Check for trailing slashes</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#error-400-bad-request","title":"Error: \"400 Bad Request\"","text":"<p>Causes: - Invalid JSON in body - Missing required fields - Wrong data types</p> <p>Solutions: 1. Validate JSON syntax (use JSON validator) 2. Check required fields in API documentation 3. Verify data types match API expectations 4. Check Content-Type header is <code>application/json</code></p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#error-500-internal-server-error","title":"Error: \"500 Internal Server Error\"","text":"<p>Causes: - Server-side error - Database issue - Code bug</p> <p>Solutions: 1. Check Django server logs 2. Verify database is accessible 3. Check for Python errors in console 4. Review API code for bugs</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#error-cors-error","title":"Error: \"CORS Error\"","text":"<p>Causes: - CORS not configured in Django - Wrong origin</p> <p>Solutions: 1. Install django-cors-headers: <code>pip install django-cors-headers</code> 2. Add to INSTALLED_APPS: <code>'corsheaders'</code> 3. Add middleware 4. Configure CORS_ALLOWED_ORIGINS</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#error-ssl-certificate-error","title":"Error: \"SSL Certificate Error\"","text":"<p>Causes: - Self-signed certificate - Invalid certificate</p> <p>Solutions: 1. For development: Disable SSL verification (Settings \u2192 General) 2. For production: Use valid SSL certificate 3. Add certificate to Postman (Settings \u2192 Certificates)</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#best-practices","title":"Best Practices","text":""},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#1-organize-your-collections","title":"1. Organize Your Collections","text":"<p>Do: - Group related requests - Use folders for categories - Name requests descriptively - Add descriptions</p> <p>Don't: - Put everything in one collection - Use vague names like \"Test 1\" - Mix different APIs</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#2-use-environments","title":"2. Use Environments","text":"<p>Do: - Create separate environments for dev/staging/prod - Use variables for URLs and credentials - Keep sensitive data in environment variables</p> <p>Don't: - Hardcode URLs in requests - Commit environment files with real credentials - Mix environment values</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#3-write-meaningful-tests","title":"3. Write Meaningful Tests","text":"<p>Do: - Test status codes - Validate response structure - Check response times - Use descriptive test names</p> <p>Don't: - Skip tests - Write vague test names - Test only happy paths</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#4-document-your-requests","title":"4. Document Your Requests","text":"<p>Do: - Add descriptions to requests - Document parameters - Include examples - Explain expected responses</p> <p>Don't: - Leave requests undocumented - Assume others know what requests do</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#5-version-control","title":"5. Version Control","text":"<p>Do: - Export collections regularly - Commit collection files to Git - Tag versions - Document changes</p> <p>Don't: - Only keep collections in Postman - Forget to export - Lose work</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#6-security","title":"6. Security","text":"<p>Do: - Use environment variables for secrets - Don't commit tokens - Rotate API keys regularly - Use different credentials per environment</p> <p>Don't: - Hardcode passwords - Share environment files publicly - Use production credentials in dev</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#exercises","title":"Exercises","text":""},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#exercise-1-complete-crud-workflow","title":"Exercise 1: Complete CRUD Workflow","text":"<p>Task: 1. Create a collection for a Book API 2. Set up environment with base URL 3. Create requests for:    - Login (get token)    - List books    - Create book    - Get single book    - Update book    - Delete book 4. Add tests to each request 5. Run collection and verify all pass</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#exercise-2-error-handling","title":"Exercise 2: Error Handling","text":"<p>Task: 1. Create requests to test error cases:    - 401 Unauthorized (no token)    - 404 Not Found (invalid ID)    - 400 Bad Request (invalid data)    - 403 Forbidden (no permission) 2. Write tests to verify correct error codes 3. Test error response structure</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#exercise-3-pagination-testing","title":"Exercise 3: Pagination Testing","text":"<p>Task: 1. Create requests to test pagination:    - Get first page    - Get second page    - Test page size parameter 2. Write tests to verify:    - Correct number of items per page    - Next/previous page links    - Total count</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#exercise-4-filtering-and-searching","title":"Exercise 4: Filtering and Searching","text":"<p>Task: 1. Test filtering endpoints:    - Filter by status    - Filter by date range    - Search by keyword 2. Write tests to verify:    - Filters work correctly    - Results match filters    - Empty results handled</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#exercise-5-token-refresh-flow","title":"Exercise 5: Token Refresh Flow","text":"<p>Task: 1. Create pre-request script to:    - Check if token is expired    - Refresh token if needed    - Use new token automatically 2. Test with expired token 3. Verify token refresh works</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#exercise-6-mock-server","title":"Exercise 6: Mock Server","text":"<p>Task: 1. Create mock server for your API 2. Add example responses for:    - Success cases    - Error cases 3. Test frontend with mock server 4. Verify mock responses match real API</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#exercise-7-collection-runner","title":"Exercise 7: Collection Runner","text":"<p>Task: 1. Set up collection runner 2. Configure:    - Multiple iterations    - Delay between requests    - Data file with test data 3. Run collection 4. Analyze results 5. Export report</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#exercise-8-documentation","title":"Exercise 8: Documentation","text":"<p>Task: 1. Add descriptions to all requests 2. Document parameters and responses 3. Add multiple examples 4. Publish documentation 5. Share with team</p>"},{"location":"POSTMAN_GUIDE_PART2_ADVANCED.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed both parts of the Postman guide. You now know:</p> <p>Part 1: - \u2705 Installation and setup - \u2705 Interface navigation - \u2705 Basic requests - \u2705 Collections and environments</p> <p>Part 2: - \u2705 Authentication (JWT, Basic, API Key) - \u2705 Writing tests and scripts - \u2705 Automation and collection runner - \u2705 Mock servers and documentation - \u2705 Complete DRF API testing workflow</p> <p>Continue Learning:</p> <ol> <li>Practice: Test your own APIs</li> <li>Explore: Try advanced Postman features</li> <li>Automate: Set up CI/CD with Newman</li> <li>Collaborate: Share collections with team</li> <li>Document: Create comprehensive API docs</li> </ol> <p>Resources:</p> <ul> <li>Postman Learning Center</li> <li>Postman API Documentation</li> <li>Newman Documentation</li> <li>Postman Community</li> </ul> <p>Related Guides:</p> <ul> <li>cURL Guide - Command-line API testing</li> <li>Level 2: Intermediate - DRF authentication and permissions</li> </ul> <p>Happy API Testing! \ud83d\ude80</p>"}]}