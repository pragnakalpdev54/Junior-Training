{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"index.html","title":"Django REST Framework Learning Guide","text":""},{"location":"index.html#welcome","title":"Welcome! \ud83d\udc4b","text":"<p>This comprehensive guide will take you from a complete beginner to an expert in Django REST Framework (DRF). Whether you're new to Python web development or have some experience, this structured learning path will help you master building REST APIs with Django.</p>"},{"location":"index.html#learning-path-overview","title":"\ud83d\udcda Learning Path Overview","text":"<p>This guide is divided into 6 levels, each building upon the previous one:</p> <ul> <li>Level 0: Complete Beginner - Python basics, web concepts, and environment setup</li> <li>Level 1: Foundations - Django basics, REST fundamentals, and your first API</li> <li>Level 2: Intermediate - Authentication, permissions, filtering, and pagination</li> <li>Level 3: Advanced - Relationships, nested serializers, and query optimization</li> <li>Level 4: Scalable - Caching, versioning, file uploads, and async views</li> <li>Level 5: Expert - Production deployment, GraphQL, WebSockets, and CI/CD</li> </ul>"},{"location":"index.html#time-estimates","title":"\u23f1\ufe0f Time Estimates","text":"Level Estimated Time Difficulty Level 0 2-4 hours \u2b50 Beginner Level 1 8-12 hours \u2b50 Beginner Level 2 10-15 hours \u2b50\u2b50 Intermediate Level 3 12-18 hours \u2b50\u2b50\u2b50 Advanced Level 4 15-20 hours \u2b50\u2b50\u2b50 Advanced Level 5 20-30 hours \u2b50\u2b50\u2b50 Expert <p>Total Estimated Time: 67-99 hours (approximately 2-3 months of part-time study)</p>"},{"location":"index.html#prerequisites","title":"\ud83d\udccb Prerequisites","text":""},{"location":"index.html#required-knowledge","title":"Required Knowledge","text":"<p>Before starting Level 0, you should have:</p> <ul> <li>\u2705 Basic Python knowledge:</li> <li>Variables, data types (strings, integers, lists, dictionaries)</li> <li>Functions and classes</li> <li>Basic file operations</li> <li> <p>Understanding of imports and modules</p> </li> <li> <p>\u2705 Command line basics:</p> </li> <li>How to navigate directories (<code>cd</code>, <code>ls</code>, <code>dir</code>)</li> <li>How to run Python scripts</li> <li> <p>Basic file operations</p> </li> <li> <p>\u2705 Text editor/IDE:</p> </li> <li>VS Code, PyCharm, or any code editor</li> <li>Comfortable writing and editing code</li> </ul>"},{"location":"index.html#optional-helpful-but-not-required","title":"Optional (Helpful but Not Required)","text":"<ul> <li>Basic understanding of HTML/CSS</li> <li>Familiarity with JSON format</li> <li>Basic understanding of databases (what they are, not how to use them)</li> <li>Git basics (helpful for version control)</li> </ul>"},{"location":"index.html#what-you-dont-need","title":"What You DON'T Need","text":"<ul> <li>\u274c Previous Django experience (we'll teach you!)</li> <li>\u274c Web development experience</li> <li>\u274c Database administration knowledge</li> <li>\u274c Advanced Python (we'll cover what you need)</li> </ul>"},{"location":"index.html#how-to-use-this-guide","title":"\ud83c\udfaf How to Use This Guide","text":""},{"location":"index.html#step-by-step-approach","title":"Step-by-Step Approach","text":"<ol> <li>Start with Level 0 - Even if you think you know Python, Level 0 covers essential concepts for web development</li> <li>Complete each level in order - Don't skip ahead; each level builds on the previous</li> <li>Do the exercises - Practice is essential for learning</li> <li>Try the trivia - Test your understanding</li> <li>Build projects - Apply what you learn in real projects</li> </ol>"},{"location":"index.html#learning-tips","title":"Learning Tips","text":"<ul> <li>Read the explanations - Don't just copy code; understand WHY</li> <li>Experiment - Try modifying examples to see what happens</li> <li>Ask questions - If something doesn't make sense, research it</li> <li>Take breaks - Learning takes time; don't rush</li> <li>Build something - Create your own API project alongside the guide</li> </ul>"},{"location":"index.html#tools-youll-need","title":"\ud83d\udee0\ufe0f Tools You'll Need","text":""},{"location":"index.html#required-software","title":"Required Software","text":"<ol> <li>Python 3.8+ - Download here</li> <li>Code Editor - VS Code (recommended) or PyCharm</li> <li>Terminal/Command Prompt - Built into your OS</li> <li>Web Browser - Chrome, Firefox, or Edge</li> </ol>"},{"location":"index.html#optional-tools","title":"Optional Tools","text":"<ul> <li>Postman - For testing APIs (we'll use cURL, but Postman is easier)</li> <li>Git - For version control</li> <li>Docker - For containerization (Level 5)</li> </ul>"},{"location":"index.html#guide-structure","title":"\ud83d\udcd6 Guide Structure","text":"<p>Each level follows this structure:</p> <ol> <li>Goal - What you'll learn</li> <li>Concepts - Theoretical understanding</li> <li>Step-by-Step Tutorials - Hands-on practice</li> <li>Code Examples - Real-world examples with explanations</li> <li>Exercises - Practice problems</li> <li>Trivia - Quick knowledge checks</li> <li>Add-ons - Optional advanced topics</li> </ol>"},{"location":"index.html#quick-start","title":"\ud83d\ude80 Quick Start","text":""},{"location":"index.html#for-complete-beginners","title":"For Complete Beginners","text":"<ol> <li>Start with LEVEL_0_BEGINNER.md</li> <li>Follow each section carefully</li> <li>Complete all exercises</li> <li>Move to Level 1 when comfortable</li> </ol>"},{"location":"index.html#for-those-with-python-experience","title":"For Those with Python Experience","text":"<ol> <li>Skim LEVEL_0_BEGINNER.md - Focus on web concepts</li> <li>Start with LEVEL_1_FOUNDATIONS.md</li> <li>Complete exercises to ensure understanding</li> </ol>"},{"location":"index.html#for-those-with-django-experience","title":"For Those with Django Experience","text":"<ol> <li>Review LEVEL_1_FOUNDATIONS.md - Focus on DRF-specific parts</li> <li>Start with LEVEL_2_INTERMEDIATE.md for authentication</li> <li>Use other levels as reference</li> </ol>"},{"location":"index.html#troubleshooting","title":"\ud83d\udc1b Troubleshooting","text":""},{"location":"index.html#common-issues","title":"Common Issues","text":""},{"location":"index.html#virtual-environment-problems","title":"Virtual Environment Problems","text":"<p>Problem: <code>python -m venv venv</code> doesn't work - Solution: Make sure Python is installed and in your PATH - Check: Run <code>python --version</code> (should be 3.8+)</p> <p>Problem: Can't activate virtual environment - Windows: Use <code>venv\\Scripts\\activate</code> (not <code>venv/bin/activate</code>) - Linux/Mac: Use <code>source venv/bin/activate</code> - Check: Your prompt should show <code>(venv)</code> when activated</p>"},{"location":"index.html#django-installation-issues","title":"Django Installation Issues","text":"<p>Problem: <code>pip install django</code> fails - Solution: Make sure virtual environment is activated - Check: Run <code>which pip</code> (should point to venv)</p> <p>Problem: <code>django-admin</code> command not found - Solution: Make sure Django is installed: <code>pip install django</code> - Check: Run <code>pip list</code> to see installed packages</p>"},{"location":"index.html#database-migration-errors","title":"Database Migration Errors","text":"<p>Problem: <code>makemigrations</code> shows no changes - Solution: Make sure your model is in <code>models.py</code> and app is in <code>INSTALLED_APPS</code> - Check: Verify model class is properly defined</p> <p>Problem: <code>migrate</code> fails with errors - Solution: Check for syntax errors in models - Check: Ensure all dependencies are installed</p>"},{"location":"index.html#import-errors","title":"Import Errors","text":"<p>Problem: <code>ModuleNotFoundError: No module named 'rest_framework'</code> - Solution: Install DRF: <code>pip install djangorestframework</code> - Check: Add <code>'rest_framework'</code> to <code>INSTALLED_APPS</code></p> <p>Problem: <code>ImportError: cannot import name 'X'</code> - Solution: Check spelling and ensure the module exists - Check: Verify you're in the correct directory</p>"},{"location":"index.html#getting-help","title":"Getting Help","text":"<ol> <li>Check the error message - Django/DRF errors are usually descriptive</li> <li>Read the documentation - Links provided in each level</li> <li>Search Stack Overflow - Most issues have been solved</li> <li>Check your code - Compare with examples in the guide</li> <li>Ask in Django communities - Django Discord, Reddit r/django</li> </ol>"},{"location":"index.html#additional-resources","title":"\ud83d\udcda Additional Resources","text":""},{"location":"index.html#official-documentation","title":"Official Documentation","text":"<ul> <li>Django Documentation</li> <li>Django REST Framework</li> <li>Python Documentation</li> </ul>"},{"location":"index.html#recommended-reading","title":"Recommended Reading","text":"<ul> <li>Two Scoops of Django - Best practices book</li> <li>Django for Beginners - Great for understanding Django</li> <li>Real Python - Excellent Python and Django tutorials</li> </ul>"},{"location":"index.html#video-resources","title":"Video Resources","text":"<ul> <li>Django REST Framework Official Tutorial (YouTube)</li> <li>Corey Schafer's Django Tutorial Series</li> <li>Real Python Django REST Framework Course</li> </ul>"},{"location":"index.html#progress-checklist","title":"\u2705 Progress Checklist","text":"<p>Track your progress through each level:</p> <ul> <li>[ ] Level 0: Complete Beginner</li> <li>[ ] Python basics review</li> <li>[ ] Web concepts understood</li> <li>[ ] Environment set up</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 1: Foundations</p> </li> <li>[ ] First API created</li> <li>[ ] Models, Serializers, Views understood</li> <li>[ ] CRUD operations working</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 2: Intermediate</p> </li> <li>[ ] Authentication implemented</li> <li>[ ] Permissions working</li> <li>[ ] Filtering and search added</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 3: Advanced</p> </li> <li>[ ] Relationships understood</li> <li>[ ] Nested serializers working</li> <li>[ ] Query optimization applied</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 4: Scalable</p> </li> <li>[ ] Caching implemented</li> <li>[ ] File uploads working</li> <li>[ ] API versioning set up</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 5: Expert</p> </li> <li>[ ] Production deployment done</li> <li>[ ] CI/CD pipeline working</li> <li>[ ] Monitoring set up</li> <li>[ ] All exercises completed</li> </ul>"},{"location":"index.html#next-steps-after-completion","title":"\ud83c\udf93 Next Steps After Completion","text":"<p>Once you've completed all levels:</p> <ol> <li>Build a real project - Apply your knowledge</li> <li>Contribute to open source - Django/DRF projects need help</li> <li>Read the source code - Understand how DRF works internally</li> <li>Teach others - Teaching reinforces learning</li> <li>Stay updated - Follow Django and DRF updates</li> </ol>"},{"location":"index.html#tips-for-success","title":"\ud83d\udca1 Tips for Success","text":"<ol> <li>Practice regularly - Code every day, even if just 30 minutes</li> <li>Build projects - Don't just follow tutorials; create something</li> <li>Read error messages - They tell you exactly what's wrong</li> <li>Use version control - Git helps you experiment safely</li> <li>Join communities - Learn from others</li> <li>Don't give up - Programming is hard, but you can do it!</li> </ol>"},{"location":"index.html#ready-to-start","title":"\ud83c\udf89 Ready to Start?","text":"<p>Begin your journey with LEVEL_0_BEGINNER.md!</p> <p>Good luck, and happy coding! \ud83d\ude80</p> <p>Note: This guide is a living document. If you find errors or have suggestions, please contribute!</p>"},{"location":"CURL_GUIDE.html","title":"cURL Command Guide for API Testing","text":""},{"location":"CURL_GUIDE.html#overview","title":"Overview","text":"<p>cURL (Client URL) is a command-line tool for making HTTP requests. It's the most reliable way to test REST APIs and is available on all operating systems. This guide will teach you how to use cURL to test your Django REST Framework APIs.</p>"},{"location":"CURL_GUIDE.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>What is cURL?</li> <li>Installation</li> <li>Basic Requests</li> <li>Headers and Content Types</li> <li>Authentication</li> <li>File Uploads</li> <li>Advanced Usage</li> <li>Examples by DRF Level</li> <li>Troubleshooting</li> </ol>"},{"location":"CURL_GUIDE.html#what-is-curl","title":"What is cURL?","text":"<p>cURL is a command-line tool that allows you to transfer data to or from a server using various protocols (HTTP, HTTPS, FTP, etc.). For API testing, we primarily use it for HTTP/HTTPS requests.</p> <p>Why use cURL? - Available on all platforms - No GUI needed - works in terminal - Scriptable and automatable - Shows raw HTTP requests/responses - Industry standard for API testing</p>"},{"location":"CURL_GUIDE.html#installation","title":"Installation","text":""},{"location":"CURL_GUIDE.html#linux","title":"Linux","text":"<p>Most Linux distributions come with cURL pre-installed. If not:</p> <pre><code># Ubuntu/Debian\nsudo apt install curl\n\n# CentOS/RHEL\nsudo yum install curl\n\n# Verify installation\ncurl --version\n</code></pre>"},{"location":"CURL_GUIDE.html#macos","title":"macOS","text":"<p>cURL comes pre-installed. Verify:</p> <pre><code>curl --version\n</code></pre>"},{"location":"CURL_GUIDE.html#windows","title":"Windows","text":"<p>Option 1: Windows 10/11 (Built-in) - cURL is included in Windows 10 version 1803 and later - Open PowerShell or Command Prompt and type: <code>curl --version</code></p> <p>Option 2: Download - Download from curl.se/windows/ - Or use Git Bash (includes cURL)</p> <p>Option 3: Using Chocolatey</p> <pre><code>choco install curl\n</code></pre>"},{"location":"CURL_GUIDE.html#basic-requests","title":"Basic Requests","text":""},{"location":"CURL_GUIDE.html#get-request","title":"GET Request","text":"<p>The simplest request - fetching data:</p> <pre><code># Basic GET request\ncurl http://localhost:8000/api/tasks/\n\n# With verbose output (see headers)\ncurl -v http://localhost:8000/api/tasks/\n\n# Pretty print JSON response (requires jq)\ncurl http://localhost:8000/api/tasks/ | jq\n\n# Save response to file\ncurl http://localhost:8000/api/tasks/ -o response.json\n\n# Follow redirects\ncurl -L http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#post-request","title":"POST Request","text":"<p>Creating new resources:</p> <pre><code># Basic POST with JSON data\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Learn DRF\", \"desc\": \"Complete the learning guide\", \"completed\": false}'\n\n# POST with data from file\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d @data.json\n\n# POST with form data\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -d \"title=Learn DRF\" \\\n  -d \"desc=Complete the learning guide\" \\\n  -d \"completed=false\"\n</code></pre>"},{"location":"CURL_GUIDE.html#put-request","title":"PUT Request","text":"<p>Full update of a resource:</p> <pre><code>curl -X PUT http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Updated Task\", \"desc\": \"Updated description\", \"completed\": true}'\n</code></pre>"},{"location":"CURL_GUIDE.html#patch-request","title":"PATCH Request","text":"<p>Partial update of a resource:</p> <pre><code>curl -X PATCH http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"completed\": true}'\n</code></pre>"},{"location":"CURL_GUIDE.html#delete-request","title":"DELETE Request","text":"<p>Deleting a resource:</p> <pre><code>curl -X DELETE http://localhost:8000/api/tasks/1/\n</code></pre>"},{"location":"CURL_GUIDE.html#headers-and-content-types","title":"Headers and Content Types","text":""},{"location":"CURL_GUIDE.html#setting-headers","title":"Setting Headers","text":"<pre><code># Single header\ncurl -H \"Content-Type: application/json\" http://localhost:8000/api/tasks/\n\n# Multiple headers\ncurl -H \"Content-Type: application/json\" \\\n     -H \"Accept: application/json\" \\\n     http://localhost:8000/api/tasks/\n\n# Custom header\ncurl -H \"X-Custom-Header: my-value\" http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#common-headers","title":"Common Headers","text":"<pre><code># JSON content\ncurl -H \"Content-Type: application/json\" ...\n\n# XML content\ncurl -H \"Content-Type: application/xml\" ...\n\n# Accept only JSON response\ncurl -H \"Accept: application/json\" ...\n\n# User agent\ncurl -H \"User-Agent: MyApp/1.0\" ...\n</code></pre>"},{"location":"CURL_GUIDE.html#authentication","title":"Authentication","text":""},{"location":"CURL_GUIDE.html#basic-authentication","title":"Basic Authentication","text":"<pre><code># Basic auth (username:password)\ncurl -u username:password http://localhost:8000/api/tasks/\n\n# Or with header\ncurl -H \"Authorization: Basic $(echo -n 'username:password' | base64)\" \\\n  http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#bearer-token-jwt","title":"Bearer Token (JWT)","text":"<pre><code># With Bearer token\ncurl -H \"Authorization: Bearer your_jwt_token_here\" \\\n  http://localhost:8000/api/tasks/\n\n# Store token in variable (bash)\nTOKEN=\"your_jwt_token_here\"\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#getting-jwt-token","title":"Getting JWT Token","text":"<pre><code># Login to get token\ncurl -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"admin\", \"password\": \"password123\"}' \\\n  | jq -r '.access'\n\n# Save token to variable\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"admin\", \"password\": \"password123\"}' \\\n  | jq -r '.access')\n\n# Use token in subsequent requests\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#file-uploads","title":"File Uploads","text":""},{"location":"CURL_GUIDE.html#upload-single-file","title":"Upload Single File","text":"<pre><code># Upload file\ncurl -X POST http://localhost:8000/api/tasks/1/upload/ \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -F \"file=@/path/to/file.pdf\"\n\n# Upload with additional data\ncurl -X POST http://localhost:8000/api/tasks/1/upload/ \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -F \"file=@/path/to/file.pdf\" \\\n  -F \"description=Task attachment\"\n</code></pre>"},{"location":"CURL_GUIDE.html#upload-multiple-files","title":"Upload Multiple Files","text":"<pre><code>curl -X POST http://localhost:8000/api/tasks/1/upload/ \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -F \"files=@/path/to/file1.pdf\" \\\n  -F \"files=@/path/to/file2.jpg\"\n</code></pre>"},{"location":"CURL_GUIDE.html#advanced-usage","title":"Advanced Usage","text":""},{"location":"CURL_GUIDE.html#verbose-mode","title":"Verbose Mode","text":"<p>See full request/response details:</p> <pre><code>curl -v http://localhost:8000/api/tasks/\n\n# Shows:\n# - Request headers\n# - Response headers\n# - SSL handshake (if HTTPS)\n# - Connection details\n</code></pre>"},{"location":"CURL_GUIDE.html#silent-mode","title":"Silent Mode","text":"<p>Suppress progress meter:</p> <pre><code>curl -s http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#show-only-response-headers","title":"Show Only Response Headers","text":"<pre><code>curl -I http://localhost:8000/api/tasks/\n\n# Or\ncurl -D - http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#follow-redirects","title":"Follow Redirects","text":"<pre><code>curl -L http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#timeout","title":"Timeout","text":"<pre><code># Set timeout to 10 seconds\ncurl --max-time 10 http://localhost:8000/api/tasks/\n\n# Connection timeout\ncurl --connect-timeout 5 http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#save-response-headers","title":"Save Response Headers","text":"<pre><code># Save headers to file\ncurl -D headers.txt http://localhost:8000/api/tasks/\n\n# Save both headers and body\ncurl -D headers.txt -o response.json http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#pretty-print-json","title":"Pretty Print JSON","text":"<pre><code># Using jq (install: sudo apt install jq)\ncurl http://localhost:8000/api/tasks/ | jq\n\n# Using python\ncurl http://localhost:8000/api/tasks/ | python -m json.tool\n</code></pre>"},{"location":"CURL_GUIDE.html#examples-by-drf-level","title":"Examples by DRF Level","text":""},{"location":"CURL_GUIDE.html#level-1-basic-crud-operations","title":"Level 1: Basic CRUD Operations","text":"<pre><code># GET - List all tasks\ncurl http://localhost:8000/api/tasks/\n\n# GET - Retrieve single task\ncurl http://localhost:8000/api/tasks/1/\n\n# POST - Create new task\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"title\": \"Learn DRF\",\n    \"desc\": \"Complete Level 1\",\n    \"completed\": false\n  }'\n\n# PUT - Update task\ncurl -X PUT http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"title\": \"Learn DRF - Updated\",\n    \"desc\": \"Completed Level 1\",\n    \"completed\": true\n  }'\n\n# PATCH - Partial update\ncurl -X PATCH http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"completed\": true}'\n\n# DELETE - Delete task\ncurl -X DELETE http://localhost:8000/api/tasks/1/\n</code></pre>"},{"location":"CURL_GUIDE.html#level-2-authenticated-requests","title":"Level 2: Authenticated Requests","text":"<pre><code># Step 1: Get JWT token\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"admin\", \"password\": \"password123\"}' \\\n  | python -c \"import sys, json; print(json.load(sys.stdin)['access'])\")\n\n# Step 2: Use token in requests\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n\n# Create task with authentication\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"title\": \"Private Task\",\n    \"desc\": \"Only visible to authenticated users\",\n    \"completed\": false\n  }'\n\n# Refresh token\nREFRESH_TOKEN=$(curl -s -X POST http://localhost:8000/api/token/refresh/ \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{\\\"refresh\\\": \\\"$REFRESH_TOKEN\\\"}\" \\\n  | python -c \"import sys, json; print(json.load(sys.stdin)['access'])\")\n</code></pre>"},{"location":"CURL_GUIDE.html#level-3-complex-nested-data","title":"Level 3: Complex Nested Data","text":"<pre><code># POST with nested relationships\ncurl -X POST http://localhost:8000/api/posts/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"title\": \"My First Post\",\n    \"content\": \"This is the content\",\n    \"author\": 1,\n    \"tags\": [1, 2, 3],\n    \"comments\": [\n      {\n        \"content\": \"Great post!\",\n        \"author\": 2\n      }\n    ]\n  }'\n\n# GET with nested data\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/posts/1/\n</code></pre>"},{"location":"CURL_GUIDE.html#level-4-file-uploads-and-versioned-apis","title":"Level 4: File Uploads and Versioned APIs","text":"<pre><code># File upload\ncurl -X POST http://localhost:8000/api/v1/tasks/1/attachments/ \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -F \"file=@/path/to/document.pdf\" \\\n  -F \"description=Task attachment\"\n\n# Versioned API (v1)\ncurl http://localhost:8000/api/v1/tasks/\n\n# Versioned API (v2)\ncurl http://localhost:8000/api/v2/tasks/\n\n# With version header\ncurl -H \"Accept: application/json; version=2\" \\\n  http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#level-5-graphql-queries","title":"Level 5: GraphQL Queries","text":"<pre><code># GraphQL query\ncurl -X POST http://localhost:8000/graphql/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"query\": \"query { tasks { id title completed } }\"\n  }'\n\n# GraphQL mutation\ncurl -X POST http://localhost:8000/graphql/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"query\": \"mutation { createTask(title: \\\"New Task\\\") { id title } }\"\n  }'\n</code></pre>"},{"location":"CURL_GUIDE.html#common-curl-flags-reference","title":"Common cURL Flags Reference","text":"Flag Description <code>-X METHOD</code> HTTP method (GET, POST, PUT, DELETE, etc.) <code>-H \"Header: value\"</code> Add header <code>-d \"data\"</code> Send data in request body <code>-F \"name=value\"</code> Form data (for file uploads) <code>-u user:pass</code> Basic authentication <code>-v</code> Verbose output <code>-s</code> Silent mode (no progress) <code>-i</code> Include response headers <code>-I</code> Head request (headers only) <code>-L</code> Follow redirects <code>-o file</code> Save output to file <code>-O</code> Save with remote filename <code>-D file</code> Save headers to file <code>--max-time SEC</code> Maximum time for request <code>--connect-timeout SEC</code> Connection timeout <code>-k</code> Allow insecure SSL connections <code>-c file</code> Save cookies to file <code>-b file</code> Load cookies from file"},{"location":"CURL_GUIDE.html#converting-postman-to-curl","title":"Converting Postman to cURL","text":""},{"location":"CURL_GUIDE.html#in-postman","title":"In Postman","text":"<ol> <li>Open your request in Postman</li> <li>Click \"Code\" button (bottom left)</li> <li>Select \"cURL\" from dropdown</li> <li>Copy the generated cURL command</li> </ol>"},{"location":"CURL_GUIDE.html#manual-conversion-tips","title":"Manual Conversion Tips","text":"<ul> <li>Headers: Each header becomes <code>-H \"Header: value\"</code></li> <li>Body: JSON becomes <code>-d '{\"key\": \"value\"}'</code></li> <li>Auth: Bearer token becomes <code>-H \"Authorization: Bearer token\"</code></li> <li>Files: Use <code>-F \"file=@path/to/file\"</code></li> </ul>"},{"location":"CURL_GUIDE.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"CURL_GUIDE.html#common-issues","title":"Common Issues","text":""},{"location":"CURL_GUIDE.html#1-connection-refused","title":"1. Connection Refused","text":"<pre><code># Check if server is running\ncurl http://localhost:8000/api/tasks/\n\n# Error: Connection refused\n# Solution: Start Django server\npython manage.py runserver\n</code></pre>"},{"location":"CURL_GUIDE.html#2-404-not-found","title":"2. 404 Not Found","text":"<pre><code># Check URL is correct\ncurl -v http://localhost:8000/api/tasks/\n\n# Verify URL patterns in Django\npython manage.py show_urls  # If installed\n</code></pre>"},{"location":"CURL_GUIDE.html#3-401-unauthorized","title":"3. 401 Unauthorized","text":"<pre><code># Missing or invalid token\n# Solution: Get new token\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"user\", \"password\": \"pass\"}' \\\n  | jq -r '.access')\n</code></pre>"},{"location":"CURL_GUIDE.html#4-400-bad-request","title":"4. 400 Bad Request","text":"<pre><code># Check JSON syntax\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Test\"}'  # Valid JSON\n\n# Use verbose mode to see error details\ncurl -v -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Test\"}'\n</code></pre>"},{"location":"CURL_GUIDE.html#5-ssl-certificate-errors","title":"5. SSL Certificate Errors","text":"<pre><code># For development (not recommended for production)\ncurl -k https://api.example.com/\n\n# Or specify certificate\ncurl --cacert /path/to/cert.pem https://api.example.com/\n</code></pre>"},{"location":"CURL_GUIDE.html#debugging-tips","title":"Debugging Tips","text":"<ol> <li>Use verbose mode: <code>curl -v</code> shows full request/response</li> <li>Check response headers: <code>curl -I</code> shows only headers</li> <li>Save responses: <code>curl -o response.json</code> to inspect later</li> <li>Test with simple request first: Start with GET before POST</li> <li>Validate JSON: Use <code>jq</code> or <code>python -m json.tool</code></li> </ol>"},{"location":"CURL_GUIDE.html#practice-exercises","title":"Practice Exercises","text":""},{"location":"CURL_GUIDE.html#exercise-1-basic-crud","title":"Exercise 1: Basic CRUD","text":"<pre><code># 1. List all tasks\ncurl http://localhost:8000/api/tasks/\n\n# 2. Create a task\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Exercise Task\", \"completed\": false}'\n\n# 3. Get the created task (use ID from step 2)\ncurl http://localhost:8000/api/tasks/1/\n\n# 4. Update the task\ncurl -X PATCH http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"completed\": true}'\n\n# 5. Delete the task\ncurl -X DELETE http://localhost:8000/api/tasks/1/\n</code></pre>"},{"location":"CURL_GUIDE.html#exercise-2-authentication-flow","title":"Exercise 2: Authentication Flow","text":"<pre><code># 1. Register a user\ncurl -X POST http://localhost:8000/api/register/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"testuser\", \"password\": \"testpass123\", \"email\": \"test@example.com\"}'\n\n# 2. Get JWT token\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"testuser\", \"password\": \"testpass123\"}' \\\n  | jq -r '.access')\n\n# 3. Use token to access protected endpoint\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"CURL_GUIDE.html#next-steps","title":"Next Steps","text":"<p>Now that you know cURL basics:</p> <ol> <li>Practice with your Level 1 API</li> <li>Use cURL to test all endpoints</li> <li>Create a script with common requests</li> <li>Refer back to this guide as you progress through levels</li> </ol> <p>For more information: - cURL Official Documentation - HTTPie - Alternative to cURL with better UX - Postman - GUI alternative</p> <p>Ready to test your APIs? Use these cURL commands as you work through each level of the Learning Guide!</p>"},{"location":"LEARNING_GUIDE.html","title":"Django REST Framework Learning Guide","text":""},{"location":"LEARNING_GUIDE.html#welcome","title":"Welcome! \ud83d\udc4b","text":"<p>This comprehensive guide will take you from a complete beginner to an expert in Django REST Framework (DRF). Whether you're new to Python web development or have some experience, this structured learning path will help you master building REST APIs with Django.</p>"},{"location":"LEARNING_GUIDE.html#learning-path-overview","title":"\ud83d\udcda Learning Path Overview","text":"<p>This guide is divided into 6 levels, each building upon the previous one:</p> <ul> <li>Level 0: Complete Beginner - Python basics, web concepts, and environment setup</li> <li>Level 1: Foundations - Django basics, REST fundamentals, and your first API</li> <li>Level 2: Intermediate - Authentication, permissions, filtering, and pagination</li> <li>Level 3: Advanced - Relationships, nested serializers, and query optimization</li> <li>Level 4: Scalable - Caching, versioning, file uploads, and async views</li> <li>Level 5: Expert - Production deployment, GraphQL, WebSockets, and CI/CD</li> </ul>"},{"location":"LEARNING_GUIDE.html#time-estimates","title":"\u23f1\ufe0f Time Estimates","text":"Level Estimated Time Difficulty Level 0 2-4 hours \u2b50 Beginner Level 1 8-12 hours \u2b50 Beginner Level 2 10-15 hours \u2b50\u2b50 Intermediate Level 3 12-18 hours \u2b50\u2b50\u2b50 Advanced Level 4 15-20 hours \u2b50\u2b50\u2b50 Advanced Level 5 20-30 hours \u2b50\u2b50\u2b50 Expert <p>Total Estimated Time: 67-99 hours (approximately 2-3 months of part-time study)</p>"},{"location":"LEARNING_GUIDE.html#prerequisites","title":"\ud83d\udccb Prerequisites","text":""},{"location":"LEARNING_GUIDE.html#required-knowledge","title":"Required Knowledge","text":"<p>Before starting Level 0, you should have:</p> <ul> <li>\u2705 Basic Python knowledge:</li> <li>Variables, data types (strings, integers, lists, dictionaries)</li> <li>Functions and classes</li> <li>Basic file operations</li> <li> <p>Understanding of imports and modules</p> </li> <li> <p>\u2705 Command line basics:</p> </li> <li>How to navigate directories (<code>cd</code>, <code>ls</code>, <code>dir</code>)</li> <li>How to run Python scripts</li> <li> <p>Basic file operations</p> </li> <li> <p>\u2705 Text editor/IDE:</p> </li> <li>VS Code, PyCharm, or any code editor</li> <li>Comfortable writing and editing code</li> </ul>"},{"location":"LEARNING_GUIDE.html#optional-helpful-but-not-required","title":"Optional (Helpful but Not Required)","text":"<ul> <li>Basic understanding of HTML/CSS</li> <li>Familiarity with JSON format</li> <li>Basic understanding of databases (what they are, not how to use them)</li> <li>Git basics (helpful for version control)</li> </ul>"},{"location":"LEARNING_GUIDE.html#what-you-dont-need","title":"What You DON'T Need","text":"<ul> <li>\u274c Previous Django experience (we'll teach you!)</li> <li>\u274c Web development experience</li> <li>\u274c Database administration knowledge</li> <li>\u274c Advanced Python (we'll cover what you need)</li> </ul>"},{"location":"LEARNING_GUIDE.html#how-to-use-this-guide","title":"\ud83c\udfaf How to Use This Guide","text":""},{"location":"LEARNING_GUIDE.html#step-by-step-approach","title":"Step-by-Step Approach","text":"<ol> <li>Start with Level 0 - Even if you think you know Python, Level 0 covers essential concepts for web development</li> <li>Complete each level in order - Don't skip ahead; each level builds on the previous</li> <li>Do the exercises - Practice is essential for learning</li> <li>Try the trivia - Test your understanding</li> <li>Build projects - Apply what you learn in real projects</li> </ol>"},{"location":"LEARNING_GUIDE.html#learning-tips","title":"Learning Tips","text":"<ul> <li>Read the explanations - Don't just copy code; understand WHY</li> <li>Experiment - Try modifying examples to see what happens</li> <li>Ask questions - If something doesn't make sense, research it</li> <li>Take breaks - Learning takes time; don't rush</li> <li>Build something - Create your own API project alongside the guide</li> </ul>"},{"location":"LEARNING_GUIDE.html#tools-youll-need","title":"\ud83d\udee0\ufe0f Tools You'll Need","text":""},{"location":"LEARNING_GUIDE.html#required-software","title":"Required Software","text":"<ol> <li>Python 3.8+ - Download here</li> <li>Code Editor - VS Code (recommended) or PyCharm</li> <li>Terminal/Command Prompt - Built into your OS</li> <li>Web Browser - Chrome, Firefox, or Edge</li> </ol>"},{"location":"LEARNING_GUIDE.html#optional-tools","title":"Optional Tools","text":"<ul> <li>Postman - For testing APIs (we'll use cURL, but Postman is easier)</li> <li>Git - For version control</li> <li>Docker - For containerization (Level 5)</li> </ul>"},{"location":"LEARNING_GUIDE.html#guide-structure","title":"\ud83d\udcd6 Guide Structure","text":"<p>Each level follows this structure:</p> <ol> <li>Goal - What you'll learn</li> <li>Concepts - Theoretical understanding</li> <li>Step-by-Step Tutorials - Hands-on practice</li> <li>Code Examples - Real-world examples with explanations</li> <li>Exercises - Practice problems</li> <li>Trivia - Quick knowledge checks</li> <li>Add-ons - Optional advanced topics</li> </ol>"},{"location":"LEARNING_GUIDE.html#quick-start","title":"\ud83d\ude80 Quick Start","text":""},{"location":"LEARNING_GUIDE.html#for-complete-beginners","title":"For Complete Beginners","text":"<ol> <li>Start with LEVEL_0_BEGINNER.md</li> <li>Follow each section carefully</li> <li>Complete all exercises</li> <li>Move to Level 1 when comfortable</li> </ol>"},{"location":"LEARNING_GUIDE.html#for-those-with-python-experience","title":"For Those with Python Experience","text":"<ol> <li>Skim LEVEL_0_BEGINNER.md - Focus on web concepts</li> <li>Start with LEVEL_1_FOUNDATIONS.md</li> <li>Complete exercises to ensure understanding</li> </ol>"},{"location":"LEARNING_GUIDE.html#for-those-with-django-experience","title":"For Those with Django Experience","text":"<ol> <li>Review LEVEL_1_FOUNDATIONS.md - Focus on DRF-specific parts</li> <li>Start with LEVEL_2_INTERMEDIATE.md for authentication</li> <li>Use other levels as reference</li> </ol>"},{"location":"LEARNING_GUIDE.html#troubleshooting","title":"\ud83d\udc1b Troubleshooting","text":""},{"location":"LEARNING_GUIDE.html#common-issues","title":"Common Issues","text":""},{"location":"LEARNING_GUIDE.html#virtual-environment-problems","title":"Virtual Environment Problems","text":"<p>Problem: <code>python -m venv venv</code> doesn't work - Solution: Make sure Python is installed and in your PATH - Check: Run <code>python --version</code> (should be 3.8+)</p> <p>Problem: Can't activate virtual environment - Windows: Use <code>venv\\Scripts\\activate</code> (not <code>venv/bin/activate</code>) - Linux/Mac: Use <code>source venv/bin/activate</code> - Check: Your prompt should show <code>(venv)</code> when activated</p>"},{"location":"LEARNING_GUIDE.html#django-installation-issues","title":"Django Installation Issues","text":"<p>Problem: <code>pip install django</code> fails - Solution: Make sure virtual environment is activated - Check: Run <code>which pip</code> (should point to venv)</p> <p>Problem: <code>django-admin</code> command not found - Solution: Make sure Django is installed: <code>pip install django</code> - Check: Run <code>pip list</code> to see installed packages</p>"},{"location":"LEARNING_GUIDE.html#database-migration-errors","title":"Database Migration Errors","text":"<p>Problem: <code>makemigrations</code> shows no changes - Solution: Make sure your model is in <code>models.py</code> and app is in <code>INSTALLED_APPS</code> - Check: Verify model class is properly defined</p> <p>Problem: <code>migrate</code> fails with errors - Solution: Check for syntax errors in models - Check: Ensure all dependencies are installed</p>"},{"location":"LEARNING_GUIDE.html#import-errors","title":"Import Errors","text":"<p>Problem: <code>ModuleNotFoundError: No module named 'rest_framework'</code> - Solution: Install DRF: <code>pip install djangorestframework</code> - Check: Add <code>'rest_framework'</code> to <code>INSTALLED_APPS</code></p> <p>Problem: <code>ImportError: cannot import name 'X'</code> - Solution: Check spelling and ensure the module exists - Check: Verify you're in the correct directory</p>"},{"location":"LEARNING_GUIDE.html#getting-help","title":"Getting Help","text":"<ol> <li>Check the error message - Django/DRF errors are usually descriptive</li> <li>Read the documentation - Links provided in each level</li> <li>Search Stack Overflow - Most issues have been solved</li> <li>Check your code - Compare with examples in the guide</li> <li>Ask in Django communities - Django Discord, Reddit r/django</li> </ol>"},{"location":"LEARNING_GUIDE.html#additional-resources","title":"\ud83d\udcda Additional Resources","text":""},{"location":"LEARNING_GUIDE.html#official-documentation","title":"Official Documentation","text":"<ul> <li>Django Documentation</li> <li>Django REST Framework</li> <li>Python Documentation</li> </ul>"},{"location":"LEARNING_GUIDE.html#recommended-reading","title":"Recommended Reading","text":"<ul> <li>Two Scoops of Django - Best practices book</li> <li>Django for Beginners - Great for understanding Django</li> <li>Real Python - Excellent Python and Django tutorials</li> </ul>"},{"location":"LEARNING_GUIDE.html#video-resources","title":"Video Resources","text":"<ul> <li>Django REST Framework Official Tutorial (YouTube)</li> <li>Corey Schafer's Django Tutorial Series</li> <li>Real Python Django REST Framework Course</li> </ul>"},{"location":"LEARNING_GUIDE.html#progress-checklist","title":"\u2705 Progress Checklist","text":"<p>Track your progress through each level:</p> <ul> <li>[ ] Level 0: Complete Beginner</li> <li>[ ] Python basics review</li> <li>[ ] Web concepts understood</li> <li>[ ] Environment set up</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 1: Foundations</p> </li> <li>[ ] First API created</li> <li>[ ] Models, Serializers, Views understood</li> <li>[ ] CRUD operations working</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 2: Intermediate</p> </li> <li>[ ] Authentication implemented</li> <li>[ ] Permissions working</li> <li>[ ] Filtering and search added</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 3: Advanced</p> </li> <li>[ ] Relationships understood</li> <li>[ ] Nested serializers working</li> <li>[ ] Query optimization applied</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 4: Scalable</p> </li> <li>[ ] Caching implemented</li> <li>[ ] File uploads working</li> <li>[ ] API versioning set up</li> <li> <p>[ ] All exercises completed</p> </li> <li> <p>[ ] Level 5: Expert</p> </li> <li>[ ] Production deployment done</li> <li>[ ] CI/CD pipeline working</li> <li>[ ] Monitoring set up</li> <li>[ ] All exercises completed</li> </ul>"},{"location":"LEARNING_GUIDE.html#next-steps-after-completion","title":"\ud83c\udf93 Next Steps After Completion","text":"<p>Once you've completed all levels:</p> <ol> <li>Build a real project - Apply your knowledge</li> <li>Contribute to open source - Django/DRF projects need help</li> <li>Read the source code - Understand how DRF works internally</li> <li>Teach others - Teaching reinforces learning</li> <li>Stay updated - Follow Django and DRF updates</li> </ol>"},{"location":"LEARNING_GUIDE.html#tips-for-success","title":"\ud83d\udca1 Tips for Success","text":"<ol> <li>Practice regularly - Code every day, even if just 30 minutes</li> <li>Build projects - Don't just follow tutorials; create something</li> <li>Read error messages - They tell you exactly what's wrong</li> <li>Use version control - Git helps you experiment safely</li> <li>Join communities - Learn from others</li> <li>Don't give up - Programming is hard, but you can do it!</li> </ol>"},{"location":"LEARNING_GUIDE.html#ready-to-start","title":"\ud83c\udf89 Ready to Start?","text":"<p>Begin your journey with LEVEL_0_BEGINNER.md!</p> <p>Good luck, and happy coding! \ud83d\ude80</p> <p>Note: This guide is a living document. If you find errors or have suggestions, please contribute!</p>"},{"location":"LEVEL_0_BEGINNER.html","title":"Level 0: Complete Beginner - Python &amp; Web Fundamentals","text":""},{"location":"LEVEL_0_BEGINNER.html#goal","title":"Goal","text":"<p>Before diving into Django REST Framework, you need to understand the fundamentals. This level covers Python basics for web development, web concepts, and environment setup. By the end, you'll be ready to start building APIs with Django.</p>"},{"location":"LEVEL_0_BEGINNER.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Why Learn This?</li> <li>Python Basics for Web Development</li> <li>Understanding the Web</li> <li>What is an API?</li> <li>Environment Setup Explained</li> <li>Virtual Environments - Why and How</li> <li>Understanding JSON</li> <li>HTTP Basics</li> <li>Command Line Essentials</li> <li>Practice Problems</li> <li>Trivia</li> </ol>"},{"location":"LEVEL_0_BEGINNER.html#why-learn-this","title":"Why Learn This?","text":""},{"location":"LEVEL_0_BEGINNER.html#what-is-django-rest-framework","title":"What is Django REST Framework?","text":"<p>Django REST Framework (DRF) is a powerful toolkit for building Web APIs in Django. Think of it as a set of tools that makes it easy to create APIs that can be used by web applications, mobile apps, or any other client.</p>"},{"location":"LEVEL_0_BEGINNER.html#why-use-drf","title":"Why Use DRF?","text":"<ul> <li>Fast Development: Build APIs quickly with less code</li> <li>Powerful Features: Authentication, permissions, serialization built-in</li> <li>Well Documented: Excellent documentation and community</li> <li>Industry Standard: Used by many companies worldwide</li> <li>Flexible: Works with any frontend (React, Vue, mobile apps)</li> </ul>"},{"location":"LEVEL_0_BEGINNER.html#what-youll-build","title":"What You'll Build","text":"<p>By the end of this guide, you'll be able to build: - REST APIs for web applications - Backends for mobile apps - Microservices - Data APIs for analytics - Integration APIs for third-party services</p>"},{"location":"LEVEL_0_BEGINNER.html#python-basics-for-web-development","title":"Python Basics for Web Development","text":""},{"location":"LEVEL_0_BEGINNER.html#variables-and-data-types","title":"Variables and Data Types","text":"<p>Why this matters: APIs work with data. Understanding Python data types helps you understand how APIs handle data.</p> <pre><code># Strings - Text data (like names, descriptions)\nname = \"John Doe\"\ndescription = \"A book about Python\"\n\n# Integers - Whole numbers (like IDs, counts)\nbook_id = 1\npage_count = 250\n\n# Floats - Decimal numbers (like prices)\nprice = 29.99\n\n# Booleans - True/False (like completion status)\nis_published = True\nis_available = False\n\n# Lists - Ordered collections (like arrays of items)\nbooks = [\"Book 1\", \"Book 2\", \"Book 3\"]\nnumbers = [1, 2, 3, 4, 5]\n\n# Dictionaries - Key-value pairs (like JSON objects)\nbook = {\n    \"id\": 1,\n    \"title\": \"Python Guide\",\n    \"author\": \"John Doe\",\n    \"price\": 29.99\n}\n</code></pre> <p>Explanation:  - Strings are used for text data in APIs (titles, descriptions, names) - Integers/Floats are used for numeric data (IDs, prices, counts) - Booleans are used for yes/no states (published, completed, active) - Lists are used for collections of items (list of books, list of users) - Dictionaries are the most important - they represent JSON objects in APIs</p>"},{"location":"LEVEL_0_BEGINNER.html#functions","title":"Functions","text":"<p>Why this matters: Views in Django are functions (or methods). Understanding functions helps you understand how APIs process requests.</p> <pre><code># Basic function\ndef greet(name):\n    return f\"Hello, {name}!\"\n\n# Function with multiple parameters\ndef create_book(title, author, price):\n    book = {\n        \"title\": title,\n        \"author\": author,\n        \"price\": price\n    }\n    return book\n\n# Function that processes data (like an API endpoint)\ndef get_book_info(book_id):\n    # In a real API, this would fetch from database\n    if book_id == 1:\n        return {\"id\": 1, \"title\": \"Python Guide\", \"author\": \"John\"}\n    else:\n        return None\n\n# Using functions\nresult = greet(\"Alice\")\nbook = create_book(\"Django Guide\", \"Jane\", 39.99)\ninfo = get_book_info(1)\n</code></pre> <p>Explanation:  - Functions are reusable blocks of code - In APIs, each endpoint is like a function that processes a request - Functions take input (parameters) and return output (response) - This is exactly how API endpoints work!</p>"},{"location":"LEVEL_0_BEGINNER.html#classes-and-objects","title":"Classes and Objects","text":"<p>Why this matters: Django uses classes extensively. Models, Views, Serializers are all classes.</p> <pre><code># Define a class (like a blueprint)\nclass Book:\n    def __init__(self, title, author, price):\n        # __init__ is called when creating an object\n        self.title = title\n        self.author = author\n        self.price = price\n\n    def get_info(self):\n        # Method (function inside a class)\n        return f\"{self.title} by {self.author} - ${self.price}\"\n\n# Create objects (instances) from the class\nbook1 = Book(\"Python Guide\", \"John\", 29.99)\nbook2 = Book(\"Django Guide\", \"Jane\", 39.99)\n\n# Use the objects\nprint(book1.get_info())  # \"Python Guide by John - $29.99\"\nprint(book2.title)       # \"Django Guide\"\n</code></pre> <p>Explanation: - Class = Blueprint (like a cookie cutter) - Object = Instance created from class (like a cookie) - Methods = Functions inside a class - In Django, <code>Book</code> model is a class, and each book in database is an object</p>"},{"location":"LEVEL_0_BEGINNER.html#importing-modules","title":"Importing Modules","text":"<p>Why this matters: Django and DRF are modules you import. Understanding imports is essential.</p> <pre><code># Import entire module\nimport json\nimport datetime\n\n# Import specific functions/classes\nfrom datetime import date\nfrom json import loads, dumps\n\n# Import with alias\nimport django.db.models as models\n\n# Using imports\ntoday = date.today()\ndata = loads('{\"key\": \"value\"}')  # Parse JSON string\n</code></pre> <p>Explanation: - Python code is organized in modules (files) and packages (folders) - <code>import</code> brings code from other files into your current file - Django uses imports extensively: <code>from django.db import models</code> - DRF uses imports: <code>from rest_framework import serializers</code></p>"},{"location":"LEVEL_0_BEGINNER.html#understanding-the-web","title":"Understanding the Web","text":""},{"location":"LEVEL_0_BEGINNER.html#how-the-web-works","title":"How the Web Works","text":"<p>Client-Server Model:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         HTTP Request          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Client  \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt; \u2502 Server \u2502\n\u2502(Browser)\u2502                                \u2502(Django)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 &lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            HTTP Response (JSON/HTML)\n</code></pre> <p>Explanation: - Client = Your browser, mobile app, or any application making requests - Server = Django application running on a computer - Request = Client asks for data (\"Give me all books\") - Response = Server sends back data (JSON with book list) - HTTP = Protocol (language) they use to communicate</p>"},{"location":"LEVEL_0_BEGINNER.html#what-happens-when-you-visit-a-website","title":"What Happens When You Visit a Website?","text":"<ol> <li>You type URL \u2192 <code>http://localhost:8000/api/books/</code></li> <li>Browser sends HTTP GET request \u2192 \"Hey server, give me the books list\"</li> <li>Server processes request \u2192 Django runs code, queries database</li> <li>Server sends response \u2192 JSON data with books</li> <li>Browser displays data \u2192 You see the books list</li> </ol> <p>In API terms: - URL = Endpoint (where to send request) - GET = HTTP Method (what action to perform) - JSON = Response Format (how data is structured)</p>"},{"location":"LEVEL_0_BEGINNER.html#what-is-an-api","title":"What is an API?","text":""},{"location":"LEVEL_0_BEGINNER.html#api-application-programming-interface","title":"API = Application Programming Interface","text":"<p>Simple Explanation: An API is like a waiter in a restaurant.</p> <pre><code>You (Client)          Waiter (API)          Kitchen (Database)\n   \u2502                       \u2502                      \u2502\n   \u2502  \"I want pizza\"       \u2502                      \u2502\n   \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502                      \u2502\n   \u2502                       \u2502  \"Get pizza\"         \u2502\n   \u2502                       \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n   \u2502                       \u2502                      \u2502\n   \u2502                       \u2502  \"Here's pizza\"      \u2502\n   \u2502                       \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n   \u2502  \"Here's your pizza\"  \u2502                      \u2502\n   \u2502&lt;\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                      \u2502\n</code></pre> <p>Explanation: - You = Client application (browser, mobile app) - Waiter = API (Django REST Framework) - Kitchen = Database (where data is stored) - Menu = API Documentation (what you can order) - Order = API Request (what you want) - Food = API Response (data you get back)</p>"},{"location":"LEVEL_0_BEGINNER.html#rest-api-example","title":"REST API Example","text":"<p>Real-world analogy: Think of a library system</p> <ul> <li>GET /books/ \u2192 \"Show me all books\" (like browsing catalog)</li> <li>GET /books/1/ \u2192 \"Show me book with ID 1\" (like asking for specific book)</li> <li>POST /books/ \u2192 \"Add a new book\" (like donating a book)</li> <li>PUT /books/1/ \u2192 \"Update book 1 completely\" (like replacing a book)</li> <li>PATCH /books/1/ \u2192 \"Update only title of book 1\" (like updating catalog entry)</li> <li>DELETE /books/1/ \u2192 \"Remove book 1\" (like removing a book)</li> </ul> <p>Why REST? - Standardized: Everyone uses the same pattern - Predictable: Easy to understand what each endpoint does - Stateless: Each request is independent - Scalable: Can handle many clients</p>"},{"location":"LEVEL_0_BEGINNER.html#environment-setup-explained","title":"Environment Setup Explained","text":""},{"location":"LEVEL_0_BEGINNER.html#why-do-we-need-this","title":"Why Do We Need This?","text":"<p>Problem: Different projects need different Python packages and versions.</p> <p>Solution: Virtual environments isolate each project's dependencies.</p> <p>Real-world analogy:  - Think of virtual environments like separate rooms in a house - Each room (project) has its own furniture (packages) - Room 1 might have Django 4.0, Room 2 might have Django 5.0 - They don't interfere with each other</p>"},{"location":"LEVEL_0_BEGINNER.html#step-by-step-setup","title":"Step-by-Step Setup","text":""},{"location":"LEVEL_0_BEGINNER.html#step-1-check-python-installation","title":"Step 1: Check Python Installation","text":"<pre><code># Check if Python is installed\npython --version\n# Should show: Python 3.8.x or higher\n\n# If not installed, download from python.org\n</code></pre> <p>Why: Django requires Python 3.8+. This command verifies you have the right version.</p>"},{"location":"LEVEL_0_BEGINNER.html#step-2-create-project-folder","title":"Step 2: Create Project Folder","text":"<pre><code># Create a folder for your project\nmkdir drf_learning\ncd drf_learning\n</code></pre> <p>Why: Organize your code in a dedicated folder. This keeps everything together.</p>"},{"location":"LEVEL_0_BEGINNER.html#step-3-create-virtual-environment","title":"Step 3: Create Virtual Environment","text":"<pre><code># Create virtual environment\npython -m venv venv\n</code></pre> <p>What this does: - <code>python -m venv</code> = Run the venv module - <code>venv</code> = Name of the virtual environment folder - Creates an isolated Python environment</p> <p>Why: Isolates your project's packages from other projects.</p>"},{"location":"LEVEL_0_BEGINNER.html#step-4-activate-virtual-environment","title":"Step 4: Activate Virtual Environment","text":"<p>Windows:</p> <pre><code>venv\\Scripts\\activate\n</code></pre> <p>Linux/Mac:</p> <pre><code>source venv/bin/activate\n</code></pre> <p>What happens: - Your terminal prompt changes to show <code>(venv)</code> - Python now uses packages from this virtual environment - <code>pip install</code> will install packages here, not globally</p> <p>Why: Tells your system to use this project's Python environment.</p> <p>How to know it worked: Your prompt should look like:</p> <pre><code>(venv) C:\\Users\\YourName\\drf_learning&gt;\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#step-5-install-django-and-drf","title":"Step 5: Install Django and DRF","text":"<pre><code># Install packages\npip install django djangorestframework\n\n# Verify installation\npip list\n# Should show django and djangorestframework\n</code></pre> <p>What this does: - <code>pip</code> = Python package installer - <code>install</code> = Download and install packages - <code>django</code> = Web framework - <code>djangorestframework</code> = API toolkit for Django</p> <p>Why: These are the tools we need to build APIs.</p>"},{"location":"LEVEL_0_BEGINNER.html#step-6-save-requirements","title":"Step 6: Save Requirements","text":"<pre><code># Save installed packages to file\npip freeze &gt; requirements.txt\n</code></pre> <p>What this does: - <code>pip freeze</code> = List all installed packages with versions - <code>&gt;</code> = Save output to file - <code>requirements.txt</code> = File containing package list</p> <p>Why:  - Others can install exact same packages: <code>pip install -r requirements.txt</code> - Ensures everyone uses same versions - Essential for deployment</p>"},{"location":"LEVEL_0_BEGINNER.html#virtual-environments-why-and-how","title":"Virtual Environments - Why and How","text":""},{"location":"LEVEL_0_BEGINNER.html#the-problem-virtual-environments-solve","title":"The Problem Virtual Environments Solve","text":"<p>Without virtual environments:</p> <pre><code>Project A needs Django 4.0\nProject B needs Django 5.0\nSystem Python: Which version? \u274c Conflict!\n</code></pre> <p>With virtual environments:</p> <pre><code>Project A (venv): Django 4.0 \u2705\nProject B (venv): Django 5.0 \u2705\nNo conflict!\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#virtual-environment-commands","title":"Virtual Environment Commands","text":"<pre><code># Create virtual environment\npython -m venv venv\n\n# Activate (Windows)\nvenv\\Scripts\\activate\n\n# Activate (Linux/Mac)\nsource venv/bin/activate\n\n# Deactivate (all platforms)\ndeactivate\n\n# Check if activated\n# Prompt shows (venv) when active\n</code></pre> <p>Important: Always activate virtual environment before working on project!</p>"},{"location":"LEVEL_0_BEGINNER.html#common-mistakes","title":"Common Mistakes","text":"<ol> <li>Forgetting to activate: Packages install globally instead of in venv</li> <li> <p>Fix: Always check for <code>(venv)</code> in prompt</p> </li> <li> <p>Activating wrong venv: Working in different project's environment</p> </li> <li> <p>Fix: Make sure you're in correct project folder</p> </li> <li> <p>Not using venv: Installing packages globally</p> </li> <li>Fix: Always create and use virtual environment</li> </ol>"},{"location":"LEVEL_0_BEGINNER.html#understanding-json","title":"Understanding JSON","text":""},{"location":"LEVEL_0_BEGINNER.html#what-is-json","title":"What is JSON?","text":"<p>JSON = JavaScript Object Notation (but works with any language!)</p> <p>Why it matters: APIs use JSON to send and receive data.</p>"},{"location":"LEVEL_0_BEGINNER.html#json-structure","title":"JSON Structure","text":"<pre><code>{\n  \"id\": 1,\n  \"title\": \"Python Guide\",\n  \"author\": \"John Doe\",\n  \"published\": true,\n  \"tags\": [\"python\", \"programming\", \"tutorial\"],\n  \"price\": 29.99\n}\n</code></pre> <p>Explanation: - Keys (left side): Field names in quotes: <code>\"title\"</code> - Values (right side): Data - can be string, number, boolean, array, object - Strings: Always in quotes: <code>\"Python Guide\"</code> - Numbers: No quotes: <code>1</code>, <code>29.99</code> - Booleans: <code>true</code> or <code>false</code> (no quotes) - Arrays: <code>[\"item1\", \"item2\"]</code> (like Python lists) - Objects: <code>{\"key\": \"value\"}</code> (like Python dictionaries)</p>"},{"location":"LEVEL_0_BEGINNER.html#json-vs-python-dictionary","title":"JSON vs Python Dictionary","text":"<p>They're almost the same!</p> <pre><code># Python Dictionary\nbook = {\n    \"id\": 1,\n    \"title\": \"Python Guide\",\n    \"published\": True  # Note: True not true\n}\n\n# JSON (what APIs use)\n{\n    \"id\": 1,\n    \"title\": \"Python Guide\",\n    \"published\": true  # Note: lowercase true\n}\n</code></pre> <p>Key Differences: - Python: <code>True</code>/<code>False</code> (capital), <code>None</code> (not null) - JSON: <code>true</code>/<code>false</code> (lowercase), <code>null</code> (not None) - JSON keys must be strings, Python keys can be other types</p>"},{"location":"LEVEL_0_BEGINNER.html#converting-between-python-and-json","title":"Converting Between Python and JSON","text":"<pre><code>import json\n\n# Python dict to JSON string\nbook = {\"id\": 1, \"title\": \"Python Guide\"}\njson_string = json.dumps(book)\n# Result: '{\"id\": 1, \"title\": \"Python Guide\"}'\n\n# JSON string to Python dict\njson_string = '{\"id\": 1, \"title\": \"Python Guide\"}'\nbook = json.loads(json_string)\n# Result: {\"id\": 1, \"title\": \"Python Guide\"}\n</code></pre> <p>Why this matters:  - APIs send JSON strings over HTTP - Django converts JSON to Python objects - You work with Python, Django handles conversion</p>"},{"location":"LEVEL_0_BEGINNER.html#http-basics","title":"HTTP Basics","text":""},{"location":"LEVEL_0_BEGINNER.html#http-methods-verbs","title":"HTTP Methods (Verbs)","text":"<p>Think of HTTP methods as actions you can perform:</p> Method Action Real-world Analogy Example GET Read Looking at a book Get list of books POST Create Adding a new book Create a new book PUT Update (full) Replacing entire book Update all book fields PATCH Update (partial) Updating one page Update only book title DELETE Delete Removing a book Delete a book <p>Why different methods? - GET: Safe, doesn't change data (can call many times) - POST: Creates new resource (not safe to call multiple times) - PUT/PATCH: Updates existing resource - DELETE: Removes resource (not safe to call multiple times)</p>"},{"location":"LEVEL_0_BEGINNER.html#http-status-codes","title":"HTTP Status Codes","text":"<p>What they mean: Tell client if request succeeded or failed.</p> Code Meaning When Used 200 OK Request succeeded 201 Created New resource created (POST) 204 No Content Success but no data to return (DELETE) 400 Bad Request Client sent invalid data 401 Unauthorized Not logged in / invalid credentials 403 Forbidden Logged in but no permission 404 Not Found Resource doesn't exist 500 Server Error Server had an error <p>Why this matters: APIs use these codes to communicate results. Your frontend checks these codes to know what happened.</p>"},{"location":"LEVEL_0_BEGINNER.html#http-request-structure","title":"HTTP Request Structure","text":"<pre><code>GET /api/books/ HTTP/1.1\nHost: localhost:8000\nAuthorization: Bearer token123\nContent-Type: application/json\n</code></pre> <p>Explanation: - GET = HTTP method - /api/books/ = Endpoint (URL path) - HTTP/1.1 = Protocol version - Headers = Additional information (authorization, content type)</p>"},{"location":"LEVEL_0_BEGINNER.html#http-response-structure","title":"HTTP Response Structure","text":"<pre><code>HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  \"id\": 1,\n  \"title\": \"Python Guide\"\n}\n</code></pre> <p>Explanation: - 200 OK = Status code and message - Content-Type = Format of response data - Body = Actual data (JSON)</p>"},{"location":"LEVEL_0_BEGINNER.html#command-line-essentials","title":"Command Line Essentials","text":""},{"location":"LEVEL_0_BEGINNER.html#why-command-line","title":"Why Command Line?","text":"<p>GUI vs CLI: - GUI (Graphical User Interface): Clicking buttons, visual - CLI (Command Line Interface): Typing commands, faster for developers</p> <p>Why developers use CLI: - Faster for repetitive tasks - Can be automated - Works on servers (no GUI) - More powerful</p>"},{"location":"LEVEL_0_BEGINNER.html#essential-commands","title":"Essential Commands","text":""},{"location":"LEVEL_0_BEGINNER.html#navigation","title":"Navigation","text":"<pre><code># See current directory\npwd                    # Linux/Mac\ncd                     # Windows\n\n# List files\nls                     # Linux/Mac\ndir                    # Windows\n\n# Change directory\ncd folder_name         # Go into folder\ncd ..                  # Go up one level\ncd ~                   # Go to home directory\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#file-operations","title":"File Operations","text":"<pre><code># Create folder\nmkdir project_name\n\n# Create file\ntouch file.txt         # Linux/Mac\ntype nul &gt; file.txt    # Windows\n\n# View file\ncat file.txt           # Linux/Mac\ntype file.txt          # Windows\n\n# Delete file\nrm file.txt            # Linux/Mac\ndel file.txt           # Windows\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#python-specific","title":"Python-Specific","text":"<pre><code># Run Python script\npython script.py\n\n# Run Django commands\npython manage.py runserver\npython manage.py migrate\npython manage.py createsuperuser\n\n# Install package\npip install package_name\n\n# List installed packages\npip list\n</code></pre> <p>Why these matter: You'll use these commands constantly when building APIs!</p>"},{"location":"LEVEL_0_BEGINNER.html#practice-problems","title":"Practice Problems","text":""},{"location":"LEVEL_0_BEGINNER.html#problem-1-python-basics","title":"Problem 1: Python Basics","text":"<p>Create a Python script that: 1. Defines a dictionary representing a book with: id, title, author, price 2. Creates a function that takes book data and returns a formatted string 3. Creates a list of 3 books 4. Prints information about each book</p> <p>Solution:</p> <pre><code>def format_book(book):\n    return f\"{book['title']} by {book['author']} - ${book['price']}\"\n\nbook1 = {\"id\": 1, \"title\": \"Python Guide\", \"author\": \"John\", \"price\": 29.99}\nbook2 = {\"id\": 2, \"title\": \"Django Guide\", \"author\": \"Jane\", \"price\": 39.99}\nbook3 = {\"id\": 3, \"title\": \"DRF Guide\", \"author\": \"Bob\", \"price\": 49.99}\n\nbooks = [book1, book2, book3]\n\nfor book in books:\n    print(format_book(book))\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#problem-2-json-practice","title":"Problem 2: JSON Practice","text":"<ol> <li>Create a Python dictionary with book data</li> <li>Convert it to JSON string</li> <li>Convert JSON string back to dictionary</li> <li>Print the result</li> </ol> <p>Solution:</p> <pre><code>import json\n\nbook = {\n    \"id\": 1,\n    \"title\": \"Python Guide\",\n    \"author\": \"John Doe\",\n    \"price\": 29.99,\n    \"published\": True\n}\n\n# Convert to JSON\njson_string = json.dumps(book)\nprint(\"JSON:\", json_string)\n\n# Convert back to dict\nbook_dict = json.loads(json_string)\nprint(\"Dictionary:\", book_dict)\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#problem-3-virtual-environment","title":"Problem 3: Virtual Environment","text":"<ol> <li>Create a new folder called <code>my_api_project</code></li> <li>Create a virtual environment named <code>venv</code></li> <li>Activate it</li> <li>Install Django</li> <li>Verify installation with <code>pip list</code></li> </ol> <p>Solution:</p> <pre><code>mkdir my_api_project\ncd my_api_project\npython -m venv venv\n\n# Windows\nvenv\\Scripts\\activate\n\n# Linux/Mac\nsource venv/bin/activate\n\npip install django\npip list  # Should show django\n</code></pre>"},{"location":"LEVEL_0_BEGINNER.html#trivia","title":"Trivia","text":""},{"location":"LEVEL_0_BEGINNER.html#question-1","title":"Question 1","text":"<p>What does API stand for? - [ ] Application Program Interface - [x] Application Programming Interface - [ ] Automated Program Interface - [ ] Advanced Programming Interface</p> <p>Explanation: API = Application Programming Interface. It's the way applications communicate with each other.</p>"},{"location":"LEVEL_0_BEGINNER.html#question-2","title":"Question 2","text":"<p>What is the main purpose of a virtual environment? - [ ] To make Python run faster - [x] To isolate project dependencies - [ ] To secure your code - [ ] To organize your files</p> <p>Explanation: Virtual environments isolate packages for each project, preventing conflicts between different projects' requirements.</p>"},{"location":"LEVEL_0_BEGINNER.html#question-3","title":"Question 3","text":"<p>Which HTTP method is used to retrieve data? - [x] GET - [ ] POST - [ ] PUT - [ ] DELETE</p> <p>Explanation: GET is used to retrieve/read data. It's safe and doesn't modify data.</p>"},{"location":"LEVEL_0_BEGINNER.html#question-4","title":"Question 4","text":"<p>What does JSON stand for? - [ ] Java Script Object Notation - [x] JavaScript Object Notation - [ ] Just Simple Object Notation - [ ] Java Standard Object Notation</p> <p>Explanation: JSON = JavaScript Object Notation, though it's used with many languages, not just JavaScript.</p>"},{"location":"LEVEL_0_BEGINNER.html#question-5","title":"Question 5","text":"<p>In JSON, how do you represent a boolean true value? - [ ] True - [x] true - [ ] TRUE - [ ] \"true\"</p> <p>Explanation: JSON uses lowercase <code>true</code> and <code>false</code> (not Python's <code>True</code>/<code>False</code>).</p>"},{"location":"LEVEL_0_BEGINNER.html#question-6","title":"Question 6","text":"<p>What status code means \"Resource created successfully\"? - [ ] 200 - [x] 201 - [ ] 204 - [ ] 301</p> <p>Explanation: 201 Created is returned when a new resource is successfully created (typically with POST requests).</p>"},{"location":"LEVEL_0_BEGINNER.html#question-7","title":"Question 7","text":"<p>What command activates a virtual environment on Windows? - [ ] source venv/bin/activate - [x] venv\\Scripts\\activate - [ ] activate venv - [ ] python venv activate</p> <p>Explanation: On Windows, use <code>venv\\Scripts\\activate</code>. On Linux/Mac, use <code>source venv/bin/activate</code>.</p>"},{"location":"LEVEL_0_BEGINNER.html#question-8","title":"Question 8","text":"<p>Which Python data type is most similar to JSON objects? - [ ] List - [ ] String - [x] Dictionary - [ ] Tuple</p> <p>Explanation: Python dictionaries map directly to JSON objects. They have the same key-value structure.</p>"},{"location":"LEVEL_0_BEGINNER.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 0. You now understand:</p> <ul> <li>\u2705 Python basics for web development</li> <li>\u2705 How the web works</li> <li>\u2705 What APIs are and why we use them</li> <li>\u2705 How to set up your development environment</li> <li>\u2705 JSON format and HTTP basics</li> <li>\u2705 Command line essentials</li> </ul> <p>Ready for Level 1? Continue to Level 1: Foundations to start building your first REST API!</p> <p>Remember:  - Don't rush - understand the concepts - Practice the exercises - Experiment with the code - Ask questions when stuck</p> <p>Good luck! \ud83d\ude80</p>"},{"location":"LEVEL_1_FOUNDATIONS.html","title":"Level 1: Foundations - Django + REST Basics","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#goal","title":"Goal","text":"<p>Understand Django, Django REST Framework, and build your first REST API. By the end of this level, you'll be able to create a fully functional CRUD API.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>REST Fundamentals</li> <li>Django Project Structure</li> <li>Setting Up Your Environment</li> <li>Installing Django REST Framework</li> <li>CORS Configuration</li> <li>Understanding Models</li> <li>Understanding Serializers</li> <li>Understanding Views</li> <li>URL Routing</li> <li>Step-by-Step: Book API Implementation</li> <li>Step-by-Step: Task API Implementation</li> <li>Custom Response Formats</li> <li>Error Handling</li> <li>Testing with cURL</li> <li>Browsable API</li> <li>Exercises</li> <li>Trivia</li> <li>Practice Problems</li> <li>Add-ons</li> </ol>"},{"location":"LEVEL_1_FOUNDATIONS.html#rest-fundamentals","title":"REST Fundamentals","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#what-is-rest","title":"What is REST?","text":"<p>REST (Representational State Transfer) is an architectural style for designing web services. REST APIs use HTTP methods to perform operations on resources.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#http-methods","title":"HTTP Methods","text":"Method Purpose Example GET Retrieve data Get list of books POST Create new resource Create a new book PUT Full update Replace entire book PATCH Partial update Update only book title DELETE Delete resource Delete a book"},{"location":"LEVEL_1_FOUNDATIONS.html#http-status-codes","title":"HTTP Status Codes","text":"Code Meaning When to Use 200 OK Successful GET, PUT, PATCH 201 Created Successful POST 204 No Content Successful DELETE 400 Bad Request Invalid input data 401 Unauthorized Missing/invalid authentication 403 Forbidden Authenticated but no permission 404 Not Found Resource doesn't exist 500 Server Error Internal server error"},{"location":"LEVEL_1_FOUNDATIONS.html#requestresponse-cycle","title":"Request/Response Cycle","text":"<pre><code>Client Request \u2192 Django \u2192 URL Router \u2192 View \u2192 Serializer \u2192 Model \u2192 Database\n                                                                    \u2193\nClient Response \u2190 Django \u2190 JSON Response \u2190 Serializer \u2190 Model \u2190 Database\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#django-project-structure","title":"Django Project Structure","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#understanding-django-files","title":"Understanding Django Files","text":"<pre><code>rest_api_learn/\n\u251c\u2500\u2500 manage.py                 # Django management script\n\u251c\u2500\u2500 core/                     # Project settings package\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 settings.py           # Project configuration\n\u2502   \u251c\u2500\u2500 urls.py               # Root URL configuration\n\u2502   \u251c\u2500\u2500 wsgi.py               # WSGI configuration\n\u2502   \u2514\u2500\u2500 asgi.py               # ASGI configuration\n\u251c\u2500\u2500 api/                      # Your app\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 models.py             # Database models\n\u2502   \u251c\u2500\u2500 views.py              # View logic\n\u2502   \u251c\u2500\u2500 serializers.py        # DRF serializers\n\u2502   \u251c\u2500\u2500 urls.py               # App URL configuration\n\u2502   \u251c\u2500\u2500 admin.py              # Admin interface\n\u2502   \u2514\u2500\u2500 migrations/           # Database migrations\n\u2514\u2500\u2500 db.sqlite3                # SQLite database (default)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#key-files-explained","title":"Key Files Explained","text":"<p>settings.py: Contains all project configuration - <code>INSTALLED_APPS</code>: List of installed Django apps - <code>DATABASES</code>: Database configuration - <code>MIDDLEWARE</code>: Request/response processing - <code>ROOT_URLCONF</code>: Root URL configuration</p> <p>models.py: Define your database structure - Each class = database table - Each attribute = database column</p> <p>views.py: Handle HTTP requests - Contains view functions/classes - Process requests and return responses</p> <p>urls.py: URL routing - Maps URLs to views - Defines API endpoints</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#setting-up-your-environment","title":"Setting Up Your Environment","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#step-1-create-virtual-environment","title":"Step 1: Create Virtual Environment","text":"<pre><code># Create virtual environment\npython -m venv venv\n\n# Activate (Linux/macOS)\nsource venv/bin/activate\n\n# Activate (Windows)\nvenv\\Scripts\\activate\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-2-install-django-and-drf","title":"Step 2: Install Django and DRF","text":"<pre><code># Install packages\npip install django djangorestframework\n\n# Or with specific versions\npip install django==5.2.8 djangorestframework==3.15.2\n\n# Save requirements\npip freeze &gt; requirements.txt\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-3-create-django-project","title":"Step 3: Create Django Project","text":"<pre><code># Create project\ndjango-admin startproject core .\n\n# Create app\npython manage.py startapp api\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-4-register-app-in-settingspy","title":"Step 4: Register App in settings.py","text":"<pre><code># core/settings.py\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'rest_framework',  # Add DRF\n    'api',             # Add your app\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-5-run-initial-migration","title":"Step 5: Run Initial Migration","text":"<pre><code># Apply default migrations\npython manage.py migrate\n\n# Create superuser (optional)\npython manage.py createsuperuser\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#installing-django-rest-framework","title":"Installing Django REST Framework","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#step-1-add-to-installed_apps","title":"Step 1: Add to INSTALLED_APPS","text":"<pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ... other apps ...\n    'rest_framework',\n    'api',\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-2-configure-drf-settings-optional","title":"Step 2: Configure DRF Settings (Optional)","text":"<pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_RENDERER_CLASSES': [\n        'rest_framework.renderers.JSONRenderer',\n        'rest_framework.renderers.BrowsableAPIRenderer',  # For browsable API\n    ],\n    'DEFAULT_PARSER_CLASSES': [\n        'rest_framework.parsers.JSONParser',\n        'rest_framework.parsers.FormParser',\n        'rest_framework.parsers.MultiPartParser',\n    ],\n    'DEFAULT_PAGINATION_CLASS': None,  # We'll add pagination in Level 2\n}\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-3-verify-installation","title":"Step 3: Verify Installation","text":"<pre><code># Start server\npython manage.py runserver\n\n# Visit http://127.0.0.1:8000/\n# You should see Django welcome page\n</code></pre> <p>Why we verify: This confirms Django is installed correctly and the server can run. If you see the welcome page, everything is working!</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#cors-configuration","title":"CORS Configuration","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#what-is-cors","title":"What is CORS?","text":"<p>CORS = Cross-Origin Resource Sharing</p> <p>The Problem: By default, browsers block requests from one domain (origin) to another. This is a security feature called the \"Same-Origin Policy.\"</p> <p>Example: - Your frontend runs on: <code>http://localhost:3000</code> (React app) - Your API runs on: <code>http://localhost:8000</code> (Django) - Browser blocks requests between them \u274c</p> <p>The Solution: CORS headers tell the browser \"it's okay, allow this request.\"</p> <p>Why this matters:  - Frontend and backend often run on different ports/domains - Without CORS, your frontend can't call your API - CORS is essential for any API that will be used by web applications</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#installing-django-cors-headers","title":"Installing django-cors-headers","text":"<pre><code># Install the package\npip install django-cors-headers\n\n# Add to requirements.txt\npip freeze &gt; requirements.txt\n</code></pre> <p>Why this package: It makes CORS configuration easy. You could configure it manually, but this package handles all the complexity.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-1-add-to-installed_apps_1","title":"Step 1: Add to INSTALLED_APPS","text":"<pre><code># core/settings.py\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'rest_framework',\n    'corsheaders',  # Add this - must be before other apps\n    'api',\n]\n</code></pre> <p>Why order matters: <code>corsheaders</code> must be before other apps that might handle requests. Middleware order is important in Django.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-2-add-cors-middleware","title":"Step 2: Add CORS Middleware","text":"<pre><code># core/settings.py\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'corsheaders.middleware.CorsMiddleware',  # Add this - must be near top\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\n</code></pre> <p>Why middleware position matters:  - Middleware processes requests in order - CORS middleware must run early to add headers to responses - If it's too late, headers won't be added</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-3-configure-cors-settings","title":"Step 3: Configure CORS Settings","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#development-allow-all-origins","title":"Development (Allow All Origins)","text":"<pre><code># core/settings.py\n# For development only - allows all origins\nCORS_ALLOW_ALL_ORIGINS = True\n</code></pre> <p>Why this works for development:  - Quick to set up - Allows any frontend to connect - Never use in production! (security risk)</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#production-specific-origins","title":"Production (Specific Origins)","text":"<pre><code># core/settings.py\n# For production - specify allowed origins\nCORS_ALLOW_ALL_ORIGINS = False\n\nCORS_ALLOWED_ORIGINS = [\n    \"http://localhost:3000\",      # React dev server\n    \"http://localhost:5173\",      # Vite dev server\n    \"https://yourdomain.com\",     # Production frontend\n    \"https://www.yourdomain.com\",\n]\n\n# Or use regex patterns\nCORS_ALLOWED_ORIGIN_REGEXES = [\n    r\"^https://.*\\.yourdomain\\.com$\",  # All subdomains\n]\n</code></pre> <p>Why specific origins in production:  - Security: Only allow trusted domains - Prevents unauthorized sites from using your API - Protects user data</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-4-additional-cors-settings-optional","title":"Step 4: Additional CORS Settings (Optional)","text":"<pre><code># core/settings.py\n# Allow credentials (cookies, auth headers)\nCORS_ALLOW_CREDENTIALS = True\n\n# Allowed HTTP methods\nCORS_ALLOW_METHODS = [\n    'DELETE',\n    'GET',\n    'OPTIONS',\n    'PATCH',\n    'POST',\n    'PUT',\n]\n\n# Allowed headers\nCORS_ALLOW_HEADERS = [\n    'accept',\n    'accept-encoding',\n    'authorization',\n    'content-type',\n    'dnt',\n    'origin',\n    'user-agent',\n    'x-csrftoken',\n    'x-requested-with',\n]\n\n# How long browser can cache preflight response\nCORS_PREFLIGHT_MAX_AGE = 86400  # 24 hours\n</code></pre> <p>Explanation of settings: - CORS_ALLOW_CREDENTIALS: Needed if you send cookies/auth tokens - CORS_ALLOW_METHODS: Which HTTP methods are allowed - CORS_ALLOW_HEADERS: Which headers frontend can send - CORS_PREFLIGHT_MAX_AGE: Reduces preflight requests (performance)</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#testing-cors","title":"Testing CORS","text":"<p>Test with cURL:</p> <pre><code># Test CORS headers\ncurl -H \"Origin: http://localhost:3000\" \\\n     -H \"Access-Control-Request-Method: GET\" \\\n     -H \"Access-Control-Request-Headers: X-Requested-With\" \\\n     -X OPTIONS \\\n     http://localhost:8000/api/books/ \\\n     -v\n\n# Should see CORS headers in response:\n# Access-Control-Allow-Origin: http://localhost:3000\n# Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS\n</code></pre> <p>Test in Browser Console:</p> <pre><code>// In browser console (on frontend)\nfetch('http://localhost:8000/api/books/')\n  .then(response =&gt; response.json())\n  .then(data =&gt; console.log(data))\n  .catch(error =&gt; console.error('Error:', error));\n</code></pre> <p>Why test:  - Confirms CORS is working - Helps debug connection issues - Verifies headers are correct</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#common-cors-issues","title":"Common CORS Issues","text":"<p>Problem: \"CORS policy blocked\" - Solution: Check <code>CORS_ALLOWED_ORIGINS</code> includes your frontend URL - Check: Verify middleware is in correct position</p> <p>Problem: \"Credentials not allowed\" - Solution: Set <code>CORS_ALLOW_CREDENTIALS = True</code> - Check: Make sure origin is in allowed list (not using <code>*</code>)</p> <p>Problem: \"Method not allowed\" - Solution: Add method to <code>CORS_ALLOW_METHODS</code> - Check: Verify you're using correct HTTP method</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#why-cors-is-important","title":"Why CORS is Important","text":"<ol> <li>Security: Prevents unauthorized sites from accessing your API</li> <li>Flexibility: Allows frontend/backend separation</li> <li>Modern Development: Essential for single-page applications (SPA)</li> <li>Mobile Apps: Often need CORS for web-based APIs</li> </ol> <p>Remember:  - Development: <code>CORS_ALLOW_ALL_ORIGINS = True</code> is fine - Production: Always specify exact origins - Test CORS before deploying</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#understanding-models","title":"Understanding Models","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#what-are-models","title":"What are Models?","text":"<p>Models are Python classes that represent database tables. Django's ORM (Object-Relational Mapping) converts model classes to SQL tables.</p> <p>Simple Explanation:  - Model = Blueprint for a database table - ORM = Magic that converts Python code to SQL - Table = Where data is stored (like a spreadsheet) - Row = One record (one book, one task) - Column = One field (title, author, price)</p> <p>Why Models? - No SQL needed: Write Python instead of SQL - Type safety: Django validates data types - Migrations: Django tracks database changes - Relationships: Easy to connect models together</p> <p>Real-world analogy:  - Model = Recipe (blueprint) - Table = Baking pan (where data goes) - Object = Cookie (one record) - Fields = Ingredients (title, author, etc.)</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#basic-model-example","title":"Basic Model Example","text":"<pre><code># api/models.py\nfrom django.db import models\n\nclass Book(models.Model):\n    title = models.CharField(max_length=200)\n    author = models.CharField(max_length=100)\n    published_date = models.DateField()\n    isbn = models.CharField(max_length=13, unique=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#common-field-types","title":"Common Field Types","text":"Field Type Purpose Example CharField Short text <code>title = models.CharField(max_length=200)</code> TextField Long text <code>description = models.TextField()</code> IntegerField Integer <code>price = models.IntegerField()</code> DecimalField Decimal <code>price = models.DecimalField(max_digits=10, decimal_places=2)</code> BooleanField True/False <code>is_published = models.BooleanField(default=False)</code> DateField Date <code>published_date = models.DateField()</code> DateTimeField Date + Time <code>created_at = models.DateTimeField(auto_now_add=True)</code> EmailField Email <code>email = models.EmailField()</code> URLField URL <code>website = models.URLField()</code> ForeignKey Many-to-One <code>author = models.ForeignKey(User, on_delete=models.CASCADE)</code>"},{"location":"LEVEL_1_FOUNDATIONS.html#field-options","title":"Field Options","text":"<pre><code># Common options\ntitle = models.CharField(\n    max_length=200,\n    null=True,              # Allow NULL in database\n    blank=True,             # Allow empty in forms\n    default='Untitled',     # Default value\n    unique=True,            # Must be unique\n    db_index=True,          # Create database index\n    verbose_name='Book Title',  # Human-readable name\n    help_text='Enter the book title',  # Help text\n)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#creating-and-applying-migrations","title":"Creating and Applying Migrations","text":"<p>What are Migrations?</p> <p>Migrations are files that describe changes to your database structure. Think of them as version control for your database.</p> <p>Why Migrations? - Track changes: Know what changed and when - Team collaboration: Everyone has same database structure - Rollback: Can undo changes if needed - Production: Apply same changes to production database</p> <pre><code># Create migration files\npython manage.py makemigrations\n</code></pre> <p>What this does: - Looks at your models - Compares with current database - Creates migration file with changes - Doesn't change database yet!</p> <p>Why two steps?:  - <code>makemigrations</code> = Create the plan - <code>migrate</code> = Execute the plan - This lets you review changes before applying</p> <pre><code># Apply migrations to database\npython manage.py migrate\n</code></pre> <p>What this does: - Reads migration files - Executes SQL to update database - Creates/updates tables - Actually changes the database!</p> <pre><code># See SQL that will be executed\npython manage.py sqlmigrate api 0001\n</code></pre> <p>Why view SQL:  - Understand what Django is doing - Debug migration issues - Learn SQL - Verify changes before applying</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#understanding-serializers","title":"Understanding Serializers","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#what-are-serializers","title":"What are Serializers?","text":"<p>Serializers convert complex data types (like Django model instances) to Python native datatypes that can be easily rendered into JSON, XML, etc.</p> <p>Simple Explanation: - Serialize = Convert Python object \u2192 JSON (for sending to client) - Deserialize = Convert JSON \u2192 Python object (for receiving from client) - Validation = Check if data is correct before saving</p> <p>Why Serializers? - Format conversion: Python objects \u2194 JSON - Data validation: Ensure data is correct - Field control: Choose which fields to include - Type conversion: Convert data types automatically</p> <p>Real-world analogy: - Serializer = Translator - Python object = English - JSON = Spanish - Serializer translates between them</p> <p>The Flow:</p> <pre><code>Client sends JSON \u2192 Serializer validates \u2192 Convert to Python \u2192 Save to Database\nDatabase has Python object \u2192 Serializer converts \u2192 JSON \u2192 Send to Client\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#modelserializer-recommended","title":"ModelSerializer (Recommended)","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Book\n\nclass BookSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Book\n        fields = ['id', 'title', 'author', 'published_date', 'isbn', 'created_at']\n        # Or use '__all__' to include all fields\n        # fields = '__all__'\n\n        # Exclude specific fields\n        # exclude = ['created_at']\n\n        # Read-only fields\n        read_only_fields = ['id', 'created_at']\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#serializer-class-more-control","title":"Serializer Class (More Control)","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\n\nclass BookSerializer(serializers.Serializer):\n    id = serializers.IntegerField(read_only=True)\n    title = serializers.CharField(max_length=200)\n    author = serializers.CharField(max_length=100)\n    published_date = serializers.DateField()\n    isbn = serializers.CharField(max_length=13)\n    created_at = serializers.DateTimeField(read_only=True)\n\n    def create(self, validated_data):\n        \"\"\"Create and return a new Book instance\"\"\"\n        return Book.objects.create(**validated_data)\n\n    def update(self, instance, validated_data):\n        \"\"\"Update and return an existing Book instance\"\"\"\n        instance.title = validated_data.get('title', instance.title)\n        instance.author = validated_data.get('author', instance.author)\n        instance.published_date = validated_data.get('published_date', instance.published_date)\n        instance.isbn = validated_data.get('isbn', instance.isbn)\n        instance.save()\n        return instance\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#serializer-field-types","title":"Serializer Field Types","text":"<pre><code>class ExampleSerializer(serializers.Serializer):\n    # Basic fields\n    title = serializers.CharField(max_length=200)\n    description = serializers.CharField(allow_blank=True)\n    price = serializers.DecimalField(max_digits=10, decimal_places=2)\n    quantity = serializers.IntegerField(min_value=0)\n    is_available = serializers.BooleanField(default=True)\n\n    # Date/Time fields\n    created_at = serializers.DateTimeField(read_only=True)\n    published_date = serializers.DateField()\n\n    # Email and URL\n    email = serializers.EmailField()\n    website = serializers.URLField()\n\n    # Choice field\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n    ]\n    status = serializers.ChoiceField(choices=STATUS_CHOICES)\n\n    # Nested serializer (we'll cover in Level 3)\n    # author = AuthorSerializer()\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#understanding-views","title":"Understanding Views","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#view-evolution-in-drf","title":"View Evolution in DRF","text":"<p>DRF provides multiple ways to create views, from simple to powerful:</p> <ol> <li>Function-based views \u2192 Basic, explicit</li> <li>APIView \u2192 Class-based, more control</li> <li>Generic Views \u2192 Less code, common patterns</li> <li>ViewSets \u2192 Most powerful, works with routers</li> </ol>"},{"location":"LEVEL_1_FOUNDATIONS.html#method-1-function-based-view","title":"Method 1: Function-Based View","text":"<pre><code># api/views.py\nfrom rest_framework.decorators import api_view\nfrom rest_framework.response import Response\nfrom rest_framework import status\nfrom .models import Book\nfrom .serializers import BookSerializer\n\n@api_view(['GET', 'POST'])\ndef book_list(request):\n    \"\"\"List all books or create a new book\"\"\"\n    if request.method == 'GET':\n        books = Book.objects.all()\n        serializer = BookSerializer(books, many=True)\n        return Response(serializer.data)\n\n    elif request.method == 'POST':\n        serializer = BookSerializer(data=request.data)\n        if serializer.is_valid():\n            serializer.save()\n            return Response(serializer.data, status=status.HTTP_201_CREATED)\n        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#method-2-apiview-class-based","title":"Method 2: APIView (Class-Based)","text":"<pre><code># api/views.py\nfrom rest_framework.views import APIView\nfrom rest_framework.response import Response\nfrom rest_framework import status\nfrom .models import Book\nfrom .serializers import BookSerializer\n\nclass BookListAPIView(APIView):\n    \"\"\"List all books or create a new book\"\"\"\n\n    def get(self, request):\n        books = Book.objects.all()\n        serializer = BookSerializer(books, many=True)\n        return Response(serializer.data)\n\n    def post(self, request):\n        serializer = BookSerializer(data=request.data)\n        if serializer.is_valid():\n            serializer.save()\n            return Response(serializer.data, status=status.HTTP_201_CREATED)\n        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)\n\nclass BookDetailAPIView(APIView):\n    \"\"\"Retrieve, update or delete a book\"\"\"\n\n    def get_object(self, pk):\n        try:\n            return Book.objects.get(pk=pk)\n        except Book.DoesNotExist:\n            raise Http404\n\n    def get(self, request, pk):\n        book = self.get_object(pk)\n        serializer = BookSerializer(book)\n        return Response(serializer.data)\n\n    def put(self, request, pk):\n        book = self.get_object(pk)\n        serializer = BookSerializer(book, data=request.data)\n        if serializer.is_valid():\n            serializer.save()\n            return Response(serializer.data)\n        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)\n\n    def delete(self, request, pk):\n        book = self.get_object(pk)\n        book.delete()\n        return Response(status=status.HTTP_204_NO_CONTENT)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#method-3-generic-views-less-code","title":"Method 3: Generic Views (Less Code)","text":"<pre><code># api/views.py\nfrom rest_framework import generics\nfrom .models import Book\nfrom .serializers import BookSerializer\n\nclass BookListCreateView(generics.ListCreateAPIView):\n    \"\"\"List all books or create a new book\"\"\"\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n\nclass BookRetrieveUpdateDestroyView(generics.RetrieveUpdateDestroyAPIView):\n    \"\"\"Retrieve, update or delete a book\"\"\"\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#method-4-viewsets-most-powerful","title":"Method 4: ViewSets (Most Powerful)","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom .models import Book\nfrom .serializers import BookSerializer\n\nclass BookViewSet(viewsets.ModelViewSet):\n    \"\"\"ViewSet for viewing and editing Book instances\"\"\"\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#url-routing","title":"URL Routing","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#basic-url-configuration","title":"Basic URL Configuration","text":"<pre><code># core/urls.py\nfrom django.contrib import admin\nfrom django.urls import path, include\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('api/', include('api.urls')),\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#function-based-and-apiview-urls","title":"Function-Based and APIView URLs","text":"<pre><code># api/urls.py\nfrom django.urls import path\nfrom . import views\n\nurlpatterns = [\n    path('books/', views.book_list, name='book-list'),\n    path('books/&lt;int:pk&gt;/', views.book_detail, name='book-detail'),\n]\n\n# Or for APIView\nurlpatterns = [\n    path('books/', views.BookListAPIView.as_view(), name='book-list'),\n    path('books/&lt;int:pk&gt;/', views.BookDetailAPIView.as_view(), name='book-detail'),\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#generic-views-urls","title":"Generic Views URLs","text":"<pre><code># api/urls.py\nfrom django.urls import path\nfrom . import views\n\nurlpatterns = [\n    path('books/', views.BookListCreateView.as_view(), name='book-list-create'),\n    path('books/&lt;int:pk&gt;/', views.BookRetrieveUpdateDestroyView.as_view(), name='book-detail'),\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#viewset-urls-with-router","title":"ViewSet URLs with Router","text":"<pre><code># api/urls.py\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\nrouter = DefaultRouter()\nrouter.register(r'books', views.BookViewSet, basename='book')\n\nurlpatterns = [\n    path('', include(router.urls)),\n]\n\n# This automatically creates:\n# GET    /api/books/          - List all books\n# POST   /api/books/          - Create new book\n# GET    /api/books/{id}/     - Retrieve book\n# PUT    /api/books/{id}/     - Update book\n# PATCH  /api/books/{id}/     - Partial update\n# DELETE /api/books/{id}/     - Delete book\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-by-step-book-api-implementation","title":"Step-by-Step: Book API Implementation","text":"<p>Let's build a complete Book API from scratch.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-1-create-book-model","title":"Step 1: Create Book Model","text":"<pre><code># api/models.py\nfrom django.db import models\n\nclass Book(models.Model):\n    title = models.CharField(max_length=200)\n    author = models.CharField(max_length=100)\n    published_date = models.DateField()\n    isbn = models.CharField(max_length=13, unique=True, blank=True, null=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return f\"{self.title} by {self.author}\"\n\n    class Meta:\n        ordering = ['-created_at']\n        verbose_name = 'Book'\n        verbose_name_plural = 'Books'\n</code></pre> <p>Create and apply migration:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-2-create-book-serializer","title":"Step 2: Create Book Serializer","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Book\n\nclass BookSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Book\n        fields = ['id', 'title', 'author', 'published_date', 'isbn', 'description', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-3-create-views-using-viewset","title":"Step 3: Create Views (Using ViewSet)","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom .models import Book\nfrom .serializers import BookSerializer\n\nclass BookViewSet(viewsets.ModelViewSet):\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-4-configure-urls","title":"Step 4: Configure URLs","text":"<pre><code># api/urls.py\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\nrouter = DefaultRouter()\nrouter.register(r'books', views.BookViewSet, basename='book')\n\nurlpatterns = [\n    path('', include(router.urls)),\n]\n</code></pre> <pre><code># core/urls.py\nfrom django.contrib import admin\nfrom django.urls import path, include\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('api/', include('api.urls')),\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-5-register-model-in-admin-optional","title":"Step 5: Register Model in Admin (Optional)","text":"<pre><code># api/admin.py\nfrom django.contrib import admin\nfrom .models import Book\n\n@admin.register(Book)\nclass BookAdmin(admin.ModelAdmin):\n    list_display = ['title', 'author', 'published_date', 'created_at']\n    list_filter = ['created_at', 'published_date']\n    search_fields = ['title', 'author']\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-6-test-your-api","title":"Step 6: Test Your API","text":"<pre><code># Start server\npython manage.py runserver\n\n# Test with cURL (see CURL_GUIDE.md for details)\ncurl http://localhost:8000/api/books/\n\n# Or visit in browser\n# http://localhost:8000/api/books/\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-by-step-task-api-implementation","title":"Step-by-Step: Task API Implementation","text":"<p>Now let's adapt this to your existing Task model.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-1-update-task-model-if-needed","title":"Step 1: Update Task Model (if needed)","text":"<pre><code># api/models.py\nfrom django.db import models\n\nclass Task(models.Model):\n    title = models.CharField(max_length=100)\n    desc = models.TextField(null=True, blank=True)\n    completed = models.BooleanField(default=False)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre> <p>Create migration if you added fields:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-2-create-task-serializer","title":"Step 2: Create Task Serializer","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Task\n\nclass TaskSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Task\n        fields = ['id', 'title', 'desc', 'completed', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-3-create-task-viewset","title":"Step 3: Create Task ViewSet","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom .models import Task\nfrom .serializers import TaskSerializer\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    queryset = Task.objects.all()\n    serializer_class = TaskSerializer\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-4-add-task-urls","title":"Step 4: Add Task URLs","text":"<pre><code># api/urls.py\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\nrouter = DefaultRouter()\nrouter.register(r'books', views.BookViewSet, basename='book')\nrouter.register(r'tasks', views.TaskViewSet, basename='task')  # Add this\n\nurlpatterns = [\n    path('', include(router.urls)),\n]\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#step-5-test-task-api","title":"Step 5: Test Task API","text":"<pre><code># Create a task\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Learn DRF\", \"desc\": \"Complete Level 1\", \"completed\": false}'\n\n# List all tasks\ncurl http://localhost:8000/api/tasks/\n\n# Get specific task\ncurl http://localhost:8000/api/tasks/1/\n\n# Update task\ncurl -X PATCH http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"completed\": true}'\n\n# Delete task\ncurl -X DELETE http://localhost:8000/api/tasks/1/\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#custom-response-formats","title":"Custom Response Formats","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#custom-response-structure","title":"Custom Response Structure","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets, status\nfrom rest_framework.response import Response\nfrom .models import Task\nfrom .serializers import TaskSerializer\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    queryset = Task.objects.all()\n    serializer_class = TaskSerializer\n\n    def create(self, request, *args, **kwargs):\n        serializer = self.get_serializer(data=request.data)\n        serializer.is_valid(raise_exception=True)\n        self.perform_create(serializer)\n\n        # Custom response\n        return Response({\n            'success': True,\n            'message': 'Task created successfully',\n            'data': serializer.data\n        }, status=status.HTTP_201_CREATED)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#custom-list-response","title":"Custom List Response","text":"<pre><code># api/views.py\nclass TaskViewSet(viewsets.ModelViewSet):\n    queryset = Task.objects.all()\n    serializer_class = TaskSerializer\n\n    def list(self, request, *args, **kwargs):\n        queryset = self.filter_queryset(self.get_queryset())\n        serializer = self.get_serializer(queryset, many=True)\n\n        return Response({\n            'count': queryset.count(),\n            'results': serializer.data\n        })\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#error-handling","title":"Error Handling","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#basic-error-handling","title":"Basic Error Handling","text":"<pre><code># api/views.py\nfrom rest_framework.views import exception_handler\nfrom rest_framework.response import Response\nfrom rest_framework import status\n\ndef custom_exception_handler(exc, context):\n    response = exception_handler(exc, context)\n\n    if response is not None:\n        custom_response_data = {\n            'error': {\n                'status_code': response.status_code,\n                'message': 'An error occurred',\n                'details': response.data\n            }\n        }\n        response.data = custom_response_data\n\n    return response\n</code></pre> <p>Add to settings.py:</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'EXCEPTION_HANDLER': 'api.views.custom_exception_handler',\n}\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#validation-errors","title":"Validation Errors","text":"<p>DRF automatically handles validation errors. When serializer validation fails:</p> <pre><code># This is handled automatically by DRF\nserializer = TaskSerializer(data=request.data)\nif not serializer.is_valid():\n    return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#testing-with-curl","title":"Testing with cURL","text":"<p>See CURL_GUIDE.md for detailed cURL examples. Here are quick examples:</p> <pre><code># GET - List all tasks\ncurl http://localhost:8000/api/tasks/\n\n# POST - Create task\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"title\": \"Test Task\", \"desc\": \"Description\", \"completed\": false}'\n\n# GET - Retrieve task\ncurl http://localhost:8000/api/tasks/1/\n\n# PATCH - Update task\ncurl -X PATCH http://localhost:8000/api/tasks/1/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"completed\": true}'\n\n# DELETE - Delete task\ncurl -X DELETE http://localhost:8000/api/tasks/1/\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#browsable-api","title":"Browsable API","text":"<p>DRF provides a browsable API interface. Visit any endpoint in your browser:</p> <pre><code>http://localhost:8000/api/tasks/\nhttp://localhost:8000/api/books/\n</code></pre> <p>You'll see: - HTML form to test POST/PUT/PATCH - Response in JSON format - Available actions - Request/response examples</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#exercises","title":"Exercises","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#exercise-1-complete-book-api","title":"Exercise 1: Complete Book API","text":"<ol> <li>Create Book model with fields: title, author, published_date, isbn</li> <li>Create BookSerializer</li> <li>Create BookViewSet</li> <li>Configure URLs</li> <li>Test all CRUD operations with cURL</li> </ol>"},{"location":"LEVEL_1_FOUNDATIONS.html#exercise-2-enhance-task-api","title":"Exercise 2: Enhance Task API","text":"<ol> <li>Add <code>priority</code> field (choices: low, medium, high)</li> <li>Add <code>due_date</code> field</li> <li>Update TaskSerializer to include new fields</li> <li>Test with cURL</li> </ol>"},{"location":"LEVEL_1_FOUNDATIONS.html#exercise-3-create-author-api","title":"Exercise 3: Create Author API","text":"<ol> <li>Create Author model (name, email, bio)</li> <li>Create AuthorSerializer and AuthorViewSet</li> <li>Add to URLs</li> <li>Test CRUD operations</li> </ol>"},{"location":"LEVEL_1_FOUNDATIONS.html#exercise-4-custom-responses","title":"Exercise 4: Custom Responses","text":"<ol> <li>Modify TaskViewSet to return custom response format</li> <li>Include success message and data</li> <li>Test with cURL</li> </ol>"},{"location":"LEVEL_1_FOUNDATIONS.html#exercise-5-practice-problem-product-api","title":"Exercise 5: Practice Problem - Product API","text":"<p>Challenge: Create a complete Product API with the following requirements:</p> <ol> <li>Model: Create a <code>Product</code> model with:</li> <li><code>name</code> (CharField, max 200)</li> <li><code>description</code> (TextField, optional)</li> <li><code>price</code> (DecimalField, max 10 digits, 2 decimal places)</li> <li><code>stock</code> (IntegerField, default 0)</li> <li><code>is_available</code> (BooleanField, default True)</li> <li> <p><code>created_at</code> and <code>updated_at</code> (auto timestamps)</p> </li> <li> <p>Serializer: Create <code>ProductSerializer</code> with:</p> </li> <li>All fields included</li> <li><code>id</code>, <code>created_at</code>, <code>updated_at</code> as read-only</li> <li> <p>Validation: price must be &gt; 0, stock must be &gt;= 0</p> </li> <li> <p>ViewSet: Create <code>ProductViewSet</code> using <code>ModelViewSet</code></p> </li> <li> <p>URLs: Configure routing with DefaultRouter</p> </li> <li> <p>Testing: Test all CRUD operations:</p> </li> <li>Create a product</li> <li>List all products</li> <li>Retrieve a specific product</li> <li>Update a product (full and partial)</li> <li>Delete a product</li> </ol> <p>Solution Hints:</p> <pre><code># Model\nclass Product(models.Model):\n    name = models.CharField(max_length=200)\n    description = models.TextField(blank=True)\n    price = models.DecimalField(max_digits=10, decimal_places=2)\n    stock = models.IntegerField(default=0)\n    is_available = models.BooleanField(default=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n# Serializer validation\ndef validate_price(self, value):\n    if value &lt;= 0:\n        raise serializers.ValidationError(\"Price must be greater than 0\")\n    return value\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#trivia","title":"Trivia","text":"<p>Test your understanding with these questions:</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-1","title":"Question 1","text":"<p>What does ORM stand for? - [ ] Object-Relational Mapping - [x] Object-Relational Mapping \u2713 - [ ] Object-Record Mapping - [ ] Object-Resource Mapping</p> <p>Explanation: ORM = Object-Relational Mapping. It's the technique that converts Python objects to database records and vice versa.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-2","title":"Question 2","text":"<p>What is the purpose of <code>makemigrations</code>? - [x] Create migration files without changing database - [ ] Apply migrations to database - [ ] Delete old migrations - [ ] View migration history</p> <p>Explanation: <code>makemigrations</code> creates migration files that describe database changes, but doesn't actually modify the database. Use <code>migrate</code> to apply them.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-3","title":"Question 3","text":"<p>Which HTTP method is used to create a new resource? - [ ] GET - [x] POST - [ ] PUT - [ ] DELETE</p> <p>Explanation: POST is used to create new resources. GET retrieves, PUT/PATCH updates, DELETE removes.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-4","title":"Question 4","text":"<p>What does CORS stand for? - [ ] Cross-Origin Resource Sharing - [x] Cross-Origin Resource Sharing \u2713 - [ ] Cross-Origin Request Sharing - [ ] Cross-Origin Response Sharing</p> <p>Explanation: CORS = Cross-Origin Resource Sharing. It allows browsers to make requests to APIs on different domains.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-5","title":"Question 5","text":"<p>What is the difference between <code>null=True</code> and <code>blank=True</code> in Django models? - [ ] They are the same - [x] <code>null=True</code> allows NULL in database, <code>blank=True</code> allows empty in forms - [ ] <code>null=True</code> is for strings, <code>blank=True</code> is for numbers - [ ] <code>null=True</code> is for forms, <code>blank=True</code> is for database</p> <p>Explanation:  - <code>null=True</code> = Database can store NULL - <code>blank=True</code> = Forms/API can accept empty value - For CharField/TextField, you often need both: <code>null=True, blank=True</code></p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-6","title":"Question 6","text":"<p>What does <code>auto_now_add=True</code> do? - [ ] Updates the field every time the object is saved - [x] Sets the field to current time only when object is first created - [ ] Deletes the field after creation - [ ] Makes the field optional</p> <p>Explanation: <code>auto_now_add=True</code> sets the field to the current timestamp when the object is first created. Use <code>auto_now=True</code> to update on every save.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-7","title":"Question 7","text":"<p>What is a ViewSet? - [ ] A single view function - [x] A class that provides CRUD operations for a model - [ ] A URL pattern - [ ] A serializer class</p> <p>Explanation: ViewSet is a class that combines multiple view actions (list, create, retrieve, update, delete) into one class. It works with routers to automatically create URLs.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-8","title":"Question 8","text":"<p>What status code should you return when creating a new resource? - [ ] 200 - [x] 201 - [ ] 204 - [ ] 400</p> <p>Explanation: 201 Created is the standard status code for successful resource creation. 200 is for successful retrieval, 204 for successful deletion.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-9","title":"Question 9","text":"<p>What is the purpose of <code>read_only_fields</code> in a serializer? - [ ] Fields that can only be read from database - [x] Fields that are included in response but cannot be set via API - [ ] Fields that are hidden from response - [ ] Fields that are required</p> <p>Explanation: <code>read_only_fields</code> are included when serializing (sending to client) but cannot be set when deserializing (receiving from client). Common for auto-generated fields like <code>id</code> and <code>created_at</code>.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#question-10","title":"Question 10","text":"<p>Why do we use virtual environments? - [ ] To make Python run faster - [x] To isolate project dependencies and avoid conflicts - [ ] To secure our code - [ ] To organize files</p> <p>Explanation: Virtual environments isolate Python packages for each project, preventing conflicts when different projects need different versions of the same package.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#practice-problems","title":"Practice Problems","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#problem-1-understanding-the-flow","title":"Problem 1: Understanding the Flow","text":"<p>Task: Explain what happens when a client sends a POST request to create a book. Trace the request through: 1. URL routing 2. View processing 3. Serializer validation 4. Model creation 5. Response generation</p> <p>Solution:</p> <pre><code>1. Client sends POST /api/books/ with JSON data\n2. URL router matches pattern, calls BookViewSet.create()\n3. View receives request, gets serializer\n4. Serializer validates data (checks required fields, types)\n5. If valid: serializer.save() creates Book object in database\n6. Serializer converts Book object to JSON\n7. View returns Response with JSON and 201 status code\n8. Client receives response\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#problem-2-debugging","title":"Problem 2: Debugging","text":"<p>Scenario: You created a Book model and serializer, but when you try to create a book via API, you get a 400 error saying \"title is required\" even though you're sending it.</p> <p>Possible Issues: 1. Field name mismatch (sending <code>book_title</code> but model expects <code>title</code>) 2. Serializer not including <code>title</code> in fields 3. Content-Type header missing (not <code>application/json</code>) 4. JSON syntax error in request body</p> <p>How to Debug:</p> <pre><code># Check serializer fields\nprint(BookSerializer().fields.keys())\n\n# Check request data\nprint(request.data)\n\n# Check validation errors\nserializer = BookSerializer(data=request.data)\nif not serializer.is_valid():\n    print(serializer.errors)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#problem-3-model-design","title":"Problem 3: Model Design","text":"<p>Task: Design a model for a Blog Post with these requirements: - Title (required, max 200 chars) - Content (required, can be long) - Author name (required) - Published date (optional, can be set later) - Is published (boolean, default False) - View count (integer, starts at 0) - Created and updated timestamps</p> <p>Solution:</p> <pre><code>class BlogPost(models.Model):\n    title = models.CharField(max_length=200)\n    content = models.TextField()\n    author_name = models.CharField(max_length=100)\n    published_date = models.DateTimeField(null=True, blank=True)\n    is_published = models.BooleanField(default=False)\n    view_count = models.IntegerField(default=0)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#problem-4-serializer-customization","title":"Problem 4: Serializer Customization","text":"<p>Task: Create a serializer that: - Includes all fields from Book model - Adds a computed field <code>is_recent</code> (True if created in last 7 days) - Excludes <code>updated_at</code> from response - Makes <code>isbn</code> optional when creating</p> <p>Solution:</p> <pre><code>from datetime import timedelta\nfrom django.utils import timezone\n\nclass BookSerializer(serializers.ModelSerializer):\n    is_recent = serializers.SerializerMethodField()\n\n    class Meta:\n        model = Book\n        fields = ['id', 'title', 'author', 'published_date', 'isbn', \n                  'created_at', 'is_recent']\n        read_only_fields = ['id', 'created_at']\n\n    def get_is_recent(self, obj):\n        seven_days_ago = timezone.now() - timedelta(days=7)\n        return obj.created_at &gt;= seven_days_ago\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#add-ons","title":"Add-ons","text":""},{"location":"LEVEL_1_FOUNDATIONS.html#add-on-1-custom-response-format","title":"Add-on 1: Custom Response Format","text":"<p>Implement a consistent response format across all endpoints.</p>"},{"location":"LEVEL_1_FOUNDATIONS.html#add-on-2-model-validation","title":"Add-on 2: Model Validation","text":"<p>Add custom validation to models:</p> <pre><code># api/models.py\nfrom django.core.exceptions import ValidationError\n\nclass Task(models.Model):\n    # ... fields ...\n\n    def clean(self):\n        if self.completed and not self.desc:\n            raise ValidationError('Completed tasks must have a description')\n\n    def save(self, *args, **kwargs):\n        self.full_clean()\n        super().save(*args, **kwargs)\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#add-on-3-serializer-validation","title":"Add-on 3: Serializer Validation","text":"<pre><code># api/serializers.py\nclass TaskSerializer(serializers.ModelSerializer):\n    # ... fields ...\n\n    def validate_title(self, value):\n        if len(value) &lt; 3:\n            raise serializers.ValidationError(\"Title must be at least 3 characters\")\n        return value\n\n    def validate(self, data):\n        if data.get('completed') and not data.get('desc'):\n            raise serializers.ValidationError(\"Completed tasks must have a description\")\n        return data\n</code></pre>"},{"location":"LEVEL_1_FOUNDATIONS.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 1. You now know:</p> <ul> <li>\u2705 REST fundamentals</li> <li>\u2705 Django project structure</li> <li>\u2705 Models and migrations</li> <li>\u2705 Serializers</li> <li>\u2705 Views (APIView, Generic Views, ViewSets)</li> <li>\u2705 URL routing</li> <li>\u2705 Building CRUD APIs</li> </ul> <p>Ready for Level 2? Continue to Level 2: Intermediate to learn about authentication, permissions, filtering, and pagination!</p> <p>Resources: - DRF Official Tutorial - Django Models Documentation - DRF Serializers Guide</p>"},{"location":"LEVEL_2_INTERMEDIATE.html","title":"Level 2: Intermediate - Authentication, Permissions &amp; Querysets","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#goal","title":"Goal","text":"<p>Build secure APIs with robust authentication, permissions, filtering, searching, ordering, and pagination. By the end of this level, you'll be able to create production-ready, secure REST APIs.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#note-on-examples","title":"Note on Examples","text":"<p>This guide uses Task API as the primary example throughout explanation sections for consistency with Level 1. Complete step-by-step implementations are provided for both Task API (user-owned, private data) and Book API (can be public or user-owned) to show different use cases:</p> <ul> <li>Task API examples: Used in explanations (permissions, filtering, searching, etc.) - represents private, user-owned data</li> <li>Book API examples: Used in complete step-by-step section - represents content that can be public or user-owned</li> <li>Both examples: Help you understand different scenarios and patterns</li> </ul> <p>You can apply all concepts to any model (Task, Book, Product, Post, etc.).</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#class-based-views-cbv-approach","title":"Class-Based Views (CBV) Approach","text":"<p>This guide follows the Class-Based Views (CBV) approach throughout, which is the recommended and modern way to build DRF APIs:</p> <ul> <li>\u2705 ViewSets (<code>ModelViewSet</code>, <code>ReadOnlyViewSet</code>) - For CRUD operations</li> <li>\u2705 Generic Views (<code>CreateAPIView</code>, <code>ListAPIView</code>, etc.) - For specific operations</li> <li>\u2705 APIView - For custom logic when needed</li> <li>\u274c Function-based views (<code>@api_view</code>) - Only used when absolutely necessary</li> </ul> <p>Why Class-Based Views? - Reusable: Easy to extend and customize - DRY: Less code duplication - Built-in features: Authentication, permissions, filtering work automatically - Industry standard: Most DRF projects use CBV - Better organization: Clear separation of concerns</p> <p>All examples in this guide use class-based views unless explicitly noted otherwise.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Class-Based Views (CBV) Approach</li> <li>Django Authentication System</li> <li>DRF Authentication Classes</li> <li>JWT Authentication Setup</li> <li>Permissions</li> <li>Filtering</li> <li>Searching</li> <li>Ordering</li> <li>Pagination</li> <li>Step-by-Step: Secure Book API</li> <li>Step-by-Step: Secure Task API</li> <li>UserProfile API</li> <li>Throttling</li> <li>Exception Handling</li> <li>Testing Authenticated APIs</li> <li>Exercises</li> <li>Common Errors and Solutions</li> <li>Add-ons</li> </ol>"},{"location":"LEVEL_2_INTERMEDIATE.html#django-authentication-system","title":"Django Authentication System","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#why-authentication","title":"Why Authentication?","text":"<p>The Problem: Without authentication, anyone can access your API and modify data. This is a security risk!</p> <p>Real-world analogy:  - No authentication = House with no locks (anyone can enter) - With authentication = House with keys (only authorized people enter)</p> <p>Why it matters: - Security: Protect user data - Personalization: Show users only their data - Accountability: Track who did what - Access control: Limit what users can do</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#understanding-django-users","title":"Understanding Django Users","text":"<p>Django comes with a built-in User model that handles user accounts:</p> <p>What is a User model? - Represents a person using your application - Stores login credentials (username, password) - Tracks user information (email, name) - Manages permissions and access levels</p> <p>Why use Django's User model? - Ready-made: No need to build from scratch - Secure: Password hashing built-in - Tested: Used by millions of applications - Flexible: Can be extended for custom needs</p> <pre><code>from django.contrib.auth.models import User\n\n# User fields\nuser.username      # Username\nuser.email         # Email address\nuser.password      # Hashed password (never access directly)\nuser.first_name    # First name\nuser.last_name     # Last name\nuser.is_staff      # Admin access (can access Django admin)\nuser.is_active     # Account status (False = disabled account)\nuser.is_superuser  # Superuser (all permissions)\nuser.date_joined   # When user account was created\n</code></pre> <p>Explanation of key fields: - <code>username</code>: Unique identifier for login - <code>email</code>: User's email address - <code>password</code>: Stored as hash (never plain text) - <code>is_staff</code>: Can access Django admin panel - <code>is_active</code>: If False, user cannot login - <code>is_superuser</code>: Has all permissions automatically</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#creating-users","title":"Creating Users","text":"<p>Why multiple methods? - Different methods serve different purposes - Some hash passwords (secure), others don't (insecure) - Always use methods that hash passwords!</p> <pre><code># In Django shell: python manage.py shell\n\nfrom django.contrib.auth.models import User\n\n# Method 1: create_user (recommended - hashes password)\nuser = User.objects.create_user(\n    username='john',\n    email='john@example.com',\n    password='securepassword123'\n)\n</code></pre> <p>Why <code>create_user</code>? - Password hashing: Converts password to secure hash (can't be reversed) - Validation: Checks username/email format - Default values: Sets sensible defaults (is_active=True) - Security: Never store plain text passwords!</p> <p>What is password hashing? - Plain password: <code>\"mypassword123\"</code> \u274c (stored as-is, anyone can read) - Hashed password: <code>\"pbkdf2_sha256$...\"</code> \u2705 (one-way encryption, can't be reversed) - When user logs in, Django hashes their input and compares with stored hash</p> <pre><code># Method 2: create_superuser\nadmin = User.objects.create_superuser(\n    username='admin',\n    email='admin@example.com',\n    password='admin123'\n)\n</code></pre> <p>Why <code>create_superuser</code>? - Creates user with admin privileges (<code>is_staff=True</code>, <code>is_superuser=True</code>) - Can access Django admin panel - Has all permissions by default - Use for site administrators</p> <pre><code># Method 3: Using User.objects.create (not recommended - password not hashed)\n</code></pre> <p>Why NOT use <code>User.objects.create</code>? - Security risk: Password stored in plain text! - No validation - No password hashing - Never use this for passwords!</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#custom-user-model","title":"Custom User Model","text":"<p>Why create a custom user model?</p> <p>The Problem: Django's default User model has limited fields (username, email, password). What if you need: - Phone numbers - Profile pictures - Bio/description - Custom fields</p> <p>The Solution: Extend Django's User model with your own fields.</p> <p>When to use custom user model? - Production apps: Almost always - Need extra fields: Phone, avatar, bio, etc. - Different login: Email instead of username - Before first migration: Must set before creating database</p> <p>Why before first migration? - Changing user model after migration is very difficult - Requires database restructuring - Can cause data loss - Always decide early!</p> <pre><code># api/models.py\nfrom django.contrib.auth.models import AbstractUser\nfrom django.db import models\n\nclass CustomUser(AbstractUser):\n    phone_number = models.CharField(max_length=15, blank=True)\n    bio = models.TextField(blank=True)\n    avatar = models.ImageField(upload_to='avatars/', blank=True, null=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return self.username\n</code></pre> <p>Explanation: - <code>AbstractUser</code>: Base class with all default User fields (username, email, password, etc.) - Extend it: Add your custom fields - Inherits everything: All User functionality still works - Add custom fields: Phone, bio, avatar, etc.</p> <p>Update settings.py:</p> <pre><code># core/settings.py\nAUTH_USER_MODEL = 'api.CustomUser'\n</code></pre> <p>What this does: - Tells Django to use your custom user model - Replaces default User model everywhere - Must be set before first migration!</p> <p>Important: Set this before your first migration! Once migrations are created, changing is very difficult.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#drf-authentication-classes","title":"DRF Authentication Classes","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#authentication-vs-authorization","title":"Authentication vs Authorization","text":"<p>These are two different but related concepts:</p> <ul> <li>Authentication: Who are you? (Identity)</li> <li>Verifies user's identity</li> <li>\"Are you really John?\"</li> <li> <p>Examples: Login, password check, token verification</p> </li> <li> <p>Authorization: What can you do? (Permissions)</p> </li> <li>Determines what user can access</li> <li>\"Can John edit this book?\"</li> <li>Examples: Admin only, owner only, read-only</li> </ul> <p>Real-world analogy: - Authentication = Showing ID at entrance (proving who you are) - Authorization = Security guard checking if you have access to VIP area (what you can do)</p> <p>Why both? - Authentication without authorization = Everyone can do everything - Authorization without authentication = Can't identify users - Need both for secure APIs!</p> <p>The Flow:</p> <pre><code>1. User sends credentials \u2192 Authentication (who are you?)\n2. If authenticated \u2192 Check permissions \u2192 Authorization (what can you do?)\n3. If authorized \u2192 Allow access\n4. If not authorized \u2192 Deny access (403 Forbidden)\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#drf-authentication-types","title":"DRF Authentication Types","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#1-session-authentication","title":"1. Session Authentication","text":"<p>What is Session Authentication?</p> <p>Uses Django's session framework. Stores authentication state on the server.</p> <p>How it works: 1. User logs in with username/password 2. Server creates a session (stored in database/cache) 3. Server sends session ID in cookie to browser 4. Browser sends cookie with each request 5. Server checks session to identify user</p> <p>Why use it? - Simple: Built into Django - Secure: Session stored server-side - Good for: Web apps (same domain) - Automatic: Browser handles cookies</p> <p>Limitations: - Same-origin only: Doesn't work well with mobile apps - Cookie-based: Requires browser cookie support - Server storage: Needs database/cache for sessions</p> <p>When to use: - Web applications (React, Vue on same domain) - Traditional web apps - When you control both frontend and backend</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': [\n        'rest_framework.authentication.SessionAuthentication',\n    ],\n}\n</code></pre> <p>Why this configuration? - Sets default authentication for all views - Can override per-view if needed - Multiple authentication classes can be used (tries each until one works)</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#2-token-authentication","title":"2. Token Authentication","text":"<p>Simple token-based authentication. Good for client-server setups.</p> <pre><code># Install\npip install djangorestframework-simplejwt\n</code></pre> <pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'rest_framework',\n    'rest_framework_simplejwt',  # Add this\n]\n\nREST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': [\n        'rest_framework_simplejwt.authentication.JWTAuthentication',\n    ],\n}\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#3-jwt-authentication-recommended","title":"3. JWT Authentication (Recommended)","text":"<p>What is JWT?</p> <p>JWT = JSON Web Token</p> <p>How it works: 1. User logs in with username/password 2. Server creates a JWT token (contains user info) 3. Server sends token to client 4. Client stores token (localStorage, memory) 5. Client sends token with each request in header 6. Server verifies token and extracts user info</p> <p>Why JWT is popular: - Stateless: No server-side storage needed - Scalable: Works across multiple servers - Mobile-friendly: Works with mobile apps - Industry standard: Used by major companies - Self-contained: Token has all user info</p> <p>JWT Structure:</p> <pre><code>Header.Payload.Signature\n\nExample:\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxfQ.signature\n</code></pre> <p>Parts: - Header: Algorithm and token type - Payload: User data (ID, username, etc.) - Signature: Ensures token wasn't tampered with</p> <p>Why stateless matters: - Session auth: Server stores session \u2192 needs database lookup - JWT auth: Token contains info \u2192 no database lookup needed - Result: Faster, more scalable</p> <p>Security considerations: - Tokens expire (access token: 1 hour, refresh token: 1 day) - Tokens can be blacklisted if compromised - Always use HTTPS in production (tokens in headers)</p> <p>When to use JWT: - \u2705 Mobile apps (iOS, Android) - \u2705 Single Page Applications (SPA) - \u2705 Microservices - \u2705 APIs used by multiple clients - \u274c Not ideal for traditional server-rendered apps</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#jwt-authentication-setup","title":"JWT Authentication Setup","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#step-1-install-package","title":"Step 1: Install Package","text":"<pre><code>pip install djangorestframework-simplejwt\npip freeze &gt; requirements.txt\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-2-add-to-installed_apps","title":"Step 2: Add to INSTALLED_APPS","text":"<pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'rest_framework',\n    'rest_framework_simplejwt',\n    'api',\n]\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-3-configure-jwt-settings","title":"Step 3: Configure JWT Settings","text":"<pre><code># core/settings.py\nfrom datetime import timedelta\n\nREST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': [\n        'rest_framework_simplejwt.authentication.JWTAuthentication',\n    ],\n    'DEFAULT_PERMISSION_CLASSES': [\n        'rest_framework.permissions.IsAuthenticated',\n    ],\n}\n\nSIMPLE_JWT = {\n    'ACCESS_TOKEN_LIFETIME': timedelta(minutes=60),\n    'REFRESH_TOKEN_LIFETIME': timedelta(days=1),\n    'ROTATE_REFRESH_TOKENS': True,\n    'BLACKLIST_AFTER_ROTATION': True,\n    'UPDATE_LAST_LOGIN': True,\n    'ALGORITHM': 'HS256',\n    'SIGNING_KEY': SECRET_KEY,\n    'AUTH_HEADER_TYPES': ('Bearer',),\n    'AUTH_HEADER_NAME': 'HTTP_AUTHORIZATION',\n    'USER_ID_FIELD': 'id',\n    'USER_ID_CLAIM': 'user_id',\n}\n</code></pre> <p>Explanation of JWT Settings:</p> <ul> <li><code>ACCESS_TOKEN_LIFETIME</code>: How long access token is valid (60 minutes)</li> <li>Why short?: If stolen, expires quickly</li> <li> <p>Trade-off: Security vs convenience</p> </li> <li> <p><code>REFRESH_TOKEN_LIFETIME</code>: How long refresh token is valid (1 day)</p> </li> <li>Why longer?: Used to get new access tokens</li> <li> <p>More secure: Stored more securely, used less often</p> </li> <li> <p><code>ROTATE_REFRESH_TOKENS</code>: Issue new refresh token when used</p> </li> <li>Why?: If old token stolen, it becomes invalid</li> <li> <p>Security: Limits damage from token theft</p> </li> <li> <p><code>BLACKLIST_AFTER_ROTATION</code>: Add old refresh token to blacklist</p> </li> <li>Why?: Prevents reuse of old tokens</li> <li> <p>Security: One-time use tokens</p> </li> <li> <p><code>UPDATE_LAST_LOGIN</code>: Update user's last login time</p> </li> <li> <p>Why?: Track user activity, security monitoring</p> </li> <li> <p><code>ALGORITHM</code>: How token is signed ('HS256' = HMAC SHA-256)</p> </li> <li>Why HS256?: Fast, secure, widely supported</li> <li> <p>Alternative: RS256 (asymmetric, more secure but slower)</p> </li> <li> <p><code>SIGNING_KEY</code>: Secret key to sign tokens (use Django SECRET_KEY)</p> </li> <li>Why secret?: Anyone with key can create valid tokens</li> <li> <p>Security: Never expose this key!</p> </li> <li> <p><code>AUTH_HEADER_TYPES</code>: Token type in header ('Bearer')</p> </li> <li>Why Bearer?: Standard OAuth2 format</li> <li> <p>Usage: <code>Authorization: Bearer &lt;token&gt;</code></p> </li> <li> <p><code>USER_ID_FIELD</code>: Which User model field to use ('id')</p> </li> <li><code>USER_ID_CLAIM</code>: Where to store user ID in token ('user_id')</li> </ul> <pre><code>### Step 4: Add JWT URLs\n\n```python\n# core/urls.py\nfrom django.contrib import admin\nfrom django.urls import path, include\nfrom rest_framework_simplejwt.views import (\n    TokenObtainPairView,\n    TokenRefreshView,\n    TokenVerifyView,\n)\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('api/', include('api.urls')),\n    # JWT endpoints\n    path('api/token/', TokenObtainPairView.as_view(), name='token_obtain_pair'),\n    path('api/token/refresh/', TokenRefreshView.as_view(), name='token_refresh'),\n    path('api/token/verify/', TokenVerifyView.as_view(), name='token_verify'),\n]\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-5-create-user-registration-view","title":"Step 5: Create User Registration View","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom django.contrib.auth.models import User\n\nclass UserRegistrationSerializer(serializers.ModelSerializer):\n    password = serializers.CharField(write_only=True, min_length=8)\n    password_confirm = serializers.CharField(write_only=True)\n\n    class Meta:\n        model = User\n        fields = ['username', 'email', 'password', 'password_confirm', 'first_name', 'last_name']\n\n    def validate(self, data):\n        if data['password'] != data['password_confirm']:\n            raise serializers.ValidationError(\"Passwords don't match\")\n        return data\n\n    def create(self, validated_data):\n        validated_data.pop('password_confirm')\n        user = User.objects.create_user(**validated_data)\n        return user\n</code></pre> <pre><code># api/views.py\nfrom rest_framework import generics, status\nfrom rest_framework.response import Response\nfrom rest_framework_simplejwt.tokens import RefreshToken\nfrom django.contrib.auth.models import User\nfrom .serializers import UserRegistrationSerializer\n\nclass UserRegistrationView(generics.CreateAPIView):\n    queryset = User.objects.all()\n    serializer_class = UserRegistrationSerializer\n    permission_classes = []  # Allow anyone to register\n\n    def create(self, request, *args, **kwargs):\n        serializer = self.get_serializer(data=request.data)\n        serializer.is_valid(raise_exception=True)\n        user = serializer.save()\n\n        # Generate tokens\n        refresh = RefreshToken.for_user(user)\n\n        return Response({\n            'user': serializer.data,\n            'refresh': str(refresh),\n            'access': str(refresh.access_token),\n        }, status=status.HTTP_201_CREATED)\n</code></pre> <pre><code># api/urls.py\nfrom django.urls import path\nfrom . import views\n\nurlpatterns = [\n    # ... other URLs ...\n    path('register/', views.UserRegistrationView.as_view(), name='register'),\n]\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-6-test-jwt-authentication","title":"Step 6: Test JWT Authentication","text":"<pre><code># Register user\ncurl -X POST http://localhost:8000/api/register/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"username\": \"testuser\",\n    \"email\": \"test@example.com\",\n    \"password\": \"testpass123\",\n    \"password_confirm\": \"testpass123\"\n  }'\n\n# Get token\ncurl -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"testuser\", \"password\": \"testpass123\"}'\n\n# Use token\nTOKEN=\"your_access_token_here\"\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#permissions","title":"Permissions","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#what-are-permissions","title":"What are Permissions?","text":"<p>Permissions determine what authenticated users can do.</p> <p>Why Permissions? - Security: Not all users should do everything - Data protection: Users should only see/edit their own data - Role-based access: Admins can do more than regular users - Compliance: Meet security requirements</p> <p>Real-world analogy: - No permissions = Everyone has master key (bad!) - With permissions = Different keys for different access levels (good!)</p> <p>Permission Levels: 1. Public: Anyone can access (AllowAny) 2. Authenticated: Must be logged in (IsAuthenticated) 3. Owner: Can only access own data (IsOwnerOrReadOnly) 4. Admin: Only staff can access (IsAdminUser)</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#built-in-permission-classes","title":"Built-in Permission Classes","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#1-allowany","title":"1. AllowAny","text":"<p>What it does: Anyone can access, no authentication required.</p> <p>Why use it? - Public data (blog posts, product listings) - Registration/login endpoints - Public APIs - When you want maximum accessibility</p> <p>Security note: Use carefully! Only for truly public data.</p> <p>When to use: - \u2705 Public blog posts - \u2705 Product catalogs - \u2705 Public user profiles - \u274c User data - \u274c Admin functions</p> <pre><code>from rest_framework.permissions import AllowAny\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [AllowAny]\n    # ...\n</code></pre> <p>Note: In this example, we use <code>TaskViewSet</code>, but the same pattern applies to any ViewSet (Book, Product, etc.).</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#2-isauthenticated","title":"2. IsAuthenticated","text":"<p>What it does: User must be logged in (authenticated) to access.</p> <p>Why use it? - Protect data: Only logged-in users can access - User-specific content: Show personalized data - Account required: Force users to create accounts - Security: Basic protection for most endpoints</p> <p>When to use: - \u2705 User's own tasks/books - \u2705 User profiles - \u2705 Private data - \u2705 Any endpoint requiring user identity</p> <p>What happens if not authenticated? - Returns <code>401 Unauthorized</code> - Client must login first - Token/session required</p> <pre><code>from rest_framework.permissions import IsAuthenticated\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAuthenticated]\n    # ...\n</code></pre> <p>Why this configuration? - Applies to all actions (list, create, retrieve, update, delete) - Can override per-action if needed - Most common permission for user data</p> <p>Note: This is the most common permission for user-owned resources like tasks, where users should only see their own data.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#3-isadminuser","title":"3. IsAdminUser","text":"<p>User must be staff/admin.</p> <pre><code>from rest_framework.permissions import IsAdminUser\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAdminUser]\n    # ...\n</code></pre> <p>Note: Use this for admin-only endpoints. For user data like tasks, you typically want <code>IsAuthenticated</code> instead.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#4-isauthenticatedorreadonly","title":"4. IsAuthenticatedOrReadOnly","text":"<p>What it does:  - Authenticated users: Can do everything (read, create, update, delete) - Unauthenticated users: Can only read (GET requests)</p> <p>Why use it? - Public viewing: Anyone can see data - Protected editing: Only logged-in users can modify - Common pattern: Blog posts, comments, products - User engagement: Encourage registration to participate</p> <p>Real-world example: - Blog: Anyone can read posts, only logged-in users can comment - Products: Anyone can browse, only logged-in users can add to cart - Comments: Anyone can read, only logged-in users can post</p> <p>When to use: - \u2705 Public content with user contributions - \u2705 Read-mostly APIs - \u2705 When you want public access but protected writes - \u274c Private/sensitive data</p> <pre><code>from rest_framework.permissions import IsAuthenticatedOrReadOnly\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAuthenticatedOrReadOnly]\n    # ...\n</code></pre> <p>What this means: - <code>GET /api/tasks/</code> \u2192 Anyone can access \u2705 - <code>POST /api/tasks/</code> \u2192 Must be authenticated \u2705 - <code>PUT /api/tasks/1/</code> \u2192 Must be authenticated \u2705 - <code>DELETE /api/tasks/1/</code> \u2192 Must be authenticated \u2705</p> <p>Note: For private user data like personal tasks, you'd typically use <code>IsAuthenticated</code> instead. This permission is better for public content.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#custom-permissions","title":"Custom Permissions","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#isownerorreadonly","title":"IsOwnerOrReadOnly","text":"<p>Only the owner can edit/delete, others can read.</p> <pre><code># api/permissions.py\nfrom rest_framework import permissions\n\nclass IsOwnerOrReadOnly(permissions.BasePermission):\n    \"\"\"\n    Custom permission to only allow owners to edit/delete objects.\n    \"\"\"\n\n    def has_object_permission(self, request, view, obj):\n        # Read permissions for any request\n        if request.method in permissions.SAFE_METHODS:\n            return True\n\n        # Write permissions only to the owner\n        return obj.owner == request.user\n</code></pre> <p>Use in views:</p> <pre><code># api/views.py\nfrom .permissions import IsOwnerOrReadOnly\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAuthenticated, IsOwnerOrReadOnly]\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)\n</code></pre> <p>Why this works for tasks: - Users can read all tasks (or filter to their own in <code>get_queryset()</code>) - Users can only edit/delete their own tasks - Perfect for user-owned resources like tasks, notes, etc.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#permission-at-view-level","title":"Permission at View Level","text":"<p>Why different permissions per action? - List/Retrieve: Maybe public (AllowAny) or authenticated (IsAuthenticated) - Create: Usually requires authentication - Update/Delete: Usually requires ownership (IsOwnerOrReadOnly)</p> <pre><code># Different permissions for different actions\nclass TaskViewSet(viewsets.ModelViewSet):\n    def get_permissions(self):\n        if self.action == 'create':\n            permission_classes = [IsAuthenticated]  # Must be logged in to create\n        elif self.action in ['update', 'partial_update', 'destroy']:\n            permission_classes = [IsAuthenticated, IsOwnerOrReadOnly]  # Must own to edit\n        else:\n            permission_classes = [IsAuthenticated]  # Must be logged in to view\n        return [permission() for permission in permission_classes]\n</code></pre> <p>Explanation: - <code>create</code>: Anyone authenticated can create tasks - <code>update/delete</code>: Only task owner can modify - <code>list/retrieve</code>: Authenticated users can view (you might filter to own tasks in <code>get_queryset()</code>)</p> <p>Alternative for private tasks (users only see their own):</p> <pre><code>class TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAuthenticated]  # Same for all actions\n\n    def get_queryset(self):\n        # Users only see their own tasks\n        return Task.objects.filter(owner=self.request.user)\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#filtering","title":"Filtering","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#what-is-filtering","title":"What is Filtering?","text":"<p>Filtering allows clients to request specific subsets of data based on criteria.</p> <p>The Problem: Without filtering, clients get ALL data, even if they only need a subset.</p> <p>Example: - Without filtering: <code>GET /api/tasks/</code> \u2192 Returns all tasks (10,000 tasks) \u274c - With filtering: <code>GET /api/tasks/?completed=false</code> \u2192 Returns only incomplete tasks \u2705</p> <p>Why Filtering? - Performance: Return only needed data (faster queries) - User experience: Users find what they're looking for - Bandwidth: Less data transferred - Database efficiency: Queries only relevant records</p> <p>Real-world analogy: - No filtering = Library with no organization (find book by searching all shelves) - With filtering = Library with sections (go directly to \"Fiction\" section)</p> <p>Common Filter Types: - Exact match: <code>?completed=true</code> (completed exactly equals true) - Contains: <code>?title__icontains=django</code> (title contains \"django\") - Boolean: <code>?completed=false</code> (filter by boolean field) - Date range: <code>?created_after=2024-01-01</code> (created after date)</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#install-django-filter","title":"Install django-filter","text":"<p>Why django-filter? - Makes filtering easy and powerful - Supports complex filters - Works seamlessly with DRF - Handles edge cases</p> <pre><code>pip install django-filter\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#configure-in-settingspy","title":"Configure in settings.py","text":"<pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'django_filters',\n    'rest_framework',\n]\n\nREST_FRAMEWORK = {\n    'DEFAULT_FILTER_BACKENDS': [\n        'django_filters.rest_framework.DjangoFilterBackend',\n        'rest_framework.filters.SearchFilter',\n        'rest_framework.filters.OrderingFilter',\n    ],\n}\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#basic-filtering","title":"Basic Filtering","text":"<p>How it works: 1. Client adds query parameters to URL: <code>?completed=false</code> 2. Django Filter intercepts request 3. Applies filters to queryset 4. Returns filtered results</p> <p>Why <code>filter_backends</code>? - Tells DRF which filtering system to use - Can use multiple backends (filtering + searching + ordering) - Each backend handles different aspects</p> <pre><code># api/views.py\nfrom django_filters.rest_framework import DjangoFilterBackend\nfrom rest_framework import viewsets, filters\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    queryset = Task.objects.all()\n    serializer_class = TaskSerializer\n    filter_backends = [DjangoFilterBackend]  # Enable filtering\n    filterset_fields = ['completed', 'created_at']  # Which fields can be filtered\n</code></pre> <p>Explanation: - <code>filter_backends</code>: List of filtering systems to use - <code>filterset_fields</code>: Simple list of fields that can be filtered - Exact match: <code>?completed=false</code> finds tasks where completed exactly equals False</p> <p>Usage:</p> <pre><code># Filter by completed status\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/?completed=false\n</code></pre> <p>What happens: - URL parameter <code>completed=false</code> - Django Filter finds tasks where <code>completed</code> field equals False - Returns only incomplete tasks</p> <pre><code># Filter by multiple fields (if you have date field)\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?completed=false&amp;created_at=2024-01-01\"\n</code></pre> <p>What happens: - Both filters applied: <code>completed=false</code> AND <code>created_at=2024-01-01</code> - Returns tasks matching BOTH criteria - Filters are combined with AND logic</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#advanced-filtering-with-filterset","title":"Advanced Filtering with FilterSet","text":"<p>Why use FilterSet instead of <code>filterset_fields</code>? - Advanced lookups: <code>icontains</code>, <code>gte</code>, <code>lte</code>, etc. - Custom field names: <code>created_after</code> instead of <code>created_at__gte</code> - More control: Complex filtering logic - Better UX: User-friendly filter names</p> <pre><code># api/filters.py\nimport django_filters\nfrom .models import Task\n\nclass TaskFilter(django_filters.FilterSet):\n    # Filter by title containing text (case-insensitive)\n    title = django_filters.CharFilter(lookup_expr='icontains')\n\n    # Filter by date range\n    created_after = django_filters.DateFilter(field_name='created_at', lookup_expr='gte')\n    created_before = django_filters.DateFilter(field_name='created_at', lookup_expr='lte')\n\n    # Filter by completed status\n    completed = django_filters.BooleanFilter()\n\n    class Meta:\n        model = Task\n        fields = ['completed', 'title', 'created_after', 'created_before']\n</code></pre> <p>Explanation: - <code>title</code>: <code>?title=django</code> finds tasks with \"django\" in title (case-insensitive) - <code>created_after</code>: <code>?created_after=2024-01-01</code> finds tasks created on or after date - <code>created_before</code>: <code>?created_before=2024-12-31</code> finds tasks created before date - <code>completed</code>: <code>?completed=false</code> finds incomplete tasks</p> <pre><code># api/views.py\nfrom .filters import TaskFilter\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    queryset = Task.objects.all()\n    serializer_class = TaskSerializer\n    filterset_class = TaskFilter  # Use FilterSet instead of filterset_fields\n</code></pre> <p>Usage:</p> <pre><code># Filter by title containing \"django\"\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?title=django\"\n\n# Filter by date range\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?created_after=2024-01-01&amp;created_before=2024-12-31\"\n\n# Combine filters\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?completed=false&amp;title=important\"\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#searching","title":"Searching","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#what-is-searching","title":"What is Searching?","text":"<p>Searching allows users to find data by searching across multiple fields with a single query.</p> <p>Difference from Filtering: - Filtering: Exact matches on specific fields (<code>?author=John</code>) - Searching: Partial matches across multiple fields (<code>?search=john</code> finds in title, author, description)</p> <p>Why Searching? - User-friendly: Users don't need to know exact field names - Flexible: Search across multiple fields at once - Common pattern: Search boxes in web apps - Better UX: \"Search for anything\" vs \"Filter by specific field\"</p> <p>Real-world analogy: - Filtering = Library catalog with specific fields (author, genre, year) - Searching = Google search (type anything, finds matches anywhere)</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#searchfilter","title":"SearchFilter","text":"<p>How it works: 1. User types search term: <code>?search=django</code> 2. DRF searches across specified fields 3. Returns records matching search term in ANY field 4. Uses case-insensitive partial matching by default</p> <pre><code># api/views.py\nfrom rest_framework import viewsets, filters\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    queryset = Task.objects.all()\n    serializer_class = TaskSerializer\n    filter_backends = [filters.SearchFilter]  # Enable searching\n    search_fields = ['title', 'desc']  # Fields to search in\n</code></pre> <p>Explanation: - <code>SearchFilter</code>: DRF's built-in search backend (no extra package needed) - <code>search_fields</code>: List of fields to search in - Default behavior: Case-insensitive, partial matching - OR logic: Matches if search term found in ANY field</p> <p>Usage:</p> <pre><code># Search in title and description\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?search=django\"\n</code></pre> <p>What happens: - Searches for \"django\" in <code>title</code> and <code>desc</code> fields - Returns tasks where ANY field contains \"django\" - Case-insensitive: \"Django\", \"DJANGO\", \"django\" all match - Partial match: \"Learn Django REST Framework\" matches \"django\"</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#search-lookup-expressions","title":"Search Lookup Expressions","text":"<p>Advanced search patterns:</p> <pre><code>class TaskViewSet(viewsets.ModelViewSet):\n    search_fields = [\n        '^title',      # Starts with (e.g., \"Learn\" matches \"Learn Django\")\n        '=title',      # Exact match (e.g., \"Learn Django\" only)\n        '@desc',       # Full text search (PostgreSQL only)\n        '$title',      # Regex search (advanced)\n    ]\n</code></pre> <p>When to use each: - <code>^title</code>: When you want tasks starting with specific text - <code>=title</code>: When you need exact match - <code>@desc</code>: PostgreSQL full-text search (most powerful, database-specific) - <code>$title</code>: Complex pattern matching (use sparingly)</p> <p>Most common: Just use field name without prefix for simple case-insensitive search.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#ordering","title":"Ordering","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#what-is-ordering","title":"What is Ordering?","text":"<p>Ordering controls the sequence in which results are returned.</p> <p>The Problem: Without ordering, results come in unpredictable order (usually database insertion order).</p> <p>Why Ordering? - User experience: Show most relevant/newest first - Consistency: Same query always returns same order - Flexibility: Let users choose sort order - Default behavior: Set sensible default (newest first, alphabetical, etc.)</p> <p>Real-world analogy: - No ordering = Bookshelf with random order - With ordering = Bookshelf organized by date (newest first) or alphabetically</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#orderingfilter","title":"OrderingFilter","text":"<p>How it works: 1. Client specifies order: <code>?ordering=-created_at</code> 2. DRF sorts queryset by specified field 3. <code>-</code> prefix means descending (newest first) 4. No prefix means ascending (oldest first)</p> <pre><code># api/views.py\nfrom rest_framework import viewsets, filters\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    queryset = Task.objects.all()\n    serializer_class = TaskSerializer\n    filter_backends = [filters.OrderingFilter]  # Enable ordering\n    ordering_fields = ['title', 'completed', 'created_at', 'updated_at']  # Allowed fields\n    ordering = ['-created_at']  # Default ordering (newest first)\n</code></pre> <p>Explanation: - <code>OrderingFilter</code>: DRF's built-in ordering backend - <code>ordering_fields</code>: Which fields users can sort by (security: prevents sorting by sensitive fields) - <code>ordering</code>: Default order if user doesn't specify - <code>-</code> prefix: Descending order (newest/highest first) - No prefix: Ascending order (oldest/lowest first)</p> <p>Usage:</p> <pre><code># Order by title (ascending: A-Z)\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?ordering=title\"\n</code></pre> <p>What happens: Tasks sorted alphabetically by title (A to Z)</p> <pre><code># Order by created_at (descending: newest first)\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?ordering=-created_at\"\n</code></pre> <p>What happens: Tasks sorted by creation date, newest first (most recent at top)</p> <pre><code># Multiple fields: First by completed status, then by created_at (descending)\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?ordering=completed,-created_at\"\n</code></pre> <p>What happens:  1. First sorts by completed (False first, then True) 2. Within same completion status, sorts by created_at (newest first) 3. Useful for showing incomplete tasks first, then completed</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#pagination","title":"Pagination","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#what-is-pagination","title":"What is Pagination?","text":"<p>Pagination splits large result sets into smaller \"pages\" of data.</p> <p>The Problem: Without pagination, returning 10,000 records causes: - Slow response: Large JSON payload - High memory: Server/client must handle all data - Poor UX: User overwhelmed with data - Database load: Fetching all records at once</p> <p>Why Pagination? - Performance: Faster responses (only fetch what's needed) - User experience: Manageable chunks of data - Scalability: Works with millions of records - Bandwidth: Less data transferred - Mobile-friendly: Smaller payloads for mobile networks</p> <p>Real-world analogy: - No pagination = Dumping entire library catalog on one page - With pagination = Showing 10 books per page with \"Next\" button</p> <p>Common Pagination Types: 1. Page Number: <code>?page=2</code> (most common, user-friendly) 2. Limit/Offset: <code>?limit=20&amp;offset=40</code> (flexible, good for APIs) 3. Cursor: <code>?cursor=abc123</code> (best for large datasets, stable)</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#pagenumberpagination","title":"PageNumberPagination","text":"<p>How it works: 1. Client requests page: <code>?page=2</code> 2. Server calculates which records to return (records 11-20 for page 2) 3. Returns page data + metadata (total count, next/previous links) 4. Client can navigate to next/previous pages</p> <p>Why Page Number? - User-friendly: Easy to understand (\"Go to page 2\") - Simple: Just specify page number - Good for: Web UIs, predictable navigation - Limitation: Can be slow with very large datasets (offset calculation)</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination',\n    'PAGE_SIZE': 10,  # Records per page\n}\n</code></pre> <p>Explanation: - <code>DEFAULT_PAGINATION_CLASS</code>: Applies to all list endpoints - <code>PAGE_SIZE</code>: How many records per page - Can override: Per-view if needed</p> <p>Response format:</p> <pre><code>{\n    \"count\": 100,  // Total number of records\n    \"next\": \"http://localhost:8000/api/tasks/?page=2\",  // URL for next page\n    \"previous\": null,  // URL for previous page (null if on first page)\n    \"results\": [...]  // Actual data (10 records)\n}\n</code></pre> <p>Why this format? - <code>count</code>: Total records (for progress indicators: \"Showing 1-10 of 100\") - <code>next</code>: Direct link to next page (convenient for clients) - <code>previous</code>: Direct link to previous page - <code>results</code>: Actual data array</p> <p>Usage:</p> <pre><code>curl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?page=2\"\n</code></pre> <p>What happens: Returns records 11-20 (page 2, assuming 10 per page)</p> <p>Example response:</p> <pre><code>{\n    \"count\": 50,\n    \"next\": \"http://localhost:8000/api/tasks/?page=3\",\n    \"previous\": \"http://localhost:8000/api/tasks/?page=1\",\n    \"results\": [\n        {\"id\": 11, \"title\": \"Task 11\", ...},\n        {\"id\": 12, \"title\": \"Task 12\", ...},\n        ...\n    ]\n}\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#limitoffsetpagination","title":"LimitOffsetPagination","text":"<pre><code># api/pagination.py\nfrom rest_framework.pagination import LimitOffsetPagination\n\nclass BookLimitOffsetPagination(LimitOffsetPagination):\n    default_limit = 10\n    limit_query_param = 'limit'\n    offset_query_param = 'offset'\n    max_limit = 100\n</code></pre> <pre><code># api/views.py\nfrom .pagination import BookLimitOffsetPagination\n\nclass BookViewSet(viewsets.ModelViewSet):\n    pagination_class = BookLimitOffsetPagination\n    # ...\n</code></pre> <p>Usage:</p> <pre><code>curl http://localhost:8000/api/books/?limit=20&amp;offset=40\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#cursorpagination","title":"CursorPagination","text":"<p>Best for large datasets. Provides stable, consistent pagination.</p> <pre><code># api/pagination.py\nfrom rest_framework.pagination import CursorPagination\n\nclass BookCursorPagination(CursorPagination):\n    page_size = 10\n    ordering = '-created_at'\n    cursor_query_param = 'cursor'\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-by-step-secure-book-api","title":"Step-by-Step: Secure Book API","text":"<p>Note: This section uses Book API as an example of content that can be public or user-owned. The same patterns apply to Task API or any other model.</p> <p>Let's upgrade the Book API with authentication and filtering.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-1-update-book-model","title":"Step 1: Update Book Model","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Book(models.Model):\n    title = models.CharField(max_length=200)\n    author = models.CharField(max_length=100)\n    published_date = models.DateField()\n    isbn = models.CharField(max_length=13, unique=True, blank=True, null=True)\n    description = models.TextField(blank=True)\n    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='books')\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return f\"{self.title} by {self.author}\"\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre> <p>Create migration:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-2-update-book-serializer","title":"Step 2: Update Book Serializer","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Book\n\nclass BookSerializer(serializers.ModelSerializer):\n    owner_username = serializers.CharField(source='owner.username', read_only=True)\n\n    class Meta:\n        model = Book\n        fields = ['id', 'title', 'author', 'published_date', 'isbn', 'description', \n                  'owner', 'owner_username', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'owner', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-3-create-filter","title":"Step 3: Create Filter","text":"<pre><code># api/filters.py\nimport django_filters\nfrom .models import Book\n\nclass BookFilter(django_filters.FilterSet):\n    author = django_filters.CharFilter(lookup_expr='icontains')\n    published_after = django_filters.DateFilter(field_name='published_date', lookup_expr='gte')\n    published_before = django_filters.DateFilter(field_name='published_date', lookup_expr='lte')\n\n    class Meta:\n        model = Book\n        fields = ['author', 'published_after', 'published_before']\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-4-update-book-viewset","title":"Step 4: Update Book ViewSet","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets, filters\nfrom rest_framework.permissions import IsAuthenticatedOrReadOnly\nfrom django_filters.rest_framework import DjangoFilterBackend\nfrom .models import Book\nfrom .serializers import BookSerializer\nfrom .filters import BookFilter\nfrom .permissions import IsOwnerOrReadOnly\n\nclass BookViewSet(viewsets.ModelViewSet):\n    queryset = Book.objects.all()\n    serializer_class = BookSerializer\n    permission_classes = [IsAuthenticatedOrReadOnly, IsOwnerOrReadOnly]\n    filter_backends = [DjangoFilterBackend, filters.SearchFilter, filters.OrderingFilter]\n    filterset_class = BookFilter\n    search_fields = ['title', 'author', 'description']\n    ordering_fields = ['title', 'author', 'published_date', 'created_at']\n    ordering = ['-created_at']\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-5-test-secure-book-api","title":"Step 5: Test Secure Book API","text":"<pre><code># Get token\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"testuser\", \"password\": \"testpass123\"}' \\\n  | python -c \"import sys, json; print(json.load(sys.stdin)['access'])\")\n\n# Create book (authenticated)\ncurl -X POST http://localhost:8000/api/books/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"title\": \"Django for Beginners\",\n    \"author\": \"John Doe\",\n    \"published_date\": \"2023-01-15\",\n    \"description\": \"Learn Django step by step\"\n  }'\n\n# List books (anyone can read)\ncurl http://localhost:8000/api/books/\n\n# Filter by author\ncurl \"http://localhost:8000/api/books/?author=John\"\n\n# Search\ncurl \"http://localhost:8000/api/books/?search=django\"\n\n# Order by title\ncurl \"http://localhost:8000/api/books/?ordering=title\"\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-by-step-secure-task-api","title":"Step-by-Step: Secure Task API","text":"<p>Note: This section focuses on Task API as the primary example (consistent with Level 1). Tasks are typically private, user-owned data, making them perfect for demonstrating authentication and permissions.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-1-update-task-model","title":"Step 1: Update Task Model","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Task(models.Model):\n    title = models.CharField(max_length=100)\n    desc = models.TextField(null=True, blank=True)\n    completed = models.BooleanField(default=False)\n    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='tasks')\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre> <p>Create migration:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-2-update-task-serializer","title":"Step 2: Update Task Serializer","text":"<pre><code># api/serializers.py\nclass TaskSerializer(serializers.ModelSerializer):\n    owner_username = serializers.CharField(source='owner.username', read_only=True)\n\n    class Meta:\n        model = Task\n        fields = ['id', 'title', 'desc', 'completed', 'owner', 'owner_username', \n                  'created_at', 'updated_at']\n        read_only_fields = ['id', 'owner', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-3-create-task-filter","title":"Step 3: Create Task Filter","text":"<pre><code># api/filters.py\nimport django_filters\nfrom .models import Task\n\nclass TaskFilter(django_filters.FilterSet):\n    completed = django_filters.BooleanFilter()\n    created_after = django_filters.DateFilter(field_name='created_at', lookup_expr='gte')\n    created_before = django_filters.DateFilter(field_name='created_at', lookup_expr='lte')\n\n    class Meta:\n        model = Task\n        fields = ['completed', 'created_after', 'created_before']\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-4-update-task-viewset","title":"Step 4: Update Task ViewSet","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets, filters\nfrom rest_framework.permissions import IsAuthenticated\nfrom django_filters.rest_framework import DjangoFilterBackend\nfrom .models import Task\nfrom .serializers import TaskSerializer\nfrom .filters import TaskFilter\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    serializer_class = TaskSerializer\n    permission_classes = [IsAuthenticated]\n    filter_backends = [DjangoFilterBackend, filters.SearchFilter, filters.OrderingFilter]\n    filterset_class = TaskFilter\n    search_fields = ['title', 'desc']\n    ordering_fields = ['title', 'completed', 'created_at']\n    ordering = ['-created_at']\n\n    def get_queryset(self):\n        # Users can only see their own tasks\n        return Task.objects.filter(owner=self.request.user)\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-5-test-secure-task-api","title":"Step 5: Test Secure Task API","text":"<pre><code># Create task (authenticated)\ncurl -X POST http://localhost:8000/api/tasks/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"title\": \"Learn DRF Level 2\",\n    \"desc\": \"Complete authentication and permissions\",\n    \"completed\": false\n  }'\n\n# List my tasks\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n\n# Filter by completed\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?completed=false\"\n\n# Search tasks\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?search=DRF\"\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#userprofile-api","title":"UserProfile API","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#step-1-create-userprofile-model","title":"Step 1: Create UserProfile Model","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass UserProfile(models.Model):\n    user = models.OneToOneField(User, on_delete=models.CASCADE, related_name='profile')\n    bio = models.TextField(blank=True)\n    phone_number = models.CharField(max_length=15, blank=True)\n    avatar = models.ImageField(upload_to='avatars/', blank=True, null=True)\n    website = models.URLField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return f\"{self.user.username}'s Profile\"\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-2-create-userprofile-serializer","title":"Step 2: Create UserProfile Serializer","text":"<pre><code># api/serializers.py\nclass UserProfileSerializer(serializers.ModelSerializer):\n    username = serializers.CharField(source='user.username', read_only=True)\n    email = serializers.EmailField(source='user.email', read_only=True)\n\n    class Meta:\n        model = UserProfile\n        fields = ['id', 'username', 'email', 'bio', 'phone_number', \n                  'avatar', 'website', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'created_at', 'updated_at']\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#step-3-create-userprofile-viewset","title":"Step 3: Create UserProfile ViewSet","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets\nfrom rest_framework.permissions import IsAuthenticated\nfrom .models import UserProfile\nfrom .serializers import UserProfileSerializer\n\nclass UserProfileViewSet(viewsets.ModelViewSet):\n    serializer_class = UserProfileSerializer\n    permission_classes = [IsAuthenticated]\n\n    def get_queryset(self):\n        return UserProfile.objects.filter(user=self.request.user)\n\n    def perform_create(self, serializer):\n        serializer.save(user=self.request.user)\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#throttling","title":"Throttling","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#configure-throttling","title":"Configure Throttling","text":"<pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'rest_framework.throttling.AnonRateThrottle',\n        'rest_framework.throttling.UserRateThrottle'\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'anon': '100/hour',\n        'user': '1000/hour'\n    }\n}\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#custom-throttling","title":"Custom Throttling","text":"<pre><code># api/throttles.py\nfrom rest_framework.throttling import UserRateThrottle\n\nclass BookCreateThrottle(UserRateThrottle):\n    rate = '5/day'\n</code></pre> <pre><code># api/views.py\nfrom .throttles import BookCreateThrottle\n\nclass BookViewSet(viewsets.ModelViewSet):\n    throttle_classes = [BookCreateThrottle]\n    # ...\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#exception-handling","title":"Exception Handling","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#what-is-exception-handling","title":"What is Exception Handling?","text":"<p>Exception Handling allows you to customize how errors are returned to clients.</p> <p>The Problem: By default, DRF returns errors in its own format. You might want: - Consistent error format across all endpoints - More user-friendly error messages - Additional error details - Custom error codes</p> <p>Why Custom Exception Handling? - Consistency: All errors follow same format - User experience: Clear, helpful error messages - Debugging: Include useful debugging information - Security: Don't expose sensitive details - Professional: Production-ready error responses</p> <p>Real-world analogy: - Default errors = Generic error messages (not helpful) - Custom errors = Clear, actionable error messages (helpful)</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#basic-exception-handler","title":"Basic Exception Handler","text":"<p>How it works: 1. Exception occurs in view 2. DRF calls your custom exception handler 3. Handler processes exception 4. Returns custom error response</p> <pre><code># api/exceptions.py (create this file)\nfrom rest_framework.views import exception_handler\nfrom rest_framework.response import Response\nfrom rest_framework import status\nfrom django.conf import settings\nimport logging\n\nlogger = logging.getLogger(__name__)\n\ndef custom_exception_handler(exc, context):\n    \"\"\"\n    Custom exception handler for DRF.\n    Returns consistent error format for all exceptions.\n    \"\"\"\n    # Call DRF's default exception handler first\n    response = exception_handler(exc, context)\n\n    # If DRF handled it, customize the response\n    if response is not None:\n        custom_response_data = {\n            'success': False,\n            'error': {\n                'status_code': response.status_code,\n                'message': get_error_message(response.status_code, exc),\n                'details': response.data,\n                'type': exc.__class__.__name__\n            }\n        }\n        response.data = custom_response_data\n\n        # Log error for debugging\n        logger.error(f\"Error {response.status_code}: {exc}\", exc_info=True)\n\n    # Handle exceptions DRF doesn't catch\n    else:\n        # For unexpected errors (500)\n        custom_response_data = {\n            'success': False,\n            'error': {\n                'status_code': 500,\n                'message': 'An unexpected error occurred',\n                'details': str(exc) if settings.DEBUG else 'Internal server error',\n                'type': exc.__class__.__name__\n            }\n        }\n        response = Response(custom_response_data, status=status.HTTP_500_INTERNAL_SERVER_ERROR)\n\n        # Log unexpected errors\n        logger.exception(f\"Unexpected error: {exc}\")\n\n    return response\n\ndef get_error_message(status_code, exc):\n    \"\"\"Get user-friendly error message based on status code\"\"\"\n    messages = {\n        400: 'Invalid request data',\n        401: 'Authentication required',\n        403: 'Permission denied',\n        404: 'Resource not found',\n        405: 'Method not allowed',\n        429: 'Too many requests',\n        500: 'Internal server error',\n    }\n    return messages.get(status_code, 'An error occurred')\n</code></pre> <p>Add to settings.py:</p> <pre><code># core/settings.py\nREST_FRAMEWORK = {\n    # ... other settings ...\n    'EXCEPTION_HANDLER': 'api.exceptions.custom_exception_handler',\n}\n</code></pre> <p>Why this location? - Centralized: All errors go through one handler - Consistent: Same format for all errors - Maintainable: Update error format in one place</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#handling-authentication-errors","title":"Handling Authentication Errors","text":"<p>Customize authentication error responses:</p> <pre><code># api/exceptions.py\nfrom rest_framework.views import exception_handler\nfrom rest_framework.exceptions import AuthenticationFailed, NotAuthenticated, PermissionDenied\nfrom rest_framework import status\n\ndef custom_exception_handler(exc, context):\n    response = exception_handler(exc, context)\n\n    if response is not None:\n        # Handle authentication errors specifically\n        if isinstance(exc, (AuthenticationFailed, NotAuthenticated)):\n            custom_response_data = {\n                'success': False,\n                'error': {\n                    'status_code': response.status_code,\n                    'message': 'Authentication failed. Please provide valid credentials.',\n                    'details': {\n                        'code': 'authentication_failed',\n                        'hint': 'Make sure you include a valid token in the Authorization header'\n                    },\n                    'type': exc.__class__.__name__\n                }\n            }\n            response.data = custom_response_data\n\n        # Handle permission errors\n        elif isinstance(exc, PermissionDenied):\n            custom_response_data = {\n                'success': False,\n                'error': {\n                    'status_code': response.status_code,\n                    'message': 'You do not have permission to perform this action',\n                    'details': {\n                        'code': 'permission_denied',\n                        'required_permission': str(exc)\n                    },\n                    'type': exc.__class__.__name__\n                }\n            }\n            response.data = custom_response_data\n\n        # Handle other errors\n        else:\n            custom_response_data = {\n                'success': False,\n                'error': {\n                    'status_code': response.status_code,\n                    'message': get_error_message(response.status_code, exc),\n                    'details': response.data,\n                    'type': exc.__class__.__name__\n                }\n            }\n            response.data = custom_response_data\n\n    return response\n</code></pre> <p>Why handle authentication errors separately? - User-friendly: Clear message about what went wrong - Actionable: Tells user how to fix it - Security: Doesn't expose sensitive details - Consistent: Same format for all auth errors</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#handling-validation-errors","title":"Handling Validation Errors","text":"<p>Customize validation error format:</p> <pre><code># api/exceptions.py\nfrom rest_framework.exceptions import ValidationError\n\ndef custom_exception_handler(exc, context):\n    response = exception_handler(exc, context)\n\n    if response is not None:\n        # Handle validation errors\n        if isinstance(exc, ValidationError):\n            # Format field errors nicely\n            formatted_errors = {}\n            if isinstance(response.data, dict):\n                for field, errors in response.data.items():\n                    if isinstance(errors, list):\n                        formatted_errors[field] = errors[0] if errors else 'Invalid value'\n                    else:\n                        formatted_errors[field] = str(errors)\n\n            custom_response_data = {\n                'success': False,\n                'error': {\n                    'status_code': response.status_code,\n                    'message': 'Validation failed',\n                    'details': {\n                        'code': 'validation_error',\n                        'fields': formatted_errors\n                    },\n                    'type': exc.__class__.__name__\n                }\n            }\n            response.data = custom_response_data\n\n        # ... handle other errors ...\n\n    return response\n</code></pre> <p>Why format validation errors? - Clarity: Each field error is clear - User-friendly: Easy to understand what's wrong - Actionable: User knows which fields to fix</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#handling-jwt-token-errors","title":"Handling JWT Token Errors","text":"<p>Specific handling for JWT errors:</p> <pre><code># api/exceptions.py\nfrom rest_framework_simplejwt.exceptions import InvalidToken, TokenError\n\ndef custom_exception_handler(exc, context):\n    response = exception_handler(exc, context)\n\n    if response is not None:\n        # Handle JWT token errors\n        if isinstance(exc, (InvalidToken, TokenError)):\n            error_message = str(exc)\n\n            # Provide helpful messages based on error\n            if 'expired' in error_message.lower():\n                message = 'Token has expired. Please refresh your token.'\n                code = 'token_expired'\n            elif 'invalid' in error_message.lower():\n                message = 'Invalid token. Please login again.'\n                code = 'token_invalid'\n            else:\n                message = 'Token error. Please login again.'\n                code = 'token_error'\n\n            custom_response_data = {\n                'success': False,\n                'error': {\n                    'status_code': 401,\n                    'message': message,\n                    'details': {\n                        'code': code,\n                        'hint': 'Use /api/token/ to get a new token, or /api/token/refresh/ to refresh'\n                    },\n                    'type': exc.__class__.__name__\n                }\n            }\n            response.data = custom_response_data\n            response.status_code = 401\n\n        # ... handle other errors ...\n\n    return response\n</code></pre> <p>Why handle JWT errors specifically? - Clear guidance: Tells user how to fix token issues - Actionable: Provides endpoint URLs for token refresh - User-friendly: Explains what went wrong</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#production-vs-development-error-messages","title":"Production vs Development Error Messages","text":"<p>Show detailed errors in development, generic in production:</p> <pre><code># api/exceptions.py\nfrom django.conf import settings\n\ndef custom_exception_handler(exc, context):\n    response = exception_handler(exc, context)\n\n    if response is not None:\n        # In development: show detailed errors\n        # In production: show generic errors\n        if settings.DEBUG:\n            error_details = {\n                'message': str(exc),\n                'traceback': traceback.format_exc() if hasattr(exc, '__traceback__') else None,\n                'context': {\n                    'view': context.get('view').__class__.__name__ if context.get('view') else None,\n                    'request_method': context.get('request').method if context.get('request') else None,\n                }\n            }\n        else:\n            # Production: don't expose sensitive details\n            error_details = {\n                'message': get_error_message(response.status_code, exc),\n                'code': get_error_code(response.status_code)\n            }\n\n        custom_response_data = {\n            'success': False,\n            'error': {\n                'status_code': response.status_code,\n                **error_details,\n                'type': exc.__class__.__name__\n            }\n        }\n        response.data = custom_response_data\n\n    return response\n</code></pre> <p>Why different messages? - Development: Detailed errors help debugging - Production: Generic errors protect security - Best practice: Never expose stack traces in production</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#complete-example","title":"Complete Example","text":"<p>Full-featured exception handler:</p> <pre><code># api/exceptions.py\nfrom rest_framework.views import exception_handler\nfrom rest_framework.response import Response\nfrom rest_framework import status\nfrom rest_framework.exceptions import (\n    AuthenticationFailed,\n    NotAuthenticated,\n    PermissionDenied,\n    ValidationError,\n    NotFound,\n    MethodNotAllowed\n)\nfrom rest_framework_simplejwt.exceptions import InvalidToken, TokenError\nfrom django.conf import settings\nimport logging\nimport traceback\n\nlogger = logging.getLogger(__name__)\n\ndef custom_exception_handler(exc, context):\n    \"\"\"\n    Comprehensive exception handler for DRF.\n    Provides consistent, user-friendly error responses.\n    \"\"\"\n    # Call DRF's default exception handler\n    response = exception_handler(exc, context)\n\n    # Request object\n    request = context.get('request')\n\n    if response is not None:\n        # Customize based on exception type\n        error_data = {\n            'success': False,\n            'error': {}\n        }\n\n        # Authentication errors\n        if isinstance(exc, (AuthenticationFailed, NotAuthenticated)):\n            error_data['error'] = {\n                'status_code': 401,\n                'message': 'Authentication required',\n                'details': {\n                    'code': 'authentication_required',\n                    'hint': 'Include a valid token in Authorization header: Bearer &lt;token&gt;'\n                }\n            }\n\n        # Permission errors\n        elif isinstance(exc, PermissionDenied):\n            error_data['error'] = {\n                'status_code': 403,\n                'message': 'Permission denied',\n                'details': {\n                    'code': 'permission_denied',\n                    'hint': 'You do not have permission to perform this action'\n                }\n            }\n\n        # JWT token errors\n        elif isinstance(exc, (InvalidToken, TokenError)):\n            error_data['error'] = {\n                'status_code': 401,\n                'message': 'Invalid or expired token',\n                'details': {\n                    'code': 'token_error',\n                    'hint': 'Get a new token at /api/token/ or refresh at /api/token/refresh/'\n                }\n            }\n\n        # Validation errors\n        elif isinstance(exc, ValidationError):\n            formatted_errors = format_validation_errors(response.data)\n            error_data['error'] = {\n                'status_code': 400,\n                'message': 'Validation failed',\n                'details': {\n                    'code': 'validation_error',\n                    'fields': formatted_errors\n                }\n            }\n\n        # Not found errors\n        elif isinstance(exc, NotFound):\n            error_data['error'] = {\n                'status_code': 404,\n                'message': 'Resource not found',\n                'details': {\n                    'code': 'not_found',\n                    'hint': 'The requested resource does not exist'\n                }\n            }\n\n        # Method not allowed\n        elif isinstance(exc, MethodNotAllowed):\n            error_data['error'] = {\n                'status_code': 405,\n                'message': 'Method not allowed',\n                'details': {\n                    'code': 'method_not_allowed',\n                    'allowed_methods': exc.allowed_methods if hasattr(exc, 'allowed_methods') else []\n                }\n            }\n\n        # Generic error\n        else:\n            error_data['error'] = {\n                'status_code': response.status_code,\n                'message': get_error_message(response.status_code),\n                'details': response.data if settings.DEBUG else {'code': 'error'}\n            }\n\n        # Add exception type for debugging\n        error_data['error']['type'] = exc.__class__.__name__\n\n        # Log error\n        logger.error(\n            f\"Error {error_data['error']['status_code']}: {exc}\",\n            extra={\n                'request_path': request.path if request else None,\n                'request_method': request.method if request else None,\n            },\n            exc_info=settings.DEBUG\n        )\n\n        response.data = error_data['error']\n\n    # Handle unexpected errors (500)\n    else:\n        error_data = {\n            'success': False,\n            'error': {\n                'status_code': 500,\n                'message': 'Internal server error',\n                'details': {\n                    'code': 'server_error',\n                    'message': str(exc) if settings.DEBUG else 'An unexpected error occurred'\n                },\n                'type': exc.__class__.__name__\n            }\n        }\n\n        # Log unexpected errors\n        logger.exception(f\"Unexpected error: {exc}\")\n\n        response = Response(error_data['error'], status=status.HTTP_500_INTERNAL_SERVER_ERROR)\n\n    return response\n\ndef format_validation_errors(errors):\n    \"\"\"Format DRF validation errors into user-friendly format\"\"\"\n    formatted = {}\n\n    if isinstance(errors, dict):\n        for field, field_errors in errors.items():\n            if isinstance(field_errors, list):\n                # Take first error message\n                formatted[field] = field_errors[0] if field_errors else 'Invalid value'\n            elif isinstance(field_errors, dict):\n                # Nested errors\n                formatted[field] = format_validation_errors(field_errors)\n            else:\n                formatted[field] = str(field_errors)\n\n    return formatted\n\ndef get_error_message(status_code):\n    \"\"\"Get user-friendly error message\"\"\"\n    messages = {\n        400: 'Bad request',\n        401: 'Authentication required',\n        403: 'Permission denied',\n        404: 'Resource not found',\n        405: 'Method not allowed',\n        429: 'Too many requests',\n        500: 'Internal server error',\n    }\n    return messages.get(status_code, 'An error occurred')\n</code></pre> <p>Why this comprehensive handler? - Handles all error types: Authentication, permissions, validation, etc. - User-friendly messages: Clear, actionable error messages - Consistent format: Same structure for all errors - Production-ready: Different messages for dev/prod - Logging: Tracks all errors for debugging</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#error-response-format","title":"Error Response Format","text":"<p>Standard error response structure:</p> <pre><code>{\n    \"success\": false,\n    \"error\": {\n        \"status_code\": 401,\n        \"message\": \"Authentication required\",\n        \"details\": {\n            \"code\": \"authentication_required\",\n            \"hint\": \"Include a valid token in Authorization header\"\n        },\n        \"type\": \"AuthenticationFailed\"\n    }\n}\n</code></pre> <p>Why this format? - <code>success</code>: Quick check if request succeeded - <code>error.status_code</code>: HTTP status code - <code>error.message</code>: Human-readable message - <code>error.details</code>: Additional information - <code>error.type</code>: Exception class name (for debugging)</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#testing-exception-handler","title":"Testing Exception Handler","text":"<p>Test your exception handler:</p> <pre><code># api/tests.py\nfrom rest_framework.test import APITestCase\nfrom rest_framework import status\nfrom django.contrib.auth.models import User\n\nclass ExceptionHandlerTest(APITestCase):\n    def setUp(self):\n        self.user = User.objects.create_user(\n            username='testuser',\n            password='testpass123'\n        )\n\n    def test_authentication_error(self):\n        # Request without token\n        response = self.client.get('/api/tasks/')\n        self.assertEqual(response.status_code, 401)\n        self.assertIn('error', response.data)\n        self.assertEqual(response.data['error']['details']['code'], 'authentication_required')\n\n    def test_validation_error(self):\n        # Login first\n        self.client.force_authenticate(user=self.user)\n\n        # Invalid data - empty title\n        response = self.client.post('/api/tasks/', {\n            'title': '',  # Empty title should fail validation\n            'completed': False\n        })\n        self.assertEqual(response.status_code, 400)\n        self.assertIn('error', response.data)\n        self.assertIn('fields', response.data['error']['details'])\n        self.assertIn('title', response.data['error']['details']['fields'])\n\n    def test_permission_denied(self):\n        # Login as regular user\n        self.client.force_authenticate(user=self.user)\n\n        # Try to access admin-only endpoint (if you have one)\n        # This would return 403 if permission denied\n        # response = self.client.get('/api/admin/tasks/')\n        # self.assertEqual(response.status_code, 403)\n</code></pre> <p>Why test exception handler? - Verify format: Ensure errors follow expected format - Catch bugs: Find issues in error handling - Documentation: Shows how errors are returned</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#best-practices","title":"Best Practices","text":"<p>1. Consistent Format - Use same structure for all errors - Include status code, message, details - Make it easy for clients to parse</p> <p>2. User-Friendly Messages - Avoid technical jargon - Provide actionable hints - Explain what went wrong</p> <p>3. Security - Don't expose sensitive details in production - Hide stack traces from users - Log detailed errors server-side</p> <p>4. Logging - Log all errors for debugging - Include request context - Use appropriate log levels</p> <p>5. Error Codes - Use consistent error codes - Make codes searchable - Document all error codes</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#testing-authenticated-apis","title":"Testing Authenticated APIs","text":"<p>See CURL_GUIDE.md for detailed examples. Quick reference:</p> <pre><code># Get token\nTOKEN=$(curl -s -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"user\", \"password\": \"pass\"}' \\\n  | jq -r '.access')\n\n# Use token\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  http://localhost:8000/api/tasks/\n\n# Refresh token\ncurl -X POST http://localhost:8000/api/token/refresh/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"refresh\": \"your_refresh_token\"}'\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#exercises","title":"Exercises","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#exercise-1-complete-secure-book-api","title":"Exercise 1: Complete Secure Book API","text":"<ol> <li>Add owner field to Book model</li> <li>Implement IsOwnerOrReadOnly permission</li> <li>Add filtering by author and date range</li> <li>Add search functionality</li> <li>Add pagination</li> <li>Test all endpoints with cURL</li> </ol>"},{"location":"LEVEL_2_INTERMEDIATE.html#exercise-2-userprofile-api","title":"Exercise 2: UserProfile API","text":"<ol> <li>Create UserProfile model</li> <li>Create UserProfileSerializer and ViewSet</li> <li>Allow users to view/edit only their own profile</li> <li>Test with cURL</li> </ol>"},{"location":"LEVEL_2_INTERMEDIATE.html#exercise-3-task-filtering","title":"Exercise 3: Task Filtering","text":"<ol> <li>Add priority field to Task model</li> <li>Create TaskFilter with priority filtering</li> <li>Add ordering by priority</li> <li>Test filtering and ordering</li> </ol>"},{"location":"LEVEL_2_INTERMEDIATE.html#add-ons","title":"Add-ons","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#add-on-1-custom-jwt-claims","title":"Add-on 1: Custom JWT Claims","text":"<pre><code># api/serializers.py\nfrom rest_framework_simplejwt.serializers import TokenObtainPairSerializer\n\nclass CustomTokenObtainPairSerializer(TokenObtainPairSerializer):\n    @classmethod\n    def get_token(cls, user):\n        token = super().get_token(user)\n        token['username'] = user.username\n        token['email'] = user.email\n        return token\n</code></pre> <pre><code># api/views.py\nfrom rest_framework_simplejwt.views import TokenObtainPairView\nfrom .serializers import CustomTokenObtainPairSerializer\n\nclass CustomTokenObtainPairView(TokenObtainPairView):\n    serializer_class = CustomTokenObtainPairSerializer\n</code></pre>"},{"location":"LEVEL_2_INTERMEDIATE.html#add-on-2-rate-limiting","title":"Add-on 2: Rate Limiting","text":"<p>Implement different rate limits for different actions.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#add-on-3-permission-mixins","title":"Add-on 3: Permission Mixins","text":"<p>Create reusable permission mixins for common patterns.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#common-errors-and-solutions","title":"Common Errors and Solutions","text":""},{"location":"LEVEL_2_INTERMEDIATE.html#error-1-rest_frameworkexceptionsauthenticationfailed-given-token-not-valid-for-any-token-type","title":"Error 1: <code>rest_framework.exceptions.AuthenticationFailed: Given token not valid for any token type</code>","text":"<p>Error Message:</p> <pre><code>rest_framework.exceptions.AuthenticationFailed: Given token not valid for any token type\n</code></pre> <p>Why This Happens: - Token expired - Invalid token format - Token not sent correctly in header - Wrong token type</p> <p>How to Fix:</p> <pre><code># Check token format\n# Should be: Authorization: Bearer &lt;token&gt;\n# NOT: Authorization: &lt;token&gt;\n# NOT: Authorization: Token &lt;token&gt;\n\n# Correct format\ncurl -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\" \\\n  http://localhost:8000/api/tasks/\n\n# Get new token if expired\ncurl -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"user\", \"password\": \"pass\"}'\n</code></pre> <p>Prevention:  - Always use <code>Bearer</code> prefix for JWT tokens - Check token expiration - Refresh token before it expires</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#error-2-rest_frameworkexceptionspermissiondenied-you-do-not-have-permission-to-perform-this-action","title":"Error 2: <code>rest_framework.exceptions.PermissionDenied: You do not have permission to perform this action</code>","text":"<p>Error Message:</p> <pre><code>rest_framework.exceptions.PermissionDenied: You do not have permission to perform this action\n</code></pre> <p>Why This Happens: - User not authenticated (no token/session) - User authenticated but lacks required permissions - Permission class too restrictive</p> <p>How to Fix:</p> <pre><code># Check if user is authenticated\n# In view, check:\nprint(request.user)  # Should be User object, not AnonymousUser\nprint(request.user.is_authenticated)  # Should be True\n\n# Check permissions\n# Option 1: Make endpoint public (if appropriate)\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [AllowAny]  # Anyone can access (rare for tasks)\n\n# Option 2: Require authentication (most common for tasks)\nclass TaskViewSet(viewsets.ModelViewSet):\n    permission_classes = [IsAuthenticated]  # Must be logged in\n\n# Option 3: Custom permission check in class-based view\nfrom rest_framework.views import APIView\nfrom rest_framework.response import Response\nfrom rest_framework import status\n\nclass TaskAPIView(APIView):\n    permission_classes = [IsAuthenticated]\n\n    def patch(self, request, pk):\n        # Check custom permission\n        if not request.user.has_perm('api.change_task'):\n            return Response(\n                {'error': 'Permission denied'}, \n                status=status.HTTP_403_FORBIDDEN\n            )\n        # ... rest of logic\n</code></pre> <p>Prevention:  - Check permission classes in view - Verify user is authenticated before accessing protected endpoints - Test with different user roles</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#error-3-djangocontribauthmodelsuserdoesnotexist-user-matching-query-does-not-exist","title":"Error 3: <code>django.contrib.auth.models.User.DoesNotExist: User matching query does not exist</code>","text":"<p>Error Message:</p> <pre><code>django.contrib.auth.models.User.DoesNotExist: User matching query does not exist\n</code></pre> <p>Why This Happens: - Trying to get user that doesn't exist - User ID in token doesn't match any user - User was deleted but token still valid</p> <p>How to Fix:</p> <pre><code># Option 1: Check if user exists\ntry:\n    user = User.objects.get(id=user_id)\nexcept User.DoesNotExist:\n    return Response({'error': 'User not found'}, status=404)\n\n# Option 2: Use get_object_or_404\nfrom django.shortcuts import get_object_or_404\nuser = get_object_or_404(User, id=user_id)\n\n# Option 3: Handle in JWT token validation\n# In custom token serializer, verify user exists\ndef validate(self, attrs):\n    user = authenticate(**attrs)\n    if not user or not user.is_active:\n        raise serializers.ValidationError('User not found or inactive')\n    return attrs\n</code></pre> <p>Prevention: Always verify user exists before using, especially in token validation.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#error-4-django_filtersexceptionsfieldlookuperror-unsupported-lookup-icontains-for-charfield","title":"Error 4: <code>django_filters.exceptions.FieldLookupError: Unsupported lookup 'icontains' for CharField</code>","text":"<p>Error Message:</p> <pre><code>django_filters.exceptions.FieldLookupError: Unsupported lookup 'icontains' for CharField\n</code></pre> <p>Why This Happens: - Using wrong lookup expression in FilterSet - Lookup not supported for field type - Typo in lookup expression</p> <p>How to Fix:</p> <pre><code># WRONG - icontains not available in basic filterset_fields\nclass TaskViewSet(viewsets.ModelViewSet):\n    filterset_fields = ['title__icontains']  # \u274c Not supported\n\n# CORRECT - Use FilterSet class\nclass TaskFilter(django_filters.FilterSet):\n    title = django_filters.CharFilter(lookup_expr='icontains')  # \u2705\n\n    class Meta:\n        model = Task\n        fields = ['title']\n\n# In ViewSet\nclass TaskViewSet(viewsets.ModelViewSet):\n    filterset_class = TaskFilter  # \u2705\n</code></pre> <p>Prevention: Use FilterSet class for advanced lookups, not <code>filterset_fields</code>.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#error-5-rest_frameworkexceptionsvalidationerror-refresh-this-field-is-required","title":"Error 5: <code>rest_framework.exceptions.ValidationError: {'refresh': ['This field is required.']}</code>","text":"<p>Error Message:</p> <pre><code>rest_framework.exceptions.ValidationError: {'refresh': ['This field is required.']}\n</code></pre> <p>Why This Happens: - Trying to refresh token without providing refresh token - Sending access token instead of refresh token - Missing refresh token in request</p> <p>How to Fix:</p> <pre><code># WRONG - Using access token\ncurl -X POST http://localhost:8000/api/token/refresh/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"refresh\": \"access_token_here\"}'  # \u274c Wrong token type\n\n# CORRECT - Use refresh token\ncurl -X POST http://localhost:8000/api/token/refresh/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"refresh\": \"refresh_token_here\"}'  # \u2705 Correct\n\n# Get tokens first\nTOKENS=$(curl -X POST http://localhost:8000/api/token/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\": \"user\", \"password\": \"pass\"}')\n\n# Extract refresh token\nREFRESH=$(echo $TOKENS | jq -r '.refresh')\n\n# Use refresh token\ncurl -X POST http://localhost:8000/api/token/refresh/ \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{\\\"refresh\\\": \\\"$REFRESH\\\"}\"\n</code></pre> <p>Prevention:  - Store both access and refresh tokens - Use refresh token only for refreshing - Don't confuse access and refresh tokens</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#error-6-djangocoreexceptionsfielderror-related-field-got-invalid-lookup-icontains","title":"Error 6: <code>django.core.exceptions.FieldError: Related Field got invalid lookup: icontains</code>","text":"<p>Error Message:</p> <pre><code>django.core.exceptions.FieldError: Related Field got invalid lookup: icontains\n</code></pre> <p>Why This Happens: - Using wrong lookup on ForeignKey field - Need to use double underscore for related fields</p> <p>How to Fix:</p> <pre><code># WRONG - Can't use icontains directly on ForeignKey\nTask.objects.filter(owner__icontains='john')  # \u274c\n\n# CORRECT - Use double underscore to access related field\nTask.objects.filter(owner__username__icontains='john')  # \u2705\n\n# Or in FilterSet\nclass TaskFilter(django_filters.FilterSet):\n    owner_username = django_filters.CharFilter(\n        field_name='owner__username',\n        lookup_expr='icontains'\n    )\n\n    class Meta:\n        model = Task\n        fields = ['owner_username']\n</code></pre> <p>Prevention: Remember to use <code>__</code> (double underscore) to traverse relationships.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#error-7-rest_frameworkexceptionsnotfound-invalid-page","title":"Error 7: <code>rest_framework.exceptions.NotFound: Invalid page.</code>","text":"<p>Error Message:</p> <pre><code>rest_framework.exceptions.NotFound: Invalid page.\n</code></pre> <p>Why This Happens: - Requesting page number that doesn't exist - Page number out of range - Invalid page parameter</p> <p>How to Fix:</p> <pre><code># Check total pages first\n# Response includes: {\"count\": 100, \"next\": \"...\", \"previous\": \"...\"}\n\n# WRONG - Page 999 when only 10 pages exist\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?page=999\"  # \u274c\n\n# CORRECT - Check count first, then request valid page\n# If count=100 and page_size=10, valid pages are 1-10\n\n# Handle in frontend\nresponse = fetch('/api/tasks/?page=1', {\n    headers: { 'Authorization': `Bearer ${token}` }\n})\ndata = await response.json()\ntotal_pages = Math.ceil(data.count / page_size)  # Calculate total pages\nif (page &gt; total_pages) {\n    // Show error or redirect to last page\n}\n</code></pre> <p>Prevention:  - Always check <code>count</code> in pagination response - Calculate total pages: <code>ceil(count / page_size)</code> - Validate page number before requesting</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#error-8-djangodbutilsintegrityerror-not-null-constraint-failed-api_taskowner_id","title":"Error 8: <code>django.db.utils.IntegrityError: NOT NULL constraint failed: api_task.owner_id</code>","text":"<p>Error Message:</p> <pre><code>django.db.utils.IntegrityError: NOT NULL constraint failed: api_task.owner_id\n</code></pre> <p>Why This Happens: - Trying to create object without required ForeignKey - Owner not set in serializer - <code>perform_create</code> not setting owner</p> <p>How to Fix:</p> <pre><code># WRONG - Standalone function (not recommended, use CBV instead)\n# This is what NOT to do:\ndef create_task(request):  # \u274c Function-based view\n    serializer = TaskSerializer(data=request.data)\n    serializer.save()  # \u274c Owner not set!\n\n# CORRECT - Class-based ViewSet approach (recommended)\nclass TaskViewSet(viewsets.ModelViewSet):\n    serializer_class = TaskSerializer\n    permission_classes = [IsAuthenticated]\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)  # \u2705 Owner set automatically\n\n# Alternative: Set owner in serializer (also class-based)\nclass TaskSerializer(serializers.ModelSerializer):\n    def create(self, validated_data):\n        validated_data['owner'] = self.context['request'].user\n        return super().create(validated_data)\n</code></pre> <p>Note: Always use class-based views (<code>ViewSet</code>, <code>APIView</code>) instead of function-based views. The <code>perform_create()</code> method is part of the class-based ViewSet, not a standalone function.</p> <p>Prevention: Always set owner in <code>perform_create</code> or serializer's <code>create</code> method.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#error-9-rest_frameworkexceptionsmethodnotallowed-method-patch-not-allowed","title":"Error 9: <code>rest_framework.exceptions.MethodNotAllowed: Method 'PATCH' not allowed</code>","text":"<p>Error Message:</p> <pre><code>rest_framework.exceptions.MethodNotAllowed: Method 'PATCH' not allowed\n</code></pre> <p>Why This Happens: - View doesn't support PATCH method - Using wrong HTTP method - ViewSet action not configured</p> <p>How to Fix:</p> <pre><code># Check what methods are allowed\n# ViewSet automatically supports: GET, POST, PUT, PATCH, DELETE\n\n# Option 1: Use ViewSet (recommended - automatic method support)\nclass TaskViewSet(viewsets.ModelViewSet):  # \u2705 Supports PATCH automatically\n    queryset = Task.objects.all()\n    serializer_class = TaskSerializer\n    # PATCH method works automatically, no need to define it\n\n# Option 2: Use APIView with explicit method (if you need custom logic)\nfrom rest_framework.views import APIView\nfrom rest_framework.response import Response\n\nclass TaskAPIView(APIView):\n    def patch(self, request, pk):  # \u2705 Must explicitly define PATCH method\n        task = Task.objects.get(pk=pk)\n        serializer = TaskSerializer(task, data=request.data, partial=True)\n        if serializer.is_valid():\n            serializer.save()\n            return Response(serializer.data)\n        return Response(serializer.errors, status=400)\n</code></pre> <p>Prevention:  - \u2705 Use ViewSet for automatic method support (recommended) - \u2705 Use APIView only when you need custom logic - \u274c Avoid function-based views - use class-based approach - Check allowed methods in view</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#error-10-django_filtersexceptionsfielderror-metafields-contains-fields-that-are-not-defined-on-this-filterset","title":"Error 10: <code>django_filters.exceptions.FieldError: Meta.fields contains fields that are not defined on this FilterSet</code>","text":"<p>Error Message:</p> <pre><code>django_filters.exceptions.FieldError: Meta.fields contains fields that are not defined on this FilterSet\n</code></pre> <p>Why This Happens: - Field in <code>Meta.fields</code> not defined in FilterSet - Typo in field name - Field doesn't exist in model</p> <p>How to Fix:</p> <pre><code># WRONG - Field 'title_contains' not defined\nclass TaskFilter(django_filters.FilterSet):\n    # title_contains not defined here!\n\n    class Meta:\n        model = Task\n        fields = ['title_contains']  # \u274c Field not defined\n\n# CORRECT - Define field first\nclass TaskFilter(django_filters.FilterSet):\n    title_contains = django_filters.CharFilter(\n        field_name='title',\n        lookup_expr='icontains'\n    )\n\n    class Meta:\n        model = Task\n        fields = ['title_contains']  # \u2705 Now defined\n</code></pre> <p>Prevention: Always define custom filter fields before listing them in <code>Meta.fields</code>.</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#general-debugging-tips-for-level-2","title":"General Debugging Tips for Level 2","text":"<p>1. Check Authentication</p> <pre><code># In view, verify authentication\nprint(\"User:\", request.user)\nprint(\"Authenticated:\", request.user.is_authenticated)\nprint(\"Is anonymous:\", isinstance(request.user, AnonymousUser))\n</code></pre> <p>2. Test Permissions</p> <pre><code># Check what permissions user has\nprint(\"Permissions:\", request.user.get_all_permissions())\nprint(\"Is staff:\", request.user.is_staff)\nprint(\"Is superuser:\", request.user.is_superuser)\n</code></pre> <p>3. Verify Token</p> <pre><code># Decode JWT token to see contents\nfrom rest_framework_simplejwt.tokens import AccessToken\n\ntoken = request.META.get('HTTP_AUTHORIZATION', '').split(' ')[1]\ndecoded = AccessToken(token)\nprint(\"Token payload:\", decoded.payload)\n</code></pre> <p>4. Test Filters</p> <pre><code># Test each filter separately\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?completed=false\"\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?search=django\"\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n  \"http://localhost:8000/api/tasks/?ordering=-created_at\"\n</code></pre> <p>5. Check Pagination</p> <pre><code># Verify pagination settings\nfrom rest_framework.pagination import PageNumberPagination\npagination = PageNumberPagination()\nprint(\"Page size:\", pagination.page_size)\n</code></pre> <p>6. Common Authentication Issues - Token expired: Get new token or refresh - Wrong header format: Use <code>Authorization: Bearer &lt;token&gt;</code> - Token not sent: Check request headers - User inactive: Check <code>user.is_active</code></p> <p>7. Common Permission Issues - Too restrictive: Check permission classes - User not authenticated: Verify token/session - Wrong user: Check if user owns resource - Missing permission: Verify user has required permission</p>"},{"location":"LEVEL_2_INTERMEDIATE.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 2. You now know:</p> <ul> <li>\u2705 Django authentication system</li> <li>\u2705 JWT authentication setup</li> <li>\u2705 Permissions (built-in and custom)</li> <li>\u2705 Filtering, searching, and ordering</li> <li>\u2705 Pagination strategies</li> <li>\u2705 Building secure APIs</li> </ul> <p>Ready for Level 3? Continue to Level 3: Advanced to learn about relationships, nested serializers, and query optimization!</p> <p>Resources: - DRF Authentication - DRF Permissions - djangorestframework-simplejwt - django-filter</p>"},{"location":"LEVEL_3_ADVANCED.html","title":"Level 3: Advanced - Relationships, Serializers, and Complex Logic","text":""},{"location":"LEVEL_3_ADVANCED.html#goal","title":"Goal","text":"<p>Build APIs with nested, related data and business logic. Master model relationships, nested serializers, query optimization, and background tasks. By the end of this level, you'll be able to build complex, efficient APIs.</p>"},{"location":"LEVEL_3_ADVANCED.html#note-on-examples","title":"Note on Examples","text":"<p>This guide uses two different API examples to demonstrate different relationship patterns and advanced concepts:</p> <ul> <li>Blog API (Post/Comment/Tag): Used in concept explanations and the main step-by-step section to demonstrate:</li> <li>Complex relationships (ForeignKey, ManyToMany)</li> <li>Nested serializers with multiple related models</li> <li>Query optimization across relationships</li> <li> <p>Real-world content management patterns</p> </li> <li> <p>Enhanced Task API: Used in a separate step-by-step section to show:</p> </li> <li>How to extend the Task API from Level 2 with relationships</li> <li>Adding categories, priorities, and assigned users</li> <li>Building on previous knowledge incrementally</li> <li>Practical task management features</li> </ul> <p>Why two examples? - Blog API is ideal for demonstrating complex relationships (posts have comments, tags, authors) - Enhanced Task API builds on Level 2's Task API, showing progression - Different examples help you understand patterns that apply to any model - You can apply all concepts to your own projects (Task, Book, Product, Post, etc.)</p>"},{"location":"LEVEL_3_ADVANCED.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Model Relationships</li> <li>Nested Serializers</li> <li>SerializerMethodField</li> <li>Custom Serializer Fields</li> <li>Overriding Serializer Methods</li> <li>Validation</li> <li>Query Optimization</li> <li>Django Signals</li> <li>Background Tasks</li> <li>Step-by-Step: Blog API</li> <li>Step-by-Step: Enhanced Task API</li> <li>Soft Delete</li> <li>Advanced Query Patterns</li> <li>Exercises</li> <li>Add-ons</li> </ol>"},{"location":"LEVEL_3_ADVANCED.html#model-relationships","title":"Model Relationships","text":""},{"location":"LEVEL_3_ADVANCED.html#foreignkey-many-to-one","title":"ForeignKey (Many-to-One)","text":"<p>One model references another. Example: Many Posts belong to One User.</p> <pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Post(models.Model):\n    title = models.CharField(max_length=200)\n    content = models.TextField()\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return self.title\n</code></pre> <p>Access patterns:</p> <pre><code># Get all posts by a user\nuser.posts.all()\n\n# Get author of a post\npost.author\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#onetoonefield-one-to-one","title":"OneToOneField (One-to-One)","text":"<p>One-to-one relationship. Example: One User has One Profile.</p> <pre><code># api/models.py\nclass UserProfile(models.Model):\n    user = models.OneToOneField(User, on_delete=models.CASCADE, related_name='profile')\n    bio = models.TextField(blank=True)\n    phone_number = models.CharField(max_length=15, blank=True)\n</code></pre> <p>Access patterns:</p> <pre><code># Get user's profile\nuser.profile\n\n# Get profile's user\nprofile.user\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#manytomanyfield-many-to-many","title":"ManyToManyField (Many-to-Many)","text":"<p>Many-to-many relationship. Example: Posts can have many Tags, Tags can be on many Posts.</p> <pre><code># api/models.py\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    title = models.CharField(max_length=200)\n    content = models.TextField()\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    tags = models.ManyToManyField(Tag, related_name='posts', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n</code></pre> <p>Access patterns:</p> <pre><code># Add tag to post\npost.tags.add(tag)\n\n# Get all tags for a post\npost.tags.all()\n\n# Get all posts with a tag\ntag.posts.all()\n\n# Remove tag\npost.tags.remove(tag)\n\n# Clear all tags\npost.tags.clear()\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#related-managers","title":"Related Managers","text":"<p>Django automatically creates related managers for relationships:</p> <pre><code># ForeignKey creates reverse manager\nuser.posts.all()  # All posts by user\nuser.posts.filter(title__icontains='django')\n\n# ManyToMany creates manager\npost.tags.all()\npost.tags.add(tag1, tag2)\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#on_delete-options","title":"on_delete Options","text":"<pre><code># CASCADE: Delete related objects\nauthor = models.ForeignKey(User, on_delete=models.CASCADE)\n\n# PROTECT: Prevent deletion if related objects exist\nauthor = models.ForeignKey(User, on_delete=models.PROTECT)\n\n# SET_NULL: Set to NULL (requires null=True)\nauthor = models.ForeignKey(User, on_delete=models.SET_NULL, null=True)\n\n# SET_DEFAULT: Set to default value\nauthor = models.ForeignKey(User, on_delete=models.SET_DEFAULT, default=1)\n\n# DO_NOTHING: Do nothing (not recommended)\nauthor = models.ForeignKey(User, on_delete=models.DO_NOTHING)\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#nested-serializers","title":"Nested Serializers","text":""},{"location":"LEVEL_3_ADVANCED.html#read-only-nested-serializer","title":"Read-Only Nested Serializer","text":"<p>Display related data but don't allow creation/update through nested data.</p> <pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Post, User, Tag\n\nclass AuthorSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = User\n        fields = ['id', 'username', 'email', 'first_name', 'last_name']\n\nclass PostSerializer(serializers.ModelSerializer):\n    author = AuthorSerializer(read_only=True)\n    author_id = serializers.IntegerField(write_only=True)\n\n    class Meta:\n        model = Post\n        fields = ['id', 'title', 'content', 'author', 'author_id', 'created_at']\n        read_only_fields = ['id', 'created_at']\n\n    def create(self, validated_data):\n        author_id = validated_data.pop('author_id', None)\n        if author_id:\n            validated_data['author_id'] = author_id\n        return Post.objects.create(**validated_data)\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#writable-nested-serializer","title":"Writable Nested Serializer","text":"<p>Allow creating/updating related objects through the parent.</p> <p>\u26a0\ufe0f Important: When using nested serializers with ManyToMany fields, ensure the instance is saved before accessing ManyToMany relationships to avoid <code>AttributeError: 'NoneType' object has no attribute '_meta'</code>.</p> <pre><code># api/serializers.py\nclass TagSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Tag\n        fields = ['id', 'name']\n\nclass CommentSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Comment\n        fields = ['id', 'content', 'author', 'created_at']\n        read_only_fields = ['id', 'created_at']\n\nclass PostSerializer(serializers.ModelSerializer):\n    # Overriding model's ManyToMany 'tags' field with nested serializer\n    tags = TagSerializer(many=True, required=False)\n    comments = CommentSerializer(many=True, read_only=True)\n\n    class Meta:\n        model = Post\n        fields = ['id', 'title', 'content', 'author', 'tags', 'comments', 'created_at']\n        read_only_fields = ['id', 'author', 'created_at']\n\n    def create(self, validated_data):\n        tags_data = validated_data.pop('tags', [])\n        request = self.context.get('request')\n        if not request or not request.user.is_authenticated:\n            raise serializers.ValidationError(\"Authentication required to create posts\")\n        # CRITICAL: Create instance first, then add ManyToMany relationships\n        # Author is read-only, so set it from request\n        post = Post.objects.create(author=request.user, **validated_data)\n\n        # Now safe to add ManyToMany relationships (instance is saved)\n        # tags_data is a list of dicts: [{'name': 'django'}, {'name': 'python'}]\n        for tag_data in tags_data:\n            tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n            post.tags.add(tag)\n\n        return post\n\n    def update(self, instance, validated_data):\n        tags_data = validated_data.pop('tags', None)\n\n        # Update post fields\n        instance.title = validated_data.get('title', instance.title)\n        instance.content = validated_data.get('content', instance.content)\n        # CRITICAL: Save instance before updating ManyToMany\n        instance.save()\n\n        # Update tags if provided (after instance is saved)\n        if tags_data is not None:\n            instance.tags.clear()\n            for tag_data in tags_data:\n                tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n                instance.tags.add(tag)\n\n        return instance\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#nested-serializer-best-practices","title":"Nested Serializer Best Practices","text":"<ol> <li>Use read_only=True for display-only nested data</li> <li>Override create() and update() for writable nested serializers</li> <li>Use get_or_create() to avoid duplicate related objects</li> <li>Handle ManyToMany relationships carefully in update()</li> </ol>"},{"location":"LEVEL_3_ADVANCED.html#important-manytomany-field-conflicts","title":"Important: ManyToMany Field Conflicts","text":"<p>\u26a0\ufe0f Common Error: When overriding a ManyToMany field with a nested serializer using the same field name, you may encounter:</p> <pre><code>AttributeError: 'NoneType' object has no attribute '_meta'\n</code></pre> <p>Solution Options:</p> <p>Option 1: Separate Read/Write Fields (Recommended) Use different field names for reading (nested serializer) and writing (ID list):</p> <pre><code>class TaskSerializer(serializers.ModelSerializer):\n    # Read: nested serializer for display\n    assigned_to = UserSerializer(many=True, read_only=True)\n    # Write: list of IDs for creation/update\n    assigned_to_ids = serializers.ListField(\n        child=serializers.IntegerField(),\n        write_only=True,\n        required=False\n    )\n\n    def create(self, validated_data):\n        assigned_to_ids = validated_data.pop('assigned_to_ids', [])\n        task = Task.objects.create(**validated_data)\n        if assigned_to_ids:\n            task.assigned_to.set(assigned_to_ids)  # Set after creation\n        return task\n</code></pre> <p>Option 2: Nested Serializer (Use with Caution) If using the same field name, ensure the instance is saved before accessing ManyToMany:</p> <pre><code>class PostSerializer(serializers.ModelSerializer):\n    tags = TagSerializer(many=True, required=False)  # Same name as model field\n\n    def create(self, validated_data):\n        tags_data = validated_data.pop('tags', [])\n        # CRITICAL: Create instance first, then add ManyToMany relationships\n        post = Post.objects.create(**validated_data)\n        # Now safe to add ManyToMany relationships\n        for tag_data in tags_data:\n            tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n            post.tags.add(tag)\n        return post\n</code></pre> <p>Why Option 1 is Better: Avoids field name conflicts and is more explicit about read vs. write operations.</p>"},{"location":"LEVEL_3_ADVANCED.html#serializermethodfield","title":"SerializerMethodField","text":"<p>Use SerializerMethodField to add computed or custom fields.</p> <pre><code># api/serializers.py\nclass PostSerializer(serializers.ModelSerializer):\n    author_name = serializers.SerializerMethodField()\n    comment_count = serializers.SerializerMethodField()\n    is_author = serializers.SerializerMethodField()\n\n    class Meta:\n        model = Post\n        fields = ['id', 'title', 'content', 'author', 'author_name', \n                  'comment_count', 'is_author', 'created_at']\n\n    def get_author_name(self, obj):\n        return f\"{obj.author.first_name} {obj.author.last_name}\"\n\n    def get_comment_count(self, obj):\n        return obj.comments.count()\n\n    def get_is_author(self, obj):\n        request = self.context.get('request')\n        if request and request.user.is_authenticated:\n            return obj.author == request.user\n        return False\n</code></pre> <p>Important: SerializerMethodField is read-only by default.</p>"},{"location":"LEVEL_3_ADVANCED.html#custom-serializer-fields","title":"Custom Serializer Fields","text":""},{"location":"LEVEL_3_ADVANCED.html#creating-custom-fields","title":"Creating Custom Fields","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\n\nclass UppercaseCharField(serializers.CharField):\n    def to_representation(self, value):\n        return super().to_representation(value).upper() if value else value\n\nclass PostSerializer(serializers.ModelSerializer):\n    title = UppercaseCharField()\n    # ...\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#custom-field-with-validation","title":"Custom Field with Validation","text":"<pre><code># api/serializers.py\nclass AgeField(serializers.IntegerField):\n    def to_internal_value(self, data):\n        age = super().to_internal_value(data)\n        if age &lt; 0 or age &gt; 150:\n            raise serializers.ValidationError(\"Age must be between 0 and 150\")\n        return age\n\nclass UserProfileSerializer(serializers.ModelSerializer):\n    age = AgeField()\n    # ...\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#overriding-serializer-methods","title":"Overriding Serializer Methods","text":""},{"location":"LEVEL_3_ADVANCED.html#override-create","title":"Override create()","text":"<pre><code># api/serializers.py\nclass PostSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Post\n        fields = ['id', 'title', 'content', 'author', 'tags']\n\n    def create(self, validated_data):\n        # Get request user\n        request = self.context.get('request')\n        if not request or not request.user.is_authenticated:\n            raise serializers.ValidationError(\"Authentication required to create posts\")\n\n        # Set author to current user\n        validated_data['author'] = request.user\n\n        # Handle tags - pop before creating instance\n        tags_data = validated_data.pop('tags', [])\n        # CRITICAL: Create instance first, then add ManyToMany relationships\n        post = Post.objects.create(**validated_data)\n\n        # Now safe to add ManyToMany relationships (instance is saved)\n        for tag_data in tags_data:\n            tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n            post.tags.add(tag)\n\n        return post\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#override-update","title":"Override update()","text":"<pre><code># api/serializers.py\nclass PostSerializer(serializers.ModelSerializer):\n    def update(self, instance, validated_data):\n        # Update simple fields\n        instance.title = validated_data.get('title', instance.title)\n        instance.content = validated_data.get('content', instance.content)\n\n        # Handle tags\n        if 'tags' in validated_data:\n            tags_data = validated_data.pop('tags')\n            # CRITICAL: Save instance before updating ManyToMany\n            instance.save()\n            instance.tags.clear()\n            for tag_data in tags_data:\n                tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n                instance.tags.add(tag)\n        else:\n            instance.save()\n\n        return instance\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#override-to_representation","title":"Override to_representation()","text":"<p>Customize how data is serialized.</p> <pre><code># api/serializers.py\nclass PostSerializer(serializers.ModelSerializer):\n    def to_representation(self, instance):\n        representation = super().to_representation(instance)\n\n        # Add custom fields\n        representation['author_full_name'] = f\"{instance.author.first_name} {instance.author.last_name}\"\n        representation['comment_count'] = instance.comments.count()\n\n        # Format dates\n        representation['created_at'] = instance.created_at.strftime('%Y-%m-%d %H:%M:%S')\n\n        return representation\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#validation","title":"Validation","text":""},{"location":"LEVEL_3_ADVANCED.html#field-level-validation","title":"Field-Level Validation","text":"<pre><code># api/serializers.py\nclass PostSerializer(serializers.ModelSerializer):\n    title = serializers.CharField(max_length=200)\n\n    def validate_title(self, value):\n        if len(value) &lt; 10:\n            raise serializers.ValidationError(\"Title must be at least 10 characters\")\n        if 'spam' in value.lower():\n            raise serializers.ValidationError(\"Title cannot contain spam\")\n        return value\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#object-level-validation","title":"Object-Level Validation","text":"<pre><code># api/serializers.py\nclass PostSerializer(serializers.ModelSerializer):\n    def validate(self, data):\n        # Check if title and content match\n        if 'title' in data and 'content' in data:\n            if data['title'].lower() in data['content'].lower():\n                raise serializers.ValidationError({\n                    'content': 'Content should not repeat the title'\n                })\n        return data\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#custom-validators","title":"Custom Validators","text":"<pre><code># api/validators.py\nfrom rest_framework import serializers\n\ndef validate_no_profanity(value):\n    profanity_words = ['spam', 'badword']\n    if any(word in value.lower() for word in profanity_words):\n        raise serializers.ValidationError(\"Content contains inappropriate words\")\n    return value\n\n# api/serializers.py\nfrom .validators import validate_no_profanity\n\nclass PostSerializer(serializers.ModelSerializer):\n    content = serializers.CharField(validators=[validate_no_profanity])\n    # ...\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#query-optimization","title":"Query Optimization","text":""},{"location":"LEVEL_3_ADVANCED.html#the-n1-problem","title":"The N+1 Problem","text":"<p>Problem: Making multiple database queries when one would suffice.</p> <pre><code># BAD: N+1 queries\nposts = Post.objects.all()\nfor post in posts:\n    print(post.author.username)  # One query per post!\n</code></pre> <p>Solution: Use <code>select_related</code> and <code>prefetch_related</code>.</p>"},{"location":"LEVEL_3_ADVANCED.html#select_related-foreignkey-onetoone","title":"select_related (ForeignKey, OneToOne)","text":"<p>Follows foreign key relationships and fetches related objects in a single query.</p> <pre><code># GOOD: Single query\nposts = Post.objects.select_related('author').all()\nfor post in posts:\n    print(post.author.username)  # No additional queries!\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#prefetch_related-manytomany-reverse-foreignkey","title":"prefetch_related (ManyToMany, Reverse ForeignKey)","text":"<p>Prefetches related objects in a separate query.</p> <pre><code># BAD: Multiple queries\nposts = Post.objects.all()\nfor post in posts:\n    print(post.tags.all())  # One query per post!\n\n# GOOD: Two queries total\nposts = Post.objects.prefetch_related('tags').all()\nfor post in posts:\n    print(post.tags.all())  # No additional queries!\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#combined-optimization","title":"Combined Optimization","text":"<pre><code># Optimize multiple relationships\nposts = Post.objects.select_related('author').prefetch_related('tags', 'comments').all()\n\n# With filtering\nposts = Post.objects.select_related('author').prefetch_related('tags').filter(\n    author__is_active=True\n).all()\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#only-and-defer","title":"only() and defer()","text":"<p>Fetch only needed fields.</p> <pre><code># Fetch only specific fields\nposts = Post.objects.only('id', 'title', 'author_id').all()\n\n# Defer heavy fields\nposts = Post.objects.defer('content').all()  # Don't fetch content field\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#annotate-and-aggregate","title":"annotate() and aggregate()","text":"<p>Add computed fields and aggregations.</p> <pre><code>from django.db.models import Count, Avg\n\n# Add comment count to each post\nposts = Post.objects.annotate(comment_count=Count('comments')).all()\n\n# Get average comment count\navg_comments = Post.objects.aggregate(avg_comments=Avg('comments__id'))\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#using-in-views","title":"Using in Views","text":"<pre><code># api/views.py\nclass PostViewSet(viewsets.ModelViewSet):\n    def get_queryset(self):\n        return Post.objects.select_related('author').prefetch_related(\n            'tags', 'comments', 'comments__author'\n        ).annotate(comment_count=Count('comments')).all()\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#django-signals","title":"Django Signals","text":""},{"location":"LEVEL_3_ADVANCED.html#what-are-signals","title":"What are Signals?","text":"<p>Signals allow decoupled applications to get notified when certain actions occur.</p>"},{"location":"LEVEL_3_ADVANCED.html#common-signals","title":"Common Signals","text":"<pre><code># api/signals.py\nfrom django.db.models.signals import pre_save, post_save, pre_delete, post_delete\nfrom django.dispatch import receiver\nfrom .models import Post\n\n@receiver(pre_save, sender=Post)\ndef pre_save_post(sender, instance, **kwargs):\n    \"\"\"Called before Post is saved\"\"\"\n    if not instance.slug:\n        instance.slug = slugify(instance.title)\n\n@receiver(post_save, sender=Post)\ndef post_save_post(sender, instance, created, **kwargs):\n    \"\"\"Called after Post is saved\"\"\"\n    if created:\n        print(f\"New post created: {instance.title}\")\n        # Send notification, update cache, etc.\n\n@receiver(pre_delete, sender=Post)\ndef pre_delete_post(sender, instance, **kwargs):\n    \"\"\"Called before Post is deleted\"\"\"\n    # Backup, logging, etc.\n    print(f\"Post being deleted: {instance.title}\")\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#register-signals","title":"Register Signals","text":"<pre><code># api/apps.py\nfrom django.apps import AppConfig\n\nclass ApiConfig(AppConfig):\n    default_auto_field = 'django.db.models.BigAutoField'\n    name = 'api'\n\n    def ready(self):\n        import api.signals  # Import signals\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#background-tasks","title":"Background Tasks","text":""},{"location":"LEVEL_3_ADVANCED.html#option-1-celery-production","title":"Option 1: Celery (Production)","text":"<pre><code># Install\npip install celery redis\n</code></pre> <pre><code># core/celery.py\nimport os\nfrom celery import Celery\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'core.settings')\napp = Celery('core')\napp.config_from_object('django.conf:settings', namespace='CELERY')\napp.autodiscover_tasks()\n</code></pre> <pre><code># core/__init__.py\nfrom .celery import app as celery_app\n__all__ = ('celery_app',)\n</code></pre> <pre><code># core/settings.py\nCELERY_BROKER_URL = 'redis://localhost:6379/0'\nCELERY_RESULT_BACKEND = 'redis://localhost:6379/0'\n</code></pre> <pre><code># api/tasks.py\nfrom celery import shared_task\nfrom django.core.mail import send_mail\n\n@shared_task\ndef send_post_notification(post_id):\n    post = Post.objects.get(id=post_id)\n    send_mail(\n        subject=f'New Post: {post.title}',\n        message=post.content,\n        from_email='noreply@example.com',\n        recipient_list=['admin@example.com'],\n    )\n</code></pre> <pre><code># api/views.py\nfrom .tasks import send_post_notification\n\nclass PostViewSet(viewsets.ModelViewSet):\n    def perform_create(self, serializer):\n        post = serializer.save()\n        send_post_notification.delay(post.id)  # Async task\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#option-2-django-q-simpler-alternative","title":"Option 2: Django-Q (Simpler Alternative)","text":"<pre><code>pip install django-q2\n</code></pre> <pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'django_q',\n]\n\nQ_CLUSTER = {\n    'name': 'DjangORM',\n    'workers': 4,\n    'timeout': 90,\n    'retry': 120,\n    'queue_limit': 50,\n    'bulk': 10,\n    'orm': 'default'\n}\n</code></pre> <pre><code># api/views.py\nfrom django_q.tasks import async_task\n\ndef send_notification(post_id):\n    # Your notification logic\n    pass\n\nclass PostViewSet(viewsets.ModelViewSet):\n    def perform_create(self, serializer):\n        post = serializer.save()\n        async_task(send_notification, post.id)  # Async task\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#step-by-step-blog-api","title":"Step-by-Step: Blog API","text":"<p>Let's build a complete Blog API with relationships.</p>"},{"location":"LEVEL_3_ADVANCED.html#step-1-create-models","title":"Step 1: Create Models","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    title = models.CharField(max_length=200)\n    content = models.TextField()\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    tags = models.ManyToManyField(Tag, related_name='posts', blank=True)\n    published = models.BooleanField(default=False)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        ordering = ['-created_at']\n\nclass Comment(models.Model):\n    post = models.ForeignKey(Post, on_delete=models.CASCADE, related_name='comments')\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='comments')\n    content = models.TextField()\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return f\"Comment by {self.author.username} on {self.post.title}\"\n\n    class Meta:\n        ordering = ['created_at']\n</code></pre> <p>Create migrations:</p> <pre><code>python manage.py makemigrations\npython manage.py migrate\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#step-2-create-serializers","title":"Step 2: Create Serializers","text":"<pre><code># api/serializers.py\nfrom rest_framework import serializers\nfrom .models import Post, Comment, Tag\nfrom django.contrib.auth.models import User\n\nclass AuthorSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = User\n        fields = ['id', 'username', 'first_name', 'last_name']\n\nclass TagSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Tag\n        fields = ['id', 'name']\n\nclass CommentSerializer(serializers.ModelSerializer):\n    author = AuthorSerializer(read_only=True)\n    post_id = serializers.IntegerField(write_only=True)\n\n    class Meta:\n        model = Comment\n        fields = ['id', 'content', 'post_id', 'author', 'created_at']\n        read_only_fields = ['id', 'author', 'created_at']\n\nclass PostSerializer(serializers.ModelSerializer):\n    author = AuthorSerializer(read_only=True)\n    # Custom tags field - this overrides the model's ManyToMany 'tags' field\n    # DRF will use this instead of the model field, avoiding the _meta conflict\n    tags = TagSerializer(many=True, required=False)\n    comments = CommentSerializer(many=True, read_only=True)\n    comment_count = serializers.SerializerMethodField()\n\n    class Meta:\n        model = Post\n        fields = ['id', 'title', 'content', 'author', 'tags', 'comments', \n                  'comment_count', 'published', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'author', 'created_at', 'updated_at']\n\n    def get_comment_count(self, obj):\n        return obj.comments.count()\n\n    def create(self, validated_data):\n        tags_data = validated_data.pop('tags', [])\n        request = self.context.get('request')\n        if not request or not request.user.is_authenticated:\n            raise serializers.ValidationError(\"Authentication required to create posts\")\n        # Create post first (without tags)\n        post = Post.objects.create(author=request.user, **validated_data)\n\n        # Handle tags after post is saved (ManyToMany requires saved instance)\n        # tags_data is a list of dicts from TagSerializer (e.g., [{'name': 'django'}, {'name': 'python'}])\n        for tag_data in tags_data:\n            tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n            post.tags.add(tag)\n\n        return post\n\n    def update(self, instance, validated_data):\n        tags_data = validated_data.pop('tags', None)\n\n        instance.title = validated_data.get('title', instance.title)\n        instance.content = validated_data.get('content', instance.content)\n        instance.published = validated_data.get('published', instance.published)\n        instance.save()\n\n        if tags_data is not None:\n            instance.tags.clear()\n            for tag_data in tags_data:\n                tag, created = Tag.objects.get_or_create(name=tag_data['name'])\n                instance.tags.add(tag)\n\n        return instance\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#step-3-create-viewsets","title":"Step 3: Create ViewSets","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets, filters\nfrom rest_framework.permissions import IsAuthenticatedOrReadOnly\nfrom django_filters.rest_framework import DjangoFilterBackend\nfrom django.db.models import Count\nfrom .models import Post, Comment, Tag\nfrom .serializers import PostSerializer, CommentSerializer, TagSerializer\n\nclass PostViewSet(viewsets.ModelViewSet):\n    serializer_class = PostSerializer\n    permission_classes = [IsAuthenticatedOrReadOnly]\n    filter_backends = [DjangoFilterBackend, filters.SearchFilter, filters.OrderingFilter]\n    filterset_fields = ['published', 'author']\n    search_fields = ['title', 'content']\n    ordering_fields = ['created_at', 'title']\n    ordering = ['-created_at']\n\n    def get_queryset(self):\n        return Post.objects.select_related('author').prefetch_related(\n            'tags', 'comments', 'comments__author'\n        ).annotate(comment_count=Count('comments')).all()\n\nclass CommentViewSet(viewsets.ModelViewSet):\n    serializer_class = CommentSerializer\n    permission_classes = [IsAuthenticatedOrReadOnly]\n\n    def get_queryset(self):\n        post_id = self.request.query_params.get('post', None)\n        queryset = Comment.objects.select_related('author', 'post').all()\n        if post_id:\n            queryset = queryset.filter(post_id=post_id)\n        return queryset\n\n    def perform_create(self, serializer):\n        post_id = serializer.validated_data.get('post_id')\n        serializer.save(author=self.request.user, post_id=post_id)\n\nclass TagViewSet(viewsets.ModelViewSet):\n    queryset = Tag.objects.all()\n    serializer_class = TagSerializer\n    permission_classes = [IsAuthenticatedOrReadOnly]\n    filter_backends = [filters.SearchFilter]\n    search_fields = ['name']\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#step-4-configure-urls","title":"Step 4: Configure URLs","text":"<pre><code># api/urls.py\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\nrouter = DefaultRouter()\nrouter.register(r'posts', views.PostViewSet, basename='post')\nrouter.register(r'comments', views.CommentViewSet, basename='comment')\nrouter.register(r'tags', views.TagViewSet, basename='tag')\n\nurlpatterns = [\n    path('', include(router.urls)),\n]\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#step-5-test-blog-api","title":"Step 5: Test Blog API","text":"<pre><code># Create post with tags\ncurl -X POST http://localhost:8000/api/posts/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"title\": \"My First Post\",\n    \"content\": \"This is the content\",\n    \"tags\": [{\"name\": \"django\"}, {\"name\": \"python\"}],\n    \"published\": true\n  }'\n\n# Get post with nested data\ncurl http://localhost:8000/api/posts/1/\n\n# Create comment\ncurl -X POST http://localhost:8000/api/comments/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -d '{\n    \"post_id\": 1,\n    \"content\": \"Great post!\"\n  }'\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#step-by-step-enhanced-task-api","title":"Step-by-Step: Enhanced Task API","text":"<p>Add relationships to your Task model.</p>"},{"location":"LEVEL_3_ADVANCED.html#step-1-update-task-model","title":"Step 1: Update Task Model","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Category(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    color = models.CharField(max_length=7, default='#000000')  # Hex color\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return self.name\n\nclass Task(models.Model):\n    PRIORITY_CHOICES = [\n        ('low', 'Low'),\n        ('medium', 'Medium'),\n        ('high', 'High'),\n    ]\n\n    title = models.CharField(max_length=100)\n    desc = models.TextField(null=True, blank=True)\n    completed = models.BooleanField(default=False)\n    priority = models.CharField(max_length=10, choices=PRIORITY_CHOICES, default='medium')\n    due_date = models.DateTimeField(null=True, blank=True)\n    owner = models.ForeignKey(User, on_delete=models.CASCADE, related_name='tasks')\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True, related_name='tasks')\n    assigned_to = models.ManyToManyField(User, related_name='assigned_tasks', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#step-2-create-serializers_1","title":"Step 2: Create Serializers","text":"<pre><code># api/serializers.py\nclass CategorySerializer(serializers.ModelSerializer):\n    task_count = serializers.SerializerMethodField()\n\n    class Meta:\n        model = Category\n        fields = ['id', 'name', 'color', 'task_count', 'created_at']\n        read_only_fields = ['id', 'created_at']\n\n    def get_task_count(self, obj):\n        return obj.tasks.count()\n\nclass UserSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = User\n        fields = ['id', 'username', 'email']\n\nclass TaskSerializer(serializers.ModelSerializer):\n    owner = UserSerializer(read_only=True)\n    category = CategorySerializer(read_only=True)\n    category_id = serializers.IntegerField(write_only=True, required=False, allow_null=True)\n    assigned_to = UserSerializer(many=True, read_only=True)\n    assigned_to_ids = serializers.ListField(\n        child=serializers.IntegerField(),\n        write_only=True,\n        required=False\n    )\n    is_overdue = serializers.SerializerMethodField()\n\n    class Meta:\n        model = Task\n        fields = ['id', 'title', 'desc', 'completed', 'priority', 'due_date',\n                  'owner', 'category', 'category_id', 'assigned_to', 'assigned_to_ids',\n                  'is_overdue', 'created_at', 'updated_at']\n        read_only_fields = ['id', 'owner', 'created_at', 'updated_at']\n\n    def get_is_overdue(self, obj):\n        if obj.due_date and not obj.completed:\n            from django.utils import timezone\n            return obj.due_date &lt; timezone.now()\n        return False\n\n    def create(self, validated_data):\n        assigned_to_ids = validated_data.pop('assigned_to_ids', [])\n        category_id = validated_data.pop('category_id', None)\n        request = self.context.get('request')\n        if not request or not request.user.is_authenticated:\n            raise serializers.ValidationError(\"Authentication required to create tasks\")\n        # Create task first (without ManyToMany relationships)\n        task = Task.objects.create(owner=request.user, **validated_data)\n\n        # Set ForeignKey after creation if needed\n        if category_id is not None:\n            task.category_id = category_id\n            task.save()\n\n        # Set ManyToMany relationships after instance is saved\n        if assigned_to_ids:\n            task.assigned_to.set(assigned_to_ids)\n\n        return task\n\n    def update(self, instance, validated_data):\n        assigned_to_ids = validated_data.pop('assigned_to_ids', None)\n        category_id = validated_data.pop('category_id', None)\n\n        # Update simple fields\n        instance.title = validated_data.get('title', instance.title)\n        instance.desc = validated_data.get('desc', instance.desc)\n        instance.completed = validated_data.get('completed', instance.completed)\n        instance.priority = validated_data.get('priority', instance.priority)\n        instance.due_date = validated_data.get('due_date', instance.due_date)\n\n        # Update ForeignKey if provided\n        if category_id is not None:\n            instance.category_id = category_id\n\n        # Save instance before updating ManyToMany\n        instance.save()\n\n        # Update ManyToMany relationships after save\n        if assigned_to_ids is not None:\n            instance.assigned_to.set(assigned_to_ids)\n\n        return instance\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#step-3-update-viewset","title":"Step 3: Update ViewSet","text":"<pre><code># api/views.py\nclass TaskViewSet(viewsets.ModelViewSet):\n    serializer_class = TaskSerializer\n    permission_classes = [IsAuthenticated]\n    filter_backends = [DjangoFilterBackend, filters.SearchFilter, filters.OrderingFilter]\n    filterset_fields = ['completed', 'priority', 'category']\n    search_fields = ['title', 'desc']\n    ordering_fields = ['title', 'priority', 'due_date', 'created_at']\n    ordering = ['-created_at']\n\n    def get_queryset(self):\n        queryset = Task.objects.select_related('owner', 'category').prefetch_related(\n            'assigned_to'\n        ).filter(owner=self.request.user)\n\n        # Filter by overdue\n        if self.request.query_params.get('overdue') == 'true':\n            from django.utils import timezone\n            queryset = queryset.filter(due_date__lt=timezone.now(), completed=False)\n\n        return queryset\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#soft-delete","title":"Soft Delete","text":""},{"location":"LEVEL_3_ADVANCED.html#implement-soft-delete","title":"Implement Soft Delete","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.utils import timezone\n\nclass SoftDeleteManager(models.Manager):\n    def get_queryset(self):\n        return super().get_queryset().filter(deleted_at__isnull=True)\n\nclass Task(models.Model):\n    # ... fields ...\n    deleted_at = models.DateTimeField(null=True, blank=True)\n\n    objects = SoftDeleteManager()\n    all_objects = models.Manager()  # Access deleted items\n\n    def delete(self, using=None, keep_parents=False):\n        self.deleted_at = timezone.now()\n        self.save()\n\n    def restore(self):\n        self.deleted_at = None\n        self.save()\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#advanced-query-patterns","title":"Advanced Query Patterns","text":""},{"location":"LEVEL_3_ADVANCED.html#complex-filtering","title":"Complex Filtering","text":"<pre><code>from django.db.models import Q, Count, Avg\n\n# OR conditions\ntasks = Task.objects.filter(\n    Q(priority='high') | Q(due_date__lt=timezone.now())\n)\n\n# AND conditions\ntasks = Task.objects.filter(\n    Q(completed=False) &amp; Q(priority='high')\n)\n\n# Exclude\ntasks = Task.objects.exclude(completed=True)\n\n# Annotate with related count\nposts = Post.objects.annotate(\n    comment_count=Count('comments'),\n    tag_count=Count('tags')\n).filter(comment_count__gte=5)\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#exercises","title":"Exercises","text":""},{"location":"LEVEL_3_ADVANCED.html#exercise-1-complete-blog-api","title":"Exercise 1: Complete Blog API","text":"<ol> <li>Create Post, Comment, Tag models with relationships</li> <li>Create nested serializers</li> <li>Implement query optimization</li> <li>Add filtering and search</li> <li>Test all endpoints</li> </ol>"},{"location":"LEVEL_3_ADVANCED.html#exercise-2-enhanced-task-api","title":"Exercise 2: Enhanced Task API","text":"<ol> <li>Add Category and User relationships</li> <li>Implement ManyToMany for assigned users</li> <li>Add computed fields (is_overdue)</li> <li>Optimize queries</li> <li>Test with cURL</li> </ol>"},{"location":"LEVEL_3_ADVANCED.html#exercise-3-signals-and-background-tasks","title":"Exercise 3: Signals and Background Tasks","text":"<ol> <li>Add signals for post creation</li> <li>Implement email notification task</li> <li>Test signal triggers</li> </ol>"},{"location":"LEVEL_3_ADVANCED.html#add-ons","title":"Add-ons","text":""},{"location":"LEVEL_3_ADVANCED.html#add-on-1-custom-manager","title":"Add-on 1: Custom Manager","text":"<pre><code># api/models.py\nclass PublishedPostManager(models.Manager):\n    def get_queryset(self):\n        return super().get_queryset().filter(published=True)\n\nclass Post(models.Model):\n    # ... fields ...\n    objects = models.Manager()\n    published = PublishedPostManager()\n</code></pre>"},{"location":"LEVEL_3_ADVANCED.html#add-on-2-advanced-validation","title":"Add-on 2: Advanced Validation","text":"<p>Implement complex validation rules with custom validators.</p>"},{"location":"LEVEL_3_ADVANCED.html#add-on-3-serializer-context","title":"Add-on 3: Serializer Context","text":"<p>Use context to pass request data to serializers.</p>"},{"location":"LEVEL_3_ADVANCED.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 3. You now know:</p> <ul> <li>\u2705 Model relationships (ForeignKey, OneToOne, ManyToMany)</li> <li>\u2705 Nested serializers (read-only and writable)</li> <li>\u2705 SerializerMethodField and custom fields</li> <li>\u2705 Query optimization (select_related, prefetch_related)</li> <li>\u2705 Django signals</li> <li>\u2705 Background tasks</li> </ul> <p>Ready for Level 4? Continue to Level 4: Scalable API Design to learn about caching, versioning, file uploads, and async views!</p> <p>Resources: - DRF Serializers - Django Model Relationships - Django Query Optimization - Celery Documentation</p>"},{"location":"LEVEL_4_SCALABLE.html","title":"Level 4: Scalable API Design - Caching, Versioning &amp; Advanced Features","text":""},{"location":"LEVEL_4_SCALABLE.html#goal","title":"Goal","text":"<p>Learn to build APIs that scale and integrate with external services. Master caching, API versioning, file uploads, async views, and API documentation. By the end of this level, you'll be able to build production-ready, scalable APIs.</p>"},{"location":"LEVEL_4_SCALABLE.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Custom Middleware</li> <li>Caching Strategies</li> <li>Rate Limiting</li> <li>API Versioning</li> <li>Pagination Strategies</li> <li>File Uploads</li> <li>Third-Party API Integration</li> <li>Async Views</li> <li>API Documentation</li> <li>Testing</li> <li>Step-by-Step: Task Management API</li> <li>Performance Monitoring</li> <li>Exercises</li> <li>Add-ons</li> </ol>"},{"location":"LEVEL_4_SCALABLE.html#custom-middleware","title":"Custom Middleware","text":""},{"location":"LEVEL_4_SCALABLE.html#what-is-middleware","title":"What is Middleware?","text":"<p>Middleware is a framework of hooks into Django's request/response processing. It's a lightweight plugin system for globally altering input or output.</p>"},{"location":"LEVEL_4_SCALABLE.html#creating-custom-middleware","title":"Creating Custom Middleware","text":"<pre><code># api/middleware.py\nimport time\nfrom django.utils.deprecation import MiddlewareMixin\n\nclass RequestLoggingMiddleware(MiddlewareMixin):\n    \"\"\"Log all API requests\"\"\"\n\n    def process_request(self, request):\n        request.start_time = time.time()\n        return None\n\n    def process_response(self, request, response):\n        if hasattr(request, 'start_time'):\n            duration = time.time() - request.start_time\n            print(f\"{request.method} {request.path} - {response.status_code} - {duration:.2f}s\")\n        return response\n\nclass CustomHeaderMiddleware(MiddlewareMixin):\n    \"\"\"Add custom headers to responses\"\"\"\n\n    def process_response(self, request, response):\n        response['X-API-Version'] = '1.0'\n        response['X-Powered-By'] = 'Django REST Framework'\n        return response\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#register-middleware","title":"Register Middleware","text":"<pre><code># core/settings.py\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n    'api.middleware.RequestLoggingMiddleware',  # Add custom middleware\n    'api.middleware.CustomHeaderMiddleware',\n]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#caching-strategies","title":"Caching Strategies","text":""},{"location":"LEVEL_4_SCALABLE.html#django-cache-framework","title":"Django Cache Framework","text":"<p>Django provides a robust caching framework.</p>"},{"location":"LEVEL_4_SCALABLE.html#redis-setup","title":"Redis Setup","text":"<pre><code># Install Redis (Linux)\nsudo apt install redis-server\n\n# Install Redis (macOS)\nbrew install redis\n\n# Start Redis\nredis-server\n\n# Install Python Redis client\npip install django-redis\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#configure-redis-cache","title":"Configure Redis Cache","text":"<pre><code># core/settings.py\nCACHES = {\n    'default': {\n        'BACKEND': 'django_redis.cache.RedisCache',\n        'LOCATION': 'redis://127.0.0.1:6379/1',\n        'OPTIONS': {\n            'CLIENT_CLASS': 'django_redis.client.DefaultClient',\n        },\n        'KEY_PREFIX': 'rest_api',\n        'TIMEOUT': 300,  # 5 minutes default\n    }\n}\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#per-view-caching","title":"Per-View Caching","text":"<pre><code># api/views.py\nfrom django.views.decorators.cache import cache_page\nfrom django.utils.decorators import method_decorator\nfrom rest_framework import viewsets\n\n@method_decorator(cache_page(60 * 15), name='dispatch')  # Cache for 15 minutes\nclass BookViewSet(viewsets.ModelViewSet):\n    # ...\n    pass\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#template-fragment-caching","title":"Template Fragment Caching","text":"<pre><code># In templates\n{% load cache %}\n{% cache 500 sidebar %}\n    &lt;!-- Sidebar content --&gt;\n{% endcache %}\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#low-level-cache-api","title":"Low-Level Cache API","text":"<pre><code># api/views.py\nfrom django.core.cache import cache\n\nclass BookViewSet(viewsets.ModelViewSet):\n    def list(self, request, *args, **kwargs):\n        cache_key = 'books_list'\n        cached_data = cache.get(cache_key)\n\n        if cached_data is None:\n            queryset = self.filter_queryset(self.get_queryset())\n            serializer = self.get_serializer(queryset, many=True)\n            cached_data = serializer.data\n            cache.set(cache_key, cached_data, 300)  # Cache for 5 minutes\n\n        return Response(cached_data)\n\n    def create(self, request, *args, **kwargs):\n        response = super().create(request, *args, **kwargs)\n        cache.delete('books_list')  # Invalidate cache\n        return response\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#cache-decorators","title":"Cache Decorators","text":"<pre><code># api/views.py\nfrom django.views.decorators.cache import cache_page\nfrom django.views.decorators.vary import vary_on_headers\n\n@cache_page(60 * 15)\n@vary_on_headers('Authorization')\ndef my_view(request):\n    # ...\n    pass\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#rate-limiting","title":"Rate Limiting","text":""},{"location":"LEVEL_4_SCALABLE.html#drf-throttling","title":"DRF Throttling","text":"<pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'rest_framework.throttling.AnonRateThrottle',\n        'rest_framework.throttling.UserRateThrottle'\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'anon': '100/hour',\n        'user': '1000/hour',\n        'create': '10/hour',  # Custom rate\n    }\n}\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#custom-throttle-classes","title":"Custom Throttle Classes","text":"<pre><code># api/throttles.py\nfrom rest_framework.throttling import UserRateThrottle\n\nclass CreateThrottle(UserRateThrottle):\n    rate = '10/hour'\n\nclass BurstThrottle(UserRateThrottle):\n    rate = '100/hour'\n\nclass SustainedThrottle(UserRateThrottle):\n    rate = '1000/day'\n</code></pre> <pre><code># api/views.py\nfrom .throttles import CreateThrottle, BurstThrottle\n\nclass BookViewSet(viewsets.ModelViewSet):\n    throttle_classes = [BurstThrottle]\n    throttle_scope = 'create'\n\n    def get_throttles(self):\n        if self.action == 'create':\n            return [CreateThrottle()]\n        return [BurstThrottle()]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#scoped-rate-throttling","title":"Scoped Rate Throttling","text":"<pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': [\n        'rest_framework.throttling.ScopedRateThrottle',\n    ],\n    'DEFAULT_THROTTLE_RATES': {\n        'books': '100/hour',\n        'tasks': '200/hour',\n    }\n}\n</code></pre> <pre><code># api/views.py\nclass BookViewSet(viewsets.ModelViewSet):\n    throttle_scope = 'books'\n    # ...\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#api-versioning","title":"API Versioning","text":""},{"location":"LEVEL_4_SCALABLE.html#url-versioning","title":"URL Versioning","text":"<pre><code># core/urls.py\nfrom django.urls import path, include\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('api/v1/', include('api.v1.urls')),\n    path('api/v2/', include('api.v2.urls')),\n]\n</code></pre> <pre><code># api/v1/urls.py\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\nrouter = DefaultRouter()\nrouter.register(r'books', views.BookViewSet, basename='book')\n\nurlpatterns = [\n    path('', include(router.urls)),\n]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#namespace-versioning","title":"Namespace Versioning","text":"<pre><code># core/urls.py\nurlpatterns = [\n    path('api/v1/', include(('api.urls', 'api'), namespace='v1')),\n    path('api/v2/', include(('api.urls', 'api'), namespace='v2')),\n]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#header-versioning","title":"Header Versioning","text":"<pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_VERSIONING_CLASS': 'rest_framework.versioning.AcceptHeaderVersioning',\n    'DEFAULT_VERSION': '1.0',\n    'ALLOWED_VERSIONS': ['1.0', '2.0'],\n    'VERSION_PARAM': 'version',\n}\n</code></pre> <pre><code># api/views.py\nfrom rest_framework.versioning import AcceptHeaderVersioning\n\nclass BookViewSet(viewsets.ModelViewSet):\n    versioning_class = AcceptHeaderVersioning\n    # ...\n</code></pre> <p>Usage:</p> <pre><code>curl -H \"Accept: application/json; version=2.0\" \\\n  http://localhost:8000/api/books/\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#query-parameter-versioning","title":"Query Parameter Versioning","text":"<pre><code># core/settings.py\nREST_FRAMEWORK = {\n    'DEFAULT_VERSIONING_CLASS': 'rest_framework.versioning.QueryParameterVersioning',\n    'DEFAULT_VERSION': '1.0',\n    'ALLOWED_VERSIONS': ['1.0', '2.0'],\n}\n</code></pre> <p>Usage:</p> <pre><code>curl http://localhost:8000/api/books/?version=2.0\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#versioning-in-views","title":"Versioning in Views","text":"<pre><code># api/views.py\nclass BookViewSet(viewsets.ModelViewSet):\n    def get_serializer_class(self):\n        if self.request.version == '2.0':\n            return BookV2Serializer\n        return BookSerializer\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#pagination-strategies","title":"Pagination Strategies","text":""},{"location":"LEVEL_4_SCALABLE.html#pagenumberpagination","title":"PageNumberPagination","text":"<pre><code># api/pagination.py\nfrom rest_framework.pagination import PageNumberPagination\n\nclass StandardResultsSetPagination(PageNumberPagination):\n    page_size = 20\n    page_size_query_param = 'page_size'\n    max_page_size = 100\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#limitoffsetpagination","title":"LimitOffsetPagination","text":"<pre><code># api/pagination.py\nfrom rest_framework.pagination import LimitOffsetPagination\n\nclass LargeResultsSetPagination(LimitOffsetPagination):\n    default_limit = 50\n    limit_query_param = 'limit'\n    offset_query_param = 'offset'\n    max_limit = 1000\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#cursorpagination","title":"CursorPagination","text":"<pre><code># api/pagination.py\nfrom rest_framework.pagination import CursorPagination\n\nclass TaskCursorPagination(CursorPagination):\n    page_size = 25\n    ordering = '-created_at'\n    cursor_query_param = 'cursor'\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#custom-pagination","title":"Custom Pagination","text":"<pre><code># api/pagination.py\nfrom rest_framework.pagination import PageNumberPagination\nfrom rest_framework.response import Response\n\nclass CustomPagination(PageNumberPagination):\n    page_size = 20\n\n    def get_paginated_response(self, data):\n        return Response({\n            'links': {\n                'next': self.get_next_link(),\n                'previous': self.get_previous_link()\n            },\n            'count': self.page.paginator.count,\n            'total_pages': self.page.paginator.num_pages,\n            'current_page': self.page.number,\n            'results': data\n        })\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#file-uploads","title":"File Uploads","text":""},{"location":"LEVEL_4_SCALABLE.html#basic-file-upload","title":"Basic File Upload","text":"<pre><code># api/models.py\nfrom django.db import models\n\nclass TaskAttachment(models.Model):\n    task = models.ForeignKey(Task, on_delete=models.CASCADE, related_name='attachments')\n    file = models.FileField(upload_to='attachments/')\n    name = models.CharField(max_length=200)\n    uploaded_at = models.DateTimeField(auto_now_add=True)\n\n    def __str__(self):\n        return self.name\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#configure-media-settings","title":"Configure Media Settings","text":"<pre><code># core/settings.py\nMEDIA_URL = '/media/'\nMEDIA_ROOT = BASE_DIR / 'media'\n</code></pre> <pre><code># core/urls.py\nfrom django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = [\n    # ... your URLs ...\n]\n\nif settings.DEBUG:\n    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#file-upload-serializer","title":"File Upload Serializer","text":"<pre><code># api/serializers.py\nclass TaskAttachmentSerializer(serializers.ModelSerializer):\n    file_size = serializers.SerializerMethodField()\n    file_type = serializers.SerializerMethodField()\n\n    class Meta:\n        model = TaskAttachment\n        fields = ['id', 'task', 'file', 'name', 'file_size', 'file_type', 'uploaded_at']\n        read_only_fields = ['id', 'uploaded_at']\n\n    def get_file_size(self, obj):\n        if obj.file:\n            return obj.file.size\n        return None\n\n    def get_file_type(self, obj):\n        if obj.file:\n            return obj.file.name.split('.')[-1].upper()\n        return None\n\n    def validate_file(self, value):\n        max_size = 10 * 1024 * 1024  # 10MB\n        if value.size &gt; max_size:\n            raise serializers.ValidationError(\"File size cannot exceed 10MB\")\n\n        allowed_types = ['pdf', 'doc', 'docx', 'jpg', 'jpeg', 'png']\n        file_ext = value.name.split('.')[-1].lower()\n        if file_ext not in allowed_types:\n            raise serializers.ValidationError(f\"File type not allowed. Allowed: {allowed_types}\")\n\n        return value\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#file-upload-view","title":"File Upload View","text":"<pre><code># api/views.py\nfrom rest_framework import viewsets, status\nfrom rest_framework.decorators import action\nfrom rest_framework.response import Response\nfrom .models import TaskAttachment\nfrom .serializers import TaskAttachmentSerializer\n\nclass TaskAttachmentViewSet(viewsets.ModelViewSet):\n    queryset = TaskAttachment.objects.all()\n    serializer_class = TaskAttachmentSerializer\n    permission_classes = [IsAuthenticated]\n\n    @action(detail=False, methods=['post'], url_path='upload')\n    def upload_file(self, request):\n        serializer = self.get_serializer(data=request.data)\n        serializer.is_valid(raise_exception=True)\n        serializer.save()\n        return Response(serializer.data, status=status.HTTP_201_CREATED)\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#image-upload-with-pillow","title":"Image Upload with Pillow","text":"<pre><code>pip install Pillow\n</code></pre> <pre><code># api/models.py\nfrom django.db import models\n\nclass Task(models.Model):\n    # ... fields ...\n    image = models.ImageField(upload_to='task_images/', blank=True, null=True)\n</code></pre> <pre><code># api/serializers.py\nclass TaskSerializer(serializers.ModelSerializer):\n    # ... fields ...\n\n    def validate_image(self, value):\n        if value:\n            if value.size &gt; 5 * 1024 * 1024:  # 5MB\n                raise serializers.ValidationError(\"Image size cannot exceed 5MB\")\n            # Validate image format\n            from PIL import Image\n            try:\n                img = Image.open(value)\n                img.verify()\n            except Exception:\n                raise serializers.ValidationError(\"Invalid image format\")\n        return value\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#third-party-api-integration","title":"Third-Party API Integration","text":""},{"location":"LEVEL_4_SCALABLE.html#using-requests-library","title":"Using requests Library","text":"<pre><code>pip install requests\n</code></pre> <pre><code># api/services.py\nimport requests\nfrom django.conf import settings\n\nclass ExternalAPIService:\n    def __init__(self):\n        self.base_url = 'https://api.example.com'\n        self.api_key = settings.EXTERNAL_API_KEY\n\n    def get_data(self, endpoint):\n        headers = {\n            'Authorization': f'Bearer {self.api_key}',\n            'Content-Type': 'application/json'\n        }\n        response = requests.get(\n            f'{self.base_url}/{endpoint}',\n            headers=headers,\n            timeout=10\n        )\n        response.raise_for_status()\n        return response.json()\n\n    def post_data(self, endpoint, data):\n        headers = {\n            'Authorization': f'Bearer {self.api_key}',\n            'Content-Type': 'application/json'\n        }\n        response = requests.post(\n            f'{self.base_url}/{endpoint}',\n            headers=headers,\n            json=data,\n            timeout=10\n        )\n        response.raise_for_status()\n        return response.json()\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#using-in-views","title":"Using in Views","text":"<pre><code># api/views.py\nfrom .services import ExternalAPIService\nfrom rest_framework.decorators import action\nfrom rest_framework.response import Response\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    # ... existing code ...\n\n    @action(detail=True, methods=['post'])\n    def sync_external(self, request, pk=None):\n        task = self.get_object()\n        service = ExternalAPIService()\n\n        try:\n            data = service.post_data('tasks', {\n                'title': task.title,\n                'description': task.desc,\n            })\n            return Response({'status': 'synced', 'external_id': data['id']})\n        except requests.exceptions.RequestException as e:\n            return Response({'error': str(e)}, status=status.HTTP_500_INTERNAL_SERVER_ERROR)\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#error-handling","title":"Error Handling","text":"<pre><code># api/services.py\nimport requests\nimport logging\n\nlogger = logging.getLogger(__name__)\n\nclass ExternalAPIService:\n    def get_data(self, endpoint):\n        try:\n            response = requests.get(f'{self.base_url}/{endpoint}', timeout=10)\n            response.raise_for_status()\n            return response.json()\n        except requests.exceptions.Timeout:\n            logger.error(f\"Timeout calling {endpoint}\")\n            raise\n        except requests.exceptions.HTTPError as e:\n            logger.error(f\"HTTP error calling {endpoint}: {e}\")\n            raise\n        except requests.exceptions.RequestException as e:\n            logger.error(f\"Request error calling {endpoint}: {e}\")\n            raise\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#async-views","title":"Async Views","text":""},{"location":"LEVEL_4_SCALABLE.html#async-function-based-views","title":"Async Function-Based Views","text":"<pre><code># api/views.py\nfrom django.http import JsonResponse\nimport asyncio\nimport aiohttp\n\nasync def async_external_api_call():\n    async with aiohttp.ClientSession() as session:\n        async with session.get('https://api.example.com/data') as response:\n            return await response.json()\n\nasync def async_task_list(request):\n    data = await async_external_api_call()\n    return JsonResponse(data)\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#async-class-based-views","title":"Async Class-Based Views","text":"<pre><code># api/views.py\nfrom django.views import View\nfrom django.utils.decorators import method_decorator\nfrom django.views.decorators.csrf import csrf_exempt\nimport json\n\n@method_decorator(csrf_exempt, name='dispatch')\nclass AsyncTaskView(View):\n    async def get(self, request):\n        data = await async_external_api_call()\n        return JsonResponse(data)\n\n    async def post(self, request):\n        body = json.loads(request.body)\n        # Process async\n        return JsonResponse({'status': 'created'})\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#async-in-drf-django-41","title":"Async in DRF (Django 4.1+)","text":"<pre><code># api/views.py\nfrom rest_framework.views import APIView\nfrom rest_framework.response import Response\nimport asyncio\n\nclass AsyncBookView(APIView):\n    async def get(self, request):\n        # Async operations\n        data = await asyncio.gather(\n            self.fetch_books(),\n            self.fetch_authors(),\n        )\n        return Response({'books': data[0], 'authors': data[1]})\n\n    async def fetch_books(self):\n        # Simulate async operation\n        await asyncio.sleep(1)\n        return list(Book.objects.values())\n\n    async def fetch_authors(self):\n        await asyncio.sleep(1)\n        return list(Author.objects.values())\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#api-documentation","title":"API Documentation","text":""},{"location":"LEVEL_4_SCALABLE.html#drf-spectacular-openapi-30","title":"drf-spectacular (OpenAPI 3.0)","text":"<pre><code>pip install drf-spectacular\n</code></pre> <pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'drf_spectacular',\n]\n\nREST_FRAMEWORK = {\n    'DEFAULT_SCHEMA_CLASS': 'drf_spectacular.openapi.AutoSchema',\n}\n\nSPECTACULAR_SETTINGS = {\n    'TITLE': 'Your API',\n    'DESCRIPTION': 'Your API description',\n    'VERSION': '1.0.0',\n    'SERVE_INCLUDE_SCHEMA': False,\n}\n</code></pre> <pre><code># core/urls.py\nfrom drf_spectacular.views import SpectacularAPIView, SpectacularSwaggerView, SpectacularRedocView\n\nurlpatterns = [\n    # ... existing URLs ...\n    path('api/schema/', SpectacularAPIView.as_view(), name='schema'),\n    path('api/docs/', SpectacularSwaggerView.as_view(url_name='schema'), name='swagger-ui'),\n    path('api/redoc/', SpectacularRedocView.as_view(url_name='schema'), name='redoc'),\n]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#custom-schema","title":"Custom Schema","text":"<pre><code># api/serializers.py\nfrom drf_spectacular.utils import extend_schema, OpenApiParameter\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    @extend_schema(\n        summary=\"List tasks\",\n        description=\"Get a list of all tasks\",\n        parameters=[\n            OpenApiParameter(name='completed', description='Filter by completion status', required=False, type=bool),\n        ],\n        responses={200: TaskSerializer(many=True)}\n    )\n    def list(self, request):\n        return super().list(request)\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#testing","title":"Testing","text":""},{"location":"LEVEL_4_SCALABLE.html#pytest-setup","title":"pytest Setup","text":"<pre><code>pip install pytest pytest-django pytest-cov\n</code></pre> <pre><code># pytest.ini\n[pytest]\nDJANGO_SETTINGS_MODULE = core.settings\npython_files = tests.py test_*.py *_tests.py\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#basic-tests","title":"Basic Tests","text":"<pre><code># api/tests.py\nimport pytest\nfrom django.contrib.auth.models import User\nfrom rest_framework.test import APIClient\nfrom .models import Task\n\n@pytest.fixture\ndef api_client():\n    return APIClient()\n\n@pytest.fixture\ndef user():\n    return User.objects.create_user(username='testuser', password='testpass123')\n\n@pytest.fixture\ndef task(user):\n    return Task.objects.create(title='Test Task', owner=user)\n\n@pytest.mark.django_db\ndef test_create_task(api_client, user):\n    api_client.force_authenticate(user=user)\n    response = api_client.post('/api/tasks/', {\n        'title': 'New Task',\n        'desc': 'Description',\n        'completed': False\n    })\n    assert response.status_code == 201\n    assert Task.objects.count() == 1\n\n@pytest.mark.django_db\ndef test_list_tasks(api_client, user, task):\n    api_client.force_authenticate(user=user)\n    response = api_client.get('/api/tasks/')\n    assert response.status_code == 200\n    assert len(response.data) == 1\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#run-tests","title":"Run Tests","text":"<pre><code># Run all tests\npytest\n\n# Run with coverage\npytest --cov=api --cov-report=html\n\n# Run specific test\npytest api/tests.py::test_create_task\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#step-by-step-task-management-api","title":"Step-by-Step: Task Management API","text":"<p>Let's build a complete Task Management API with all advanced features.</p>"},{"location":"LEVEL_4_SCALABLE.html#step-1-update-models","title":"Step 1: Update Models","text":"<pre><code># api/models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass TaskAttachment(models.Model):\n    task = models.ForeignKey(Task, on_delete=models.CASCADE, related_name='attachments')\n    file = models.FileField(upload_to='attachments/')\n    name = models.CharField(max_length=200)\n    uploaded_at = models.DateTimeField(auto_now_add=True)\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#step-2-create-serializers","title":"Step 2: Create Serializers","text":"<pre><code># api/serializers.py\nclass TaskAttachmentSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = TaskAttachment\n        fields = ['id', 'task', 'file', 'name', 'uploaded_at']\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#step-3-create-viewset-with-caching","title":"Step 3: Create ViewSet with Caching","text":"<pre><code># api/views.py\nfrom django.core.cache import cache\nfrom rest_framework import viewsets\nfrom .models import Task, TaskAttachment\nfrom .serializers import TaskSerializer, TaskAttachmentSerializer\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    serializer_class = TaskSerializer\n    permission_classes = [IsAuthenticated]\n\n    def get_queryset(self):\n        cache_key = f'tasks_user_{self.request.user.id}'\n        queryset = cache.get(cache_key)\n\n        if queryset is None:\n            queryset = Task.objects.filter(owner=self.request.user)\n            cache.set(cache_key, queryset, 300)  # Cache for 5 minutes\n\n        return queryset\n\n    def perform_create(self, serializer):\n        serializer.save(owner=self.request.user)\n        cache.delete(f'tasks_user_{self.request.user.id}')  # Invalidate cache\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#step-4-add-file-upload-endpoint","title":"Step 4: Add File Upload Endpoint","text":"<pre><code># api/views.py\nclass TaskAttachmentViewSet(viewsets.ModelViewSet):\n    queryset = TaskAttachment.objects.all()\n    serializer_class = TaskAttachmentSerializer\n    permission_classes = [IsAuthenticated]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#step-5-configure-urls-with-versioning","title":"Step 5: Configure URLs with Versioning","text":"<pre><code># api/v1/urls.py\nfrom django.urls import path, include\nfrom rest_framework.routers import DefaultRouter\nfrom . import views\n\nrouter = DefaultRouter()\nrouter.register(r'tasks', views.TaskViewSet, basename='task')\nrouter.register(r'attachments', views.TaskAttachmentViewSet, basename='attachment')\n\nurlpatterns = [\n    path('', include(router.urls)),\n]\n</code></pre> <pre><code># core/urls.py\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('api/v1/', include('api.v1.urls')),\n]\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#performance-monitoring","title":"Performance Monitoring","text":""},{"location":"LEVEL_4_SCALABLE.html#django-debug-toolbar-development","title":"Django Debug Toolbar (Development)","text":"<pre><code>pip install django-debug-toolbar\n</code></pre> <pre><code># core/settings.py\nif DEBUG:\n    INSTALLED_APPS += ['debug_toolbar']\n    MIDDLEWARE += ['debug_toolbar.middleware.DebugToolbarMiddleware']\n    INTERNAL_IPS = ['127.0.0.1']\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#logging","title":"Logging","text":"<pre><code># core/settings.py\nLOGGING = {\n    'version': 1,\n    'disable_existing_loggers': False,\n    'handlers': {\n        'file': {\n            'level': 'INFO',\n            'class': 'logging.FileHandler',\n            'filename': 'api.log',\n        },\n    },\n    'loggers': {\n        'api': {\n            'handlers': ['file'],\n            'level': 'INFO',\n        },\n    },\n}\n</code></pre>"},{"location":"LEVEL_4_SCALABLE.html#exercises","title":"Exercises","text":""},{"location":"LEVEL_4_SCALABLE.html#exercise-1-complete-task-management-api","title":"Exercise 1: Complete Task Management API","text":"<ol> <li>Add file upload functionality</li> <li>Implement caching</li> <li>Add API versioning</li> <li>Create API documentation</li> <li>Write tests</li> </ol>"},{"location":"LEVEL_4_SCALABLE.html#exercise-2-external-api-integration","title":"Exercise 2: External API Integration","text":"<ol> <li>Integrate with a third-party API</li> <li>Handle errors gracefully</li> <li>Add retry logic</li> <li>Cache external API responses</li> </ol>"},{"location":"LEVEL_4_SCALABLE.html#exercise-3-performance-optimization","title":"Exercise 3: Performance Optimization","text":"<ol> <li>Implement query optimization</li> <li>Add caching layers</li> <li>Monitor performance</li> <li>Optimize slow endpoints</li> </ol>"},{"location":"LEVEL_4_SCALABLE.html#add-ons","title":"Add-ons","text":""},{"location":"LEVEL_4_SCALABLE.html#add-on-1-custom-caching-strategy","title":"Add-on 1: Custom Caching Strategy","text":"<p>Implement cache invalidation patterns.</p>"},{"location":"LEVEL_4_SCALABLE.html#add-on-2-api-rate-limiting-dashboard","title":"Add-on 2: API Rate Limiting Dashboard","text":"<p>Create a dashboard to monitor API usage.</p>"},{"location":"LEVEL_4_SCALABLE.html#add-on-3-file-processing","title":"Add-on 3: File Processing","text":"<p>Add background processing for uploaded files.</p>"},{"location":"LEVEL_4_SCALABLE.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 4. You now know:</p> <ul> <li>\u2705 Custom middleware</li> <li>\u2705 Caching strategies (Redis)</li> <li>\u2705 Rate limiting</li> <li>\u2705 API versioning</li> <li>\u2705 File uploads</li> <li>\u2705 Third-party API integration</li> <li>\u2705 Async views</li> <li>\u2705 API documentation</li> <li>\u2705 Testing</li> </ul> <p>Ready for Level 5? Continue to Level 5: Expert to learn about GraphQL, WebSockets, CI/CD, and production deployment!</p> <p>Resources: - DRF Caching - DRF Versioning - drf-spectacular - Django File Uploads</p>"},{"location":"LEVEL_5_EXPERT.html","title":"Level 5: Expert - Production, Performance &amp; Advanced Patterns","text":""},{"location":"LEVEL_5_EXPERT.html#goal","title":"Goal","text":"<p>Build enterprise-grade, production-ready Django APIs. Master GraphQL, WebSockets, advanced testing, CI/CD, monitoring, and deployment. By the end of this level, you'll be able to build and deploy scalable, observable APIs.</p>"},{"location":"LEVEL_5_EXPERT.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Async Django</li> <li>GraphQL Integration</li> <li>WebSockets with Django Channels</li> <li>Advanced Query Optimization</li> <li>Advanced Testing</li> <li>CI/CD Setup</li> <li>Monitoring and Logging</li> <li>Deployment Best Practices</li> <li>Step-by-Step: Analytics API</li> <li>AI API Integration</li> <li>Observability</li> <li>Exercises</li> <li>Add-ons</li> </ol>"},{"location":"LEVEL_5_EXPERT.html#async-django","title":"Async Django","text":""},{"location":"LEVEL_5_EXPERT.html#async-views-in-django-31","title":"Async Views in Django 3.1+","text":"<pre><code># api/views.py\nfrom django.http import JsonResponse\nimport asyncio\nimport aiohttp\n\nasync def async_book_list(request):\n    async with aiohttp.ClientSession() as session:\n        async with session.get('https://api.example.com/books') as response:\n            data = await response.json()\n    return JsonResponse(data)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#async-orm-operations-django-41","title":"Async ORM Operations (Django 4.1+)","text":"<pre><code># api/views.py\nfrom django.db import models\nfrom asgiref.sync import sync_to_async\n\nasync def async_task_list(request):\n    tasks = await sync_to_async(list)(Task.objects.all())\n    return JsonResponse({'tasks': [task.title for task in tasks]})\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#async-database-queries","title":"Async Database Queries","text":"<pre><code># api/views.py\nfrom asgiref.sync import sync_to_async\nfrom django.db import transaction\n\n@sync_to_async\ndef get_tasks():\n    return list(Task.objects.select_related('owner').all())\n\nasync def async_task_view(request):\n    tasks = await get_tasks()\n    return JsonResponse({'tasks': [t.title for t in tasks]})\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#graphql-integration","title":"GraphQL Integration","text":""},{"location":"LEVEL_5_EXPERT.html#strawberry-django-setup","title":"Strawberry-Django Setup","text":"<pre><code>pip install strawberry-graphql-django\n</code></pre> <pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'strawberry.django',\n]\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#define-graphql-schema","title":"Define GraphQL Schema","text":"<pre><code># api/schema.py\nimport strawberry\nfrom strawberry.django import DjangoModelType\nfrom .models import Task, Book\nfrom django.contrib.auth.models import User\n\n@strawberry.django.type(Task)\nclass TaskType(DjangoModelType):\n    class Meta:\n        model = Task\n        fields = ['id', 'title', 'desc', 'completed', 'created_at']\n\n@strawberry.django.type(Book)\nclass BookType(DjangoModelType):\n    class Meta:\n        model = Book\n        fields = ['id', 'title', 'author', 'published_date']\n\n@strawberry.type\nclass Query:\n    @strawberry.field\n    def tasks(self) -&gt; list[TaskType]:\n        return Task.objects.all()\n\n    @strawberry.field\n    def task(self, id: int) -&gt; TaskType:\n        return Task.objects.get(id=id)\n\n    @strawberry.field\n    def books(self) -&gt; list[BookType]:\n        return Book.objects.all()\n\n@strawberry.type\nclass Mutation:\n    @strawberry.mutation\n    def create_task(self, title: str, desc: str = None) -&gt; TaskType:\n        task = Task.objects.create(title=title, desc=desc)\n        return task\n\n    @strawberry.mutation\n    def update_task(self, id: int, completed: bool) -&gt; TaskType:\n        task = Task.objects.get(id=id)\n        task.completed = completed\n        task.save()\n        return task\n\nschema = strawberry.Schema(query=Query, mutation=Mutation)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#configure-graphql-urls","title":"Configure GraphQL URLs","text":"<pre><code># core/urls.py\nfrom strawberry.django.views import GraphQLView\nfrom api.schema import schema\n\nurlpatterns = [\n    # ... existing URLs ...\n    path('graphql/', GraphQLView.as_view(schema=schema)),\n]\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#graphql-with-authentication","title":"GraphQL with Authentication","text":"<pre><code># api/schema.py\nfrom strawberry.django.auth import login, logout\nfrom strawberry.types import Info\n\n@strawberry.type\nclass Mutation:\n    @strawberry.mutation\n    def login(self, info: Info, username: str, password: str) -&gt; bool:\n        from django.contrib.auth import authenticate\n        user = authenticate(username=username, password=password)\n        if user:\n            login(info.context.request, user)\n            return True\n        return False\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#test-graphql","title":"Test GraphQL","text":"<pre><code># Query\ncurl -X POST http://localhost:8000/graphql/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"query\": \"query { tasks { id title completed } }\"\n  }'\n\n# Mutation\ncurl -X POST http://localhost:8000/graphql/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"query\": \"mutation { createTask(title: \\\"New Task\\\") { id title } }\"\n  }'\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#websockets-with-django-channels","title":"WebSockets with Django Channels","text":""},{"location":"LEVEL_5_EXPERT.html#install-channels","title":"Install Channels","text":"<pre><code>pip install channels channels-redis\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#configure-channels","title":"Configure Channels","text":"<pre><code># core/settings.py\nINSTALLED_APPS = [\n    # ...\n    'channels',\n    'channels_redis',\n]\n\nASGI_APPLICATION = 'core.asgi.application'\n\nCHANNEL_LAYERS = {\n    'default': {\n        'BACKEND': 'channels_redis.core.RedisChannelLayer',\n        'CONFIG': {\n            \"hosts\": [('127.0.0.1', 6379)],\n        },\n    },\n}\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#update-asgi-configuration","title":"Update ASGI Configuration","text":"<pre><code># core/asgi.py\nimport os\nfrom django.core.asgi import get_asgi_application\nfrom channels.routing import ProtocolTypeRouter, URLRouter\nfrom channels.auth import AuthMiddlewareStack\nimport api.routing\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'core.settings')\n\napplication = ProtocolTypeRouter({\n    \"http\": get_asgi_application(),\n    \"websocket\": AuthMiddlewareStack(\n        URLRouter(\n            api.routing.websocket_urlpatterns\n        )\n    ),\n})\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#create-websocket-consumer","title":"Create WebSocket Consumer","text":"<pre><code># api/consumers.py\nfrom channels.generic.websocket import AsyncWebsocketConsumer\nimport json\n\nclass TaskConsumer(AsyncWebsocketConsumer):\n    async def connect(self):\n        self.room_group_name = 'tasks'\n\n        await self.channel_layer.group_add(\n            self.room_group_name,\n            self.channel_name\n        )\n\n        await self.accept()\n\n    async def disconnect(self, close_code):\n        await self.channel_layer.group_discard(\n            self.room_group_name,\n            self.channel_name\n        )\n\n    async def receive(self, text_data):\n        text_data_json = json.loads(text_data)\n        message = text_data_json['message']\n\n        await self.channel_layer.group_send(\n            self.room_group_name,\n            {\n                'type': 'task_message',\n                'message': message\n            }\n        )\n\n    async def task_message(self, event):\n        message = event['message']\n\n        await self.send(text_data=json.dumps({\n            'message': message\n        }))\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#configure-websocket-routing","title":"Configure WebSocket Routing","text":"<pre><code># api/routing.py\nfrom django.urls import re_path\nfrom . import consumers\n\nwebsocket_urlpatterns = [\n    re_path(r'ws/tasks/$', consumers.TaskConsumer.as_asgi()),\n]\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#send-messages-from-views","title":"Send Messages from Views","text":"<pre><code># api/views.py\nfrom channels.layers import get_channel_layer\nfrom asgiref.sync import async_to_sync\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    def perform_create(self, serializer):\n        task = serializer.save()\n\n        # Send WebSocket message\n        channel_layer = get_channel_layer()\n        async_to_sync(channel_layer.group_send)(\n            'tasks',\n            {\n                'type': 'task_message',\n                'message': f'New task created: {task.title}'\n            }\n        )\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#advanced-query-optimization","title":"Advanced Query Optimization","text":""},{"location":"LEVEL_5_EXPERT.html#raw-sql-queries","title":"Raw SQL Queries","text":"<pre><code># api/views.py\nfrom django.db import connection\n\ndef get_tasks_with_raw_sql():\n    with connection.cursor() as cursor:\n        cursor.execute(\"\"\"\n            SELECT t.id, t.title, u.username\n            FROM api_task t\n            JOIN auth_user u ON t.owner_id = u.id\n            WHERE t.completed = %s\n        \"\"\", [False])\n        return cursor.fetchall()\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#database-specific-features","title":"Database-Specific Features","text":"<pre><code># PostgreSQL-specific: Full-text search\nfrom django.contrib.postgres.search import SearchVector\n\ntasks = Task.objects.annotate(\n    search=SearchVector('title', 'desc')\n).filter(search='django')\n\n# Aggregations\nfrom django.db.models import Count, Avg, Sum\n\nstats = Task.objects.aggregate(\n    total=Count('id'),\n    completed=Count('id', filter=Q(completed=True)),\n    avg_priority=Avg('priority')\n)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#query-analysis","title":"Query Analysis","text":"<pre><code># api/views.py\nfrom django.db import connection\nfrom django.db import reset_queries\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    def list(self, request, *args, **kwargs):\n        reset_queries()\n        response = super().list(request, *args, **kwargs)\n\n        # Log queries\n        queries = connection.queries\n        print(f\"Total queries: {len(queries)}\")\n        for query in queries:\n            print(query['sql'])\n\n        return response\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#index-optimization","title":"Index Optimization","text":"<pre><code># api/models.py\nclass Task(models.Model):\n    # ... fields ...\n\n    class Meta:\n        indexes = [\n            models.Index(fields=['owner', 'completed']),\n            models.Index(fields=['-created_at']),\n            models.Index(fields=['title'], name='title_idx'),\n        ]\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#advanced-testing","title":"Advanced Testing","text":""},{"location":"LEVEL_5_EXPERT.html#integration-tests","title":"Integration Tests","text":"<pre><code># api/tests/test_integration.py\nimport pytest\nfrom django.test import TestCase\nfrom django.contrib.auth.models import User\nfrom rest_framework.test import APIClient\nfrom .models import Task\n\nclass TaskIntegrationTest(TestCase):\n    def setUp(self):\n        self.client = APIClient()\n        self.user = User.objects.create_user(\n            username='testuser',\n            password='testpass123'\n        )\n        self.client.force_authenticate(user=self.user)\n\n    def test_task_workflow(self):\n        # Create task\n        response = self.client.post('/api/tasks/', {\n            'title': 'Test Task',\n            'desc': 'Description'\n        })\n        self.assertEqual(response.status_code, 201)\n        task_id = response.data['id']\n\n        # Update task\n        response = self.client.patch(f'/api/tasks/{task_id}/', {\n            'completed': True\n        })\n        self.assertEqual(response.status_code, 200)\n\n        # Delete task\n        response = self.client.delete(f'/api/tasks/{task_id}/')\n        self.assertEqual(response.status_code, 204)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#test-coverage","title":"Test Coverage","text":"<pre><code># Install coverage\npip install coverage\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\ncoverage html  # Generate HTML report\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#mocking-external-apis","title":"Mocking External APIs","text":"<pre><code># api/tests/test_external_api.py\nfrom unittest.mock import patch, Mock\nimport pytest\n\n@patch('api.services.requests.get')\ndef test_external_api_integration(mock_get):\n    mock_response = Mock()\n    mock_response.json.return_value = {'data': 'test'}\n    mock_response.status_code = 200\n    mock_get.return_value = mock_response\n\n    service = ExternalAPIService()\n    result = service.get_data('endpoint')\n\n    assert result == {'data': 'test'}\n    mock_get.assert_called_once()\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#performance-tests","title":"Performance Tests","text":"<pre><code># api/tests/test_performance.py\nimport time\nfrom django.test import TestCase\n\nclass PerformanceTest(TestCase):\n    def test_query_performance(self):\n        start = time.time()\n        tasks = Task.objects.select_related('owner').all()\n        list(tasks)  # Force evaluation\n        duration = time.time() - start\n\n        self.assertLess(duration, 0.1)  # Should complete in &lt; 100ms\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#cicd-setup","title":"CI/CD Setup","text":""},{"location":"LEVEL_5_EXPERT.html#github-actions","title":"GitHub Actions","text":"<pre><code># .github/workflows/django.yml\nname: Django CI\n\non:\n  push:\n    branches: [ main, develop ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n\n    services:\n      postgres:\n        image: postgres:15\n        env:\n          POSTGRES_PASSWORD: postgres\n          POSTGRES_DB: test_db\n        options: &gt;-\n          --health-cmd pg_isready\n          --health-interval 10s\n          --health-timeout 5s\n          --health-retries 5\n        ports:\n          - 5432:5432\n\n    steps:\n    - uses: actions/checkout@v3\n\n    - name: Set up Python\n      uses: actions/setup-python@v4\n      with:\n        python-version: '3.11'\n\n    - name: Install dependencies\n      run: |\n        pip install -r requirements.txt\n\n    - name: Run tests\n      env:\n        DATABASE_URL: postgresql://postgres:postgres@localhost:5432/test_db\n        SECRET_KEY: test-secret-key\n      run: |\n        python manage.py test\n\n    - name: Run coverage\n      run: |\n        coverage run --source='.' manage.py test\n        coverage report\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#docker-setup","title":"Docker Setup","text":"<pre><code># Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy project\nCOPY . .\n\n# Run migrations and start server\nCMD python manage.py migrate &amp;&amp; python manage.py runserver 0.0.0.0:8000\n</code></pre> <pre><code># docker-compose.yml\nversion: '3.8'\n\nservices:\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: rest_api_db\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: postgres\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  web:\n    build: .\n    command: python manage.py runserver 0.0.0.0:8000\n    volumes:\n      - .:/app\n    ports:\n      - \"8000:8000\"\n    depends_on:\n      - db\n    environment:\n      DATABASE_URL: postgresql://postgres:postgres@db:5432/rest_api_db\n\nvolumes:\n  postgres_data:\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#monitoring-and-logging","title":"Monitoring and Logging","text":""},{"location":"LEVEL_5_EXPERT.html#sentry-integration","title":"Sentry Integration","text":"<pre><code>pip install sentry-sdk\n</code></pre> <pre><code># core/settings.py\nimport sentry_sdk\nfrom sentry_sdk.integrations.django import DjangoIntegration\n\nsentry_sdk.init(\n    dsn=\"YOUR_SENTRY_DSN\",\n    integrations=[DjangoIntegration()],\n    traces_sample_rate=1.0,\n    send_default_pii=True\n)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#structured-logging","title":"Structured Logging","text":"<pre><code># core/settings.py\nLOGGING = {\n    'version': 1,\n    'disable_existing_loggers': False,\n    'formatters': {\n        'verbose': {\n            'format': '{levelname} {asctime} {module} {message}',\n            'style': '{',\n        },\n        'json': {\n            '()': 'pythonjsonlogger.jsonlogger.JsonFormatter',\n        },\n    },\n    'handlers': {\n        'file': {\n            'level': 'INFO',\n            'class': 'logging.FileHandler',\n            'filename': 'api.log',\n            'formatter': 'json',\n        },\n        'console': {\n            'level': 'DEBUG',\n            'class': 'logging.StreamHandler',\n            'formatter': 'verbose',\n        },\n    },\n    'loggers': {\n        'api': {\n            'handlers': ['file', 'console'],\n            'level': 'INFO',\n        },\n    },\n}\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#custom-logging","title":"Custom Logging","text":"<pre><code># api/views.py\nimport logging\n\nlogger = logging.getLogger('api')\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    def create(self, request, *args, **kwargs):\n        logger.info(f'Task creation requested by user {request.user.id}')\n        try:\n            response = super().create(request, *args, **kwargs)\n            logger.info(f'Task created: {response.data[\"id\"]}')\n            return response\n        except Exception as e:\n            logger.error(f'Task creation failed: {str(e)}', exc_info=True)\n            raise\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#deployment-best-practices","title":"Deployment Best Practices","text":""},{"location":"LEVEL_5_EXPERT.html#environment-variables","title":"Environment Variables","text":"<pre><code># core/settings.py\nfrom decouple import config\n\nSECRET_KEY = config('SECRET_KEY')\nDEBUG = config('DEBUG', default=False, cast=bool)\nALLOWED_HOSTS = config('ALLOWED_HOSTS', default='', cast=lambda v: [s.strip() for s in v.split(',')])\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.postgresql',\n        'NAME': config('DB_NAME'),\n        'USER': config('DB_USER'),\n        'PASSWORD': config('DB_PASSWORD'),\n        'HOST': config('DB_HOST'),\n        'PORT': config('DB_PORT', default='5432'),\n    }\n}\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#gunicorn-configuration","title":"Gunicorn Configuration","text":"<pre><code># gunicorn_config.py\nbind = \"0.0.0.0:8000\"\nworkers = 4\nworker_class = \"sync\"\ntimeout = 120\nkeepalive = 5\nmax_requests = 1000\nmax_requests_jitter = 50\n</code></pre> <pre><code># Run with Gunicorn\ngunicorn core.wsgi:application --config gunicorn_config.py\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#nginx-configuration","title":"Nginx Configuration","text":"<pre><code># /etc/nginx/sites-available/rest_api\nserver {\n    listen 80;\n    server_name api.example.com;\n\n    location / {\n        proxy_pass http://127.0.0.1:8000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n\n    location /static/ {\n        alias /path/to/static/;\n    }\n\n    location /media/ {\n        alias /path/to/media/;\n    }\n}\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#security-checklist","title":"Security Checklist","text":"<pre><code># core/settings.py\n# Security settings for production\nSECURE_SSL_REDIRECT = True\nSESSION_COOKIE_SECURE = True\nCSRF_COOKIE_SECURE = True\nSECURE_BROWSER_XSS_FILTER = True\nSECURE_CONTENT_TYPE_NOSNIFF = True\nX_FRAME_OPTIONS = 'DENY'\nSECURE_HSTS_SECONDS = 31536000\nSECURE_HSTS_INCLUDE_SUBDOMAINS = True\nSECURE_HSTS_PRELOAD = True\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#step-by-step-analytics-api","title":"Step-by-Step: Analytics API","text":"<p>Build an analytics API with aggregation, background tasks, and GraphQL.</p>"},{"location":"LEVEL_5_EXPERT.html#step-1-create-analytics-models","title":"Step 1: Create Analytics Models","text":"<pre><code># api/models.py\nclass Analytics(models.Model):\n    date = models.DateField()\n    total_tasks = models.IntegerField(default=0)\n    completed_tasks = models.IntegerField(default=0)\n    created_at = models.DateTimeField(auto_now_add=True)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#step-2-create-analytics-view","title":"Step 2: Create Analytics View","text":"<pre><code># api/views.py\nfrom django.db.models import Count, Q\nfrom django.utils import timezone\nfrom datetime import timedelta\n\nclass AnalyticsViewSet(viewsets.ViewSet):\n    permission_classes = [IsAuthenticated]\n\n    def list(self, request):\n        # Aggregate data\n        stats = Task.objects.aggregate(\n            total=Count('id'),\n            completed=Count('id', filter=Q(completed=True)),\n            pending=Count('id', filter=Q(completed=False))\n        )\n\n        # Time-based stats\n        last_7_days = timezone.now() - timedelta(days=7)\n        recent_stats = Task.objects.filter(\n            created_at__gte=last_7_days\n        ).aggregate(\n            created=Count('id')\n        )\n\n        return Response({\n            'overall': stats,\n            'recent': recent_stats\n        })\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#step-3-add-graphql-schema","title":"Step 3: Add GraphQL Schema","text":"<pre><code># api/schema.py\n@strawberry.type\nclass AnalyticsType:\n    total: int\n    completed: int\n    pending: int\n\n@strawberry.type\nclass Query:\n    @strawberry.field\n    def analytics(self) -&gt; AnalyticsType:\n        stats = Task.objects.aggregate(\n            total=Count('id'),\n            completed=Count('id', filter=Q(completed=True)),\n            pending=Count('id', filter=Q(completed=False))\n        )\n        return AnalyticsType(**stats)\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#ai-api-integration","title":"AI API Integration","text":""},{"location":"LEVEL_5_EXPERT.html#openai-integration","title":"OpenAI Integration","text":"<pre><code>pip install openai\n</code></pre> <pre><code># api/services.py\nimport openai\nfrom django.conf import settings\n\nclass AIService:\n    def __init__(self):\n        openai.api_key = settings.OPENAI_API_KEY\n\n    def generate_task_suggestion(self, user_tasks):\n        prompt = f\"Based on these tasks: {user_tasks}, suggest a new task.\"\n        response = openai.Completion.create(\n            engine=\"text-davinci-003\",\n            prompt=prompt,\n            max_tokens=100\n        )\n        return response.choices[0].text.strip()\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#use-in-views","title":"Use in Views","text":"<pre><code># api/views.py\nfrom .services import AIService\n\nclass TaskViewSet(viewsets.ModelViewSet):\n    @action(detail=False, methods=['post'])\n    def ai_suggest(self, request):\n        user_tasks = Task.objects.filter(owner=request.user).values_list('title', flat=True)\n        ai_service = AIService()\n        suggestion = ai_service.generate_task_suggestion(list(user_tasks))\n        return Response({'suggestion': suggestion})\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#observability","title":"Observability","text":""},{"location":"LEVEL_5_EXPERT.html#metrics-collection","title":"Metrics Collection","text":"<pre><code># api/middleware.py\nfrom prometheus_client import Counter, Histogram\nimport time\n\nrequest_count = Counter('api_requests_total', 'Total API requests', ['method', 'endpoint'])\nrequest_duration = Histogram('api_request_duration_seconds', 'API request duration')\n\nclass MetricsMiddleware:\n    def __init__(self, get_response):\n        self.get_response = get_response\n\n    def __call__(self, request):\n        start_time = time.time()\n        response = self.get_response(request)\n        duration = time.time() - start_time\n\n        request_count.labels(method=request.method, endpoint=request.path).inc()\n        request_duration.observe(duration)\n\n        return response\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#distributed-tracing","title":"Distributed Tracing","text":"<pre><code># Install\npip install opentelemetry-api opentelemetry-sdk opentelemetry-instrumentation-django\n\n# Configure\nfrom opentelemetry import trace\nfrom opentelemetry.sdk.trace import TracerProvider\n\ntrace.set_tracer_provider(TracerProvider())\n</code></pre>"},{"location":"LEVEL_5_EXPERT.html#exercises","title":"Exercises","text":""},{"location":"LEVEL_5_EXPERT.html#exercise-1-complete-analytics-api","title":"Exercise 1: Complete Analytics API","text":"<ol> <li>Create analytics models</li> <li>Implement aggregation queries</li> <li>Add GraphQL endpoint</li> <li>Set up background report generation</li> <li>Deploy to production</li> </ol>"},{"location":"LEVEL_5_EXPERT.html#exercise-2-full-cicd-pipeline","title":"Exercise 2: Full CI/CD Pipeline","text":"<ol> <li>Set up GitHub Actions</li> <li>Configure Docker</li> <li>Add automated testing</li> <li>Set up deployment pipeline</li> </ol>"},{"location":"LEVEL_5_EXPERT.html#exercise-3-production-deployment","title":"Exercise 3: Production Deployment","text":"<ol> <li>Configure Gunicorn + Nginx</li> <li>Set up monitoring (Sentry)</li> <li>Configure logging</li> <li>Implement security best practices</li> </ol>"},{"location":"LEVEL_5_EXPERT.html#add-ons","title":"Add-ons","text":""},{"location":"LEVEL_5_EXPERT.html#add-on-1-api-gateway","title":"Add-on 1: API Gateway","text":"<p>Implement API gateway pattern for microservices.</p>"},{"location":"LEVEL_5_EXPERT.html#add-on-2-multi-tenancy","title":"Add-on 2: Multi-tenancy","text":"<p>Add multi-tenant support to your API.</p>"},{"location":"LEVEL_5_EXPERT.html#add-on-3-real-time-dashboard","title":"Add-on 3: Real-time Dashboard","text":"<p>Build a real-time analytics dashboard using WebSockets.</p>"},{"location":"LEVEL_5_EXPERT.html#next-steps","title":"Next Steps","text":"<p>Congratulations! You've completed Level 5. You now know:</p> <ul> <li>\u2705 Async Django</li> <li>\u2705 GraphQL integration</li> <li>\u2705 WebSockets with Django Channels</li> <li>\u2705 Advanced query optimization</li> <li>\u2705 Advanced testing</li> <li>\u2705 CI/CD setup</li> <li>\u2705 Monitoring and logging</li> <li>\u2705 Production deployment</li> </ul> <p>You're now an expert in Django REST Framework! \ud83c\udf89</p> <p>Continue learning by: - Contributing to open-source Django projects - Building your own production APIs - Reading Django and DRF source code - Following Django community updates</p> <p>Resources: - Django Channels - Strawberry GraphQL - Django Deployment Checklist - Two Scoops of Django</p>"},{"location":"POSTGRESQL_SETUP.html","title":"PostgreSQL Setup Guide for Django","text":""},{"location":"POSTGRESQL_SETUP.html#overview","title":"Overview","text":"<p>This guide will help you set up PostgreSQL for your Django REST Framework project. While Django works with SQLite by default, PostgreSQL is recommended for production and provides better performance, advanced features, and scalability.</p>"},{"location":"POSTGRESQL_SETUP.html#table-of-contents","title":"Table of Contents","text":"<ol> <li>Installation</li> <li>Creating Database and User</li> <li>Django Configuration</li> <li>Migration from SQLite</li> <li>Connection Pooling</li> <li>Backup and Restore</li> <li>Optimization Tips</li> <li>Environment Variables</li> <li>Troubleshooting</li> </ol>"},{"location":"POSTGRESQL_SETUP.html#installation","title":"Installation","text":""},{"location":"POSTGRESQL_SETUP.html#linux-ubuntudebian","title":"Linux (Ubuntu/Debian)","text":"<pre><code># Update package list\nsudo apt update\n\n# Install PostgreSQL\nsudo apt install postgresql postgresql-contrib\n\n# Install Python PostgreSQL adapter\npip install psycopg2-binary\n\n# Start PostgreSQL service\nsudo systemctl start postgresql\nsudo systemctl enable postgresql\n\n# Verify installation\npsql --version\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#macos","title":"macOS","text":"<pre><code># Using Homebrew\nbrew install postgresql@15\n\n# Start PostgreSQL service\nbrew services start postgresql@15\n\n# Install Python adapter\npip install psycopg2-binary\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#windows","title":"Windows","text":"<ol> <li>Download PostgreSQL from postgresql.org/download/windows/</li> <li>Run the installer and follow the setup wizard</li> <li>Remember the password you set for the <code>postgres</code> user</li> <li>Install Python adapter:    <code>bash    pip install psycopg2-binary</code></li> </ol>"},{"location":"POSTGRESQL_SETUP.html#creating-database-and-user","title":"Creating Database and User","text":""},{"location":"POSTGRESQL_SETUP.html#step-1-access-postgresql","title":"Step 1: Access PostgreSQL","text":"<pre><code># Switch to postgres user (Linux/macOS)\nsudo -u postgres psql\n\n# Or on Windows, use psql from the PostgreSQL bin directory\n# Usually: C:\\Program Files\\PostgreSQL\\15\\bin\\psql.exe\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-2-create-database","title":"Step 2: Create Database","text":"<pre><code>-- Create a new database\nCREATE DATABASE rest_api_db;\n\n-- Create a user with password\nCREATE USER rest_api_user WITH PASSWORD 'your_secure_password_here';\n\n-- Grant privileges\nGRANT ALL PRIVILEGES ON DATABASE rest_api_db TO rest_api_user;\n\n-- For PostgreSQL 15+, also grant schema privileges\n\\c rest_api_db\nGRANT ALL ON SCHEMA public TO rest_api_user;\n\n-- Exit psql\n\\q\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-3-verify-connection","title":"Step 3: Verify Connection","text":"<pre><code># Test connection\npsql -U rest_api_user -d rest_api_db -h localhost\n\n# If prompted for password, enter the password you set\n# Type \\q to exit\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#django-configuration","title":"Django Configuration","text":""},{"location":"POSTGRESQL_SETUP.html#step-1-install-required-packages","title":"Step 1: Install Required Packages","text":"<pre><code>pip install psycopg2-binary python-decouple\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-2-update-settingspy","title":"Step 2: Update settings.py","text":"<p>Update your <code>core/settings.py</code>:</p> <pre><code>from pathlib import Path\nfrom decouple import config\n\nBASE_DIR = Path(__file__).resolve().parent.parent\n\n# Database configuration\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.postgresql',\n        'NAME': config('DB_NAME', default='rest_api_db'),\n        'USER': config('DB_USER', default='rest_api_user'),\n        'PASSWORD': config('DB_PASSWORD', default=''),\n        'HOST': config('DB_HOST', default='localhost'),\n        'PORT': config('DB_PORT', default='5432'),\n        'OPTIONS': {\n            'connect_timeout': 10,\n        },\n    }\n}\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-3-create-env-file","title":"Step 3: Create .env File","text":"<p>Create a <code>.env</code> file in your project root (same level as <code>manage.py</code>):</p> <pre><code># Database Configuration\nDB_NAME=rest_api_db\nDB_USER=rest_api_user\nDB_PASSWORD=your_secure_password_here\nDB_HOST=localhost\nDB_PORT=5432\n\n# Django Secret Key (keep this secret!)\nSECRET_KEY=your-secret-key-here\nDEBUG=True\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-4-update-settingspy-to-use-env","title":"Step 4: Update settings.py to Use .env","text":"<pre><code>from pathlib import Path\nfrom decouple import config\n\nBASE_DIR = Path(__file__).resolve().parent.parent\n\nSECRET_KEY = config('SECRET_KEY')\nDEBUG = config('DEBUG', default=False, cast=bool)\n\n# ... other settings ...\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.postgresql',\n        'NAME': config('DB_NAME'),\n        'USER': config('DB_USER'),\n        'PASSWORD': config('DB_PASSWORD'),\n        'HOST': config('DB_HOST'),\n        'PORT': config('DB_PORT'),\n    }\n}\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-5-add-env-to-gitignore","title":"Step 5: Add .env to .gitignore","text":"<p>Create or update <code>.gitignore</code>:</p> <pre><code>.env\n*.pyc\n__pycache__/\ndb.sqlite3\nvenv/\n*.log\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#migration-from-sqlite","title":"Migration from SQLite","text":"<p>If you've been using SQLite and want to migrate to PostgreSQL:</p>"},{"location":"POSTGRESQL_SETUP.html#step-1-export-data-from-sqlite","title":"Step 1: Export Data from SQLite","text":"<pre><code># Create a data dump\npython manage.py dumpdata &gt; data.json\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-2-update-database-settings","title":"Step 2: Update Database Settings","text":"<p>Switch to PostgreSQL in <code>settings.py</code> (as shown above).</p>"},{"location":"POSTGRESQL_SETUP.html#step-3-create-new-database-schema","title":"Step 3: Create New Database Schema","text":"<pre><code># Create migrations (if needed)\npython manage.py makemigrations\n\n# Apply migrations to PostgreSQL\npython manage.py migrate\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-4-load-data-into-postgresql","title":"Step 4: Load Data into PostgreSQL","text":"<pre><code># Load the data\npython manage.py loaddata data.json\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#step-5-verify-migration","title":"Step 5: Verify Migration","text":"<pre><code># Check data\npython manage.py shell\n</code></pre> <pre><code>from api.models import Task\nprint(Task.objects.count())  # Should match your SQLite count\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#connection-pooling","title":"Connection Pooling","text":"<p>For production applications, use connection pooling to improve performance:</p>"},{"location":"POSTGRESQL_SETUP.html#option-1-django-db-connection-pool","title":"Option 1: django-db-connection-pool","text":"<pre><code>pip install django-db-connection-pool\n</code></pre> <p>Update <code>settings.py</code>:</p> <pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'dj_db_conn_pool.backends.postgresql',\n        'NAME': config('DB_NAME'),\n        'USER': config('DB_USER'),\n        'PASSWORD': config('DB_PASSWORD'),\n        'HOST': config('DB_HOST'),\n        'PORT': config('DB_PORT'),\n        'POOL_OPTIONS': {\n            'POOL_SIZE': 10,\n            'MAX_OVERFLOW': 20,\n            'RECYCLE': 3600,\n        }\n    }\n}\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#option-2-pgbouncer-advanced","title":"Option 2: PgBouncer (Advanced)","text":"<p>For high-traffic applications, consider using PgBouncer as a connection pooler.</p>"},{"location":"POSTGRESQL_SETUP.html#backup-and-restore","title":"Backup and Restore","text":""},{"location":"POSTGRESQL_SETUP.html#backup-database","title":"Backup Database","text":"<pre><code># Using pg_dump\npg_dump -U rest_api_user -d rest_api_db -F c -f backup.dump\n\n# Or as SQL file\npg_dump -U rest_api_user -d rest_api_db &gt; backup.sql\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#restore-database","title":"Restore Database","text":"<pre><code># From custom format\npg_restore -U rest_api_user -d rest_api_db backup.dump\n\n# From SQL file\npsql -U rest_api_user -d rest_api_db &lt; backup.sql\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#automated-backups","title":"Automated Backups","text":"<p>Create a backup script <code>backup_db.sh</code>:</p> <pre><code>#!/bin/bash\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_DIR=\"/path/to/backups\"\nDB_NAME=\"rest_api_db\"\nDB_USER=\"rest_api_user\"\n\npg_dump -U $DB_USER -d $DB_NAME -F c -f $BACKUP_DIR/backup_$DATE.dump\n\n# Keep only last 7 days of backups\nfind $BACKUP_DIR -name \"backup_*.dump\" -mtime +7 -delete\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#optimization-tips","title":"Optimization Tips","text":""},{"location":"POSTGRESQL_SETUP.html#1-indexes","title":"1. Indexes","text":"<p>Add indexes for frequently queried fields:</p> <pre><code># In your models.py\nclass Task(models.Model):\n    title = models.CharField(max_length=100, db_index=True)\n    completed = models.BooleanField(default=False, db_index=True)\n    created_at = models.DateTimeField(auto_now_add=True, db_index=True)\n\n    class Meta:\n        indexes = [\n            models.Index(fields=['completed', 'created_at']),\n        ]\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#2-query-optimization","title":"2. Query Optimization","text":"<p>Use <code>select_related</code> and <code>prefetch_related</code>:</p> <pre><code># Instead of\ntasks = Task.objects.all()\n\n# Use\ntasks = Task.objects.select_related('user').prefetch_related('tags').all()\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#3-connection-settings","title":"3. Connection Settings","text":"<pre><code>DATABASES = {\n    'default': {\n        # ... other settings ...\n        'CONN_MAX_AGE': 600,  # Reuse connections for 10 minutes\n        'OPTIONS': {\n            'connect_timeout': 10,\n            'options': '-c statement_timeout=30000',  # 30 seconds\n        }\n    }\n}\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#4-postgresql-configuration","title":"4. PostgreSQL Configuration","text":"<p>Edit <code>/etc/postgresql/15/main/postgresql.conf</code> (adjust path for your version):</p> <pre><code># Memory settings\nshared_buffers = 256MB\neffective_cache_size = 1GB\nwork_mem = 16MB\n\n# Connection settings\nmax_connections = 100\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#environment-variables","title":"Environment Variables","text":""},{"location":"POSTGRESQL_SETUP.html#development-env","title":"Development (.env)","text":"<pre><code>DB_NAME=rest_api_db\nDB_USER=rest_api_user\nDB_PASSWORD=dev_password\nDB_HOST=localhost\nDB_PORT=5432\nDEBUG=True\nSECRET_KEY=dev-secret-key\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#production","title":"Production","text":"<p>Use environment variables or a secrets manager:</p> <pre><code># Set environment variables\nexport DB_NAME=production_db\nexport DB_USER=prod_user\nexport DB_PASSWORD=secure_production_password\nexport DB_HOST=db.example.com\nexport DB_PORT=5432\nexport DEBUG=False\nexport SECRET_KEY=production-secret-key\n</code></pre> <p>Or use a <code>.env.production</code> file (never commit this):</p> <pre><code>DB_NAME=production_db\nDB_USER=prod_user\nDB_PASSWORD=secure_production_password\nDB_HOST=db.example.com\nDB_PORT=5432\nDEBUG=False\nSECRET_KEY=production-secret-key\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"POSTGRESQL_SETUP.html#common-issues","title":"Common Issues","text":""},{"location":"POSTGRESQL_SETUP.html#1-connection-refused","title":"1. Connection Refused","text":"<pre><code># Check if PostgreSQL is running\nsudo systemctl status postgresql\n\n# Start if not running\nsudo systemctl start postgresql\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#2-authentication-failed","title":"2. Authentication Failed","text":"<ul> <li>Verify username and password in <code>.env</code></li> <li>Check PostgreSQL user exists: <code>\\du</code> in psql</li> <li>Verify user has database privileges</li> </ul>"},{"location":"POSTGRESQL_SETUP.html#3-database-does-not-exist","title":"3. Database Does Not Exist","text":"<pre><code>-- List databases\n\\l\n\n-- Create if missing\nCREATE DATABASE rest_api_db;\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#4-permission-denied","title":"4. Permission Denied","text":"<pre><code>-- Grant privileges\nGRANT ALL PRIVILEGES ON DATABASE rest_api_db TO rest_api_user;\n\\c rest_api_db\nGRANT ALL ON SCHEMA public TO rest_api_user;\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#5-port-already-in-use","title":"5. Port Already in Use","text":"<pre><code># Check what's using port 5432\nsudo lsof -i :5432\n\n# Or change PostgreSQL port in postgresql.conf\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#testing-connection","title":"Testing Connection","text":"<pre><code># In Django shell\npython manage.py shell\n</code></pre> <pre><code>from django.db import connection\n\n# Test connection\nconnection.ensure_connection()\nprint(\"Connection successful!\")\n\n# Check database name\nfrom django.conf import settings\nprint(settings.DATABASES['default']['NAME'])\n</code></pre>"},{"location":"POSTGRESQL_SETUP.html#next-steps","title":"Next Steps","text":"<p>Now that PostgreSQL is set up:</p> <ol> <li>Update your Django settings (as shown above)</li> <li>Run migrations: <code>python manage.py migrate</code></li> <li>Create a superuser: <code>python manage.py createsuperuser</code></li> <li>Start building your API!</li> </ol> <p>For more information, refer to: - Django Database Documentation - PostgreSQL Documentation - psycopg2 Documentation</p> <p>Ready to continue? Return to Level 1: Foundations to start building your API!</p>"}]}